(self.webpackChunkuser_owns_data=self.webpackChunkuser_owns_data||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},7149:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/powerbi-client.ts")}({"./node_modules/http-post-message/dist/httpPostMessage.js":function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t){"use strict";var r=function(){function e(e,t,r){void 0===t&&(t={}),this.defaultHeaders=t,this.defaultTargetWindow=r,this.windowPostMessageProxy=e}return e.addTrackingProperties=function(e,t){return e.headers=e.headers||{},t&&t.id&&(e.headers.id=t.id),e},e.getTrackingProperties=function(e){return{id:e.headers&&e.headers.id}},e.isErrorMessage=function(e){return"number"==typeof(e&&e.statusCode)&&!(200<=e.statusCode&&e.statusCode<300)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=this.defaultTargetWindow),this.send({method:"GET",url:e,headers:t},r)},e.prototype.post=function(e,t,r,n){return void 0===r&&(r={}),void 0===n&&(n=this.defaultTargetWindow),this.send({method:"POST",url:e,headers:r,body:t},n)},e.prototype.put=function(e,t,r,n){return void 0===r&&(r={}),void 0===n&&(n=this.defaultTargetWindow),this.send({method:"PUT",url:e,headers:r,body:t},n)},e.prototype.patch=function(e,t,r,n){return void 0===r&&(r={}),void 0===n&&(n=this.defaultTargetWindow),this.send({method:"PATCH",url:e,headers:r,body:t},n)},e.prototype.delete=function(e,t,r,n){return void 0===t&&(t=null),void 0===r&&(r={}),void 0===n&&(n=this.defaultTargetWindow),this.send({method:"DELETE",url:e,headers:r,body:t},n)},e.prototype.send=function(e,t){if(void 0===t&&(t=this.defaultTargetWindow),e.headers=this.assign({},this.defaultHeaders,e.headers),!t)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(t,e)},e.prototype.assign=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(null==e)throw new TypeError("Cannot convert undefined or null to object");var n=Object(e);return t.forEach(function(e){if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n},e}();t.HttpPostMessage=r}])},"./node_modules/powerbi-models/dist/models.js":function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.validateCustomTheme=t.validateCommandsSettings=t.validateVisualSettings=t.validateVisualHeader=t.validateExportDataRequest=t.validateQnaInterpretInputData=t.validateLoadQnaConfiguration=t.validateSaveAsParameters=t.validateUpdateFiltersRequest=t.validateFilter=t.validatePage=t.validateTileLoad=t.validateDashboardLoad=t.validateCreateReport=t.validatePaginatedReportLoad=t.validateReportLoad=t.validateMenuGroupExtension=t.validateExtension=t.validateCustomPageSize=t.validateVisualizationsPane=t.validateSyncSlicersPane=t.validateSelectionPane=t.validatePageNavigationPane=t.validateFieldsPane=t.validateFiltersPane=t.validateBookmarksPane=t.validatePanes=t.validateSettings=t.validateCaptureBookmarkRequest=t.validateApplyBookmarkStateRequest=t.validateApplyBookmarkByNameRequest=t.validateAddBookmarkRequest=t.validatePlayBookmarkRequest=t.validateSlicerState=t.validateSlicer=t.validateVisualSelector=t.isIExtensionArray=t.isIExtensions=t.isGroupedMenuExtension=t.isFlatMenuExtension=t.isReportFiltersArray=t.isOnLoadFilters=t.VisualDataRoleKindPreference=t.VisualDataRoleKind=t.CommandDisplayOption=t.SlicerTargetSelector=t.VisualTypeSelector=t.VisualSelector=t.PageSelector=t.Selector=t.SortDirection=t.LegendPosition=t.TextAlignment=t.CommonErrorCodes=t.BookmarksPlayMode=t.ExportDataType=t.QnaMode=t.PageNavigationPosition=t.isColumnAggr=t.isHierarchyLevelAggr=t.isHierarchyLevel=t.isColumn=t.isMeasure=t.getFilterType=t.isBasicFilterWithKeys=t.isFilterKeyColumnsTarget=t.AdvancedFilter=t.TupleFilter=t.IdentityFilter=t.BasicFilterWithKeys=t.BasicFilter=t.RelativeTimeFilter=t.RelativeDateFilter=t.TopNFilter=t.IncludeExcludeFilter=t.NotSupportedFilter=t.Filter=t.RelativeDateOperators=t.RelativeDateFilterTimeUnit=t.FilterType=t.FiltersLevel=t.FiltersOperations=t.MenuLocation=t.ContrastMode=t.TokenType=t.ViewMode=t.Permissions=t.SectionVisibility=t.HyperlinkClickBehavior=t.LayoutType=t.VisualContainerDisplayMode=t.BackgroundType=t.DisplayOption=t.PageSizeType=t.TraceType=void 0;var o,s=r(1);!function(e){e[e.Information=0]="Information",e[e.Verbose=1]="Verbose",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.ExpectedError=4]="ExpectedError",e[e.UnexpectedError=5]="UnexpectedError",e[e.Fatal=6]="Fatal"}(t.TraceType||(t.TraceType={})),function(e){e[e.Widescreen=0]="Widescreen",e[e.Standard=1]="Standard",e[e.Cortana=2]="Cortana",e[e.Letter=3]="Letter",e[e.Custom=4]="Custom",e[e.Mobile=5]="Mobile"}(t.PageSizeType||(t.PageSizeType={})),function(e){e[e.FitToPage=0]="FitToPage",e[e.FitToWidth=1]="FitToWidth",e[e.ActualSize=2]="ActualSize"}(t.DisplayOption||(t.DisplayOption={})),function(e){e[e.Default=0]="Default",e[e.Transparent=1]="Transparent"}(t.BackgroundType||(t.BackgroundType={})),function(e){e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden"}(t.VisualContainerDisplayMode||(t.VisualContainerDisplayMode={})),function(e){e[e.Master=0]="Master",e[e.Custom=1]="Custom",e[e.MobilePortrait=2]="MobilePortrait",e[e.MobileLandscape=3]="MobileLandscape"}(t.LayoutType||(t.LayoutType={})),function(e){e[e.Navigate=0]="Navigate",e[e.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",e[e.RaiseEvent=2]="RaiseEvent"}(t.HyperlinkClickBehavior||(t.HyperlinkClickBehavior={})),function(e){e[e.AlwaysVisible=0]="AlwaysVisible",e[e.HiddenInViewMode=1]="HiddenInViewMode"}(t.SectionVisibility||(t.SectionVisibility={})),function(e){e[e.Read=0]="Read",e[e.ReadWrite=1]="ReadWrite",e[e.Copy=2]="Copy",e[e.Create=4]="Create",e[e.All=7]="All"}(t.Permissions||(t.Permissions={})),function(e){e[e.View=0]="View",e[e.Edit=1]="Edit"}(t.ViewMode||(t.ViewMode={})),function(e){e[e.Aad=0]="Aad",e[e.Embed=1]="Embed"}(t.TokenType||(t.TokenType={})),function(e){e[e.None=0]="None",e[e.HighContrast1=1]="HighContrast1",e[e.HighContrast2=2]="HighContrast2",e[e.HighContrastBlack=3]="HighContrastBlack",e[e.HighContrastWhite=4]="HighContrastWhite"}(t.ContrastMode||(t.ContrastMode={})),function(e){e[e.Bottom=0]="Bottom",e[e.Top=1]="Top"}(t.MenuLocation||(t.MenuLocation={})),function(e){e[e.RemoveAll=0]="RemoveAll",e[e.ReplaceAll=1]="ReplaceAll",e[e.Add=2]="Add",e[e.Replace=3]="Replace"}(t.FiltersOperations||(t.FiltersOperations={})),function(e){e[e.Report=0]="Report",e[e.Page=1]="Page",e[e.Visual=2]="Visual"}(t.FiltersLevel||(t.FiltersLevel={})),function(e){e[e.Advanced=0]="Advanced",e[e.Basic=1]="Basic",e[e.Unknown=2]="Unknown",e[e.IncludeExclude=3]="IncludeExclude",e[e.RelativeDate=4]="RelativeDate",e[e.TopN=5]="TopN",e[e.Tuple=6]="Tuple",e[e.RelativeTime=7]="RelativeTime",e[e.Identity=8]="Identity"}(o=t.FilterType||(t.FilterType={})),function(e){e[e.Days=0]="Days",e[e.Weeks=1]="Weeks",e[e.CalendarWeeks=2]="CalendarWeeks",e[e.Months=3]="Months",e[e.CalendarMonths=4]="CalendarMonths",e[e.Years=5]="Years",e[e.CalendarYears=6]="CalendarYears",e[e.Minutes=7]="Minutes",e[e.Hours=8]="Hours"}(t.RelativeDateFilterTimeUnit||(t.RelativeDateFilterTimeUnit={})),function(e){e[e.InLast=0]="InLast",e[e.InThis=1]="InThis",e[e.InNext=2]="InNext"}(t.RelativeDateOperators||(t.RelativeDateOperators={}));var a=function(){function e(e,t){this.target=e,this.filterType=t}return e.prototype.toJSON=function(){var e={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(e.displaySettings=this.displaySettings),e},e}();t.Filter=a;var l=function(e){function t(r,n,i){var s=e.call(this,r,o.Unknown)||this;return s.message=n,s.notSupportedTypeName=i,s.schemaUrl=t.schemaUrl,s}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.message=this.message,t.notSupportedTypeName=this.notSupportedTypeName,t},t.schemaUrl="http://powerbi.com/product/schema#notSupported",t}(a);t.NotSupportedFilter=l;var c=function(e){function t(r,n,i){var s=e.call(this,r,o.IncludeExclude)||this;return s.values=i,s.isExclude=n,s.schemaUrl=t.schemaUrl,s}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.isExclude=this.isExclude,t.values=this.values,t},t.schemaUrl="http://powerbi.com/product/schema#includeExclude",t}(a);t.IncludeExcludeFilter=c;var u=function(e){function t(r,n,i,s){var a=e.call(this,r,o.TopN)||this;return a.operator=n,a.itemCount=i,a.schemaUrl=t.schemaUrl,a.orderBy=s,a}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.operator=this.operator,t.itemCount=this.itemCount,t.orderBy=this.orderBy,t},t.schemaUrl="http://powerbi.com/product/schema#topN",t}(a);t.TopNFilter=u;var d=function(e){function t(r,n,i,s,a){var l=e.call(this,r,o.RelativeDate)||this;return l.operator=n,l.timeUnitsCount=i,l.timeUnitType=s,l.includeToday=a,l.schemaUrl=t.schemaUrl,l}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.operator=this.operator,t.timeUnitsCount=this.timeUnitsCount,t.timeUnitType=this.timeUnitType,t.includeToday=this.includeToday,t},t.schemaUrl="http://powerbi.com/product/schema#relativeDate",t}(a);t.RelativeDateFilter=d;var h=function(e){function t(r,n,i,s){var a=e.call(this,r,o.RelativeTime)||this;return a.operator=n,a.timeUnitsCount=i,a.timeUnitType=s,a.schemaUrl=t.schemaUrl,a}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.operator=this.operator,t.timeUnitsCount=this.timeUnitsCount,t.timeUnitType=this.timeUnitType,t},t.schemaUrl="http://powerbi.com/product/schema#relativeTime",t}(a);t.RelativeTimeFilter=h;var p=function(e){function t(r,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=e.call(this,r,o.Basic)||this;if(a.operator=n,a.schemaUrl=t.schemaUrl,0===i.length&&"All"!==n)throw new Error('values must be a non-empty array unless your operator is "All".');return a.values=Array.isArray(i[0])?i[0]:i,a}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.operator=this.operator,t.values=this.values,t.requireSingleSelection=!!this.requireSingleSelection,t},t.schemaUrl="http://powerbi.com/product/schema#basic",t}(a);t.BasicFilter=p;var f=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n)||this;o.keyValues=i,o.target=t;var s=t.keys?t.keys.length:0;if(s>0&&!i)throw new Error("You should pass the values to be filtered for each key. You passed: no values and "+s+" keys");if(0===s&&i&&i.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var a=0,l=o.keyValues;a<l.length;a++){var c=l[a];if(c){var u=c.length;if(u!==s)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: "+u+" values and "+s+" keys")}}return o}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.keyValues=this.keyValues,t},t}(p);t.BasicFilterWithKeys=f;var g=function(e){function t(r,n){var i=e.call(this,r,o.Identity)||this;return i.operator=n,i.schemaUrl=t.schemaUrl,i}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.operator=this.operator,t.target=this.target,t},t.schemaUrl="http://powerbi.com/product/schema#identity",t}(a);t.IdentityFilter=g;var m=function(e){function t(r,n,i){var s=e.call(this,r,o.Tuple)||this;return s.operator=n,s.schemaUrl=t.schemaUrl,s.values=i,s}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.operator=this.operator,t.values=this.values,t.target=this.target,t},t.schemaUrl="http://powerbi.com/product/schema#tuple",t}(a);t.TupleFilter=m;var y=function(e){function t(r,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a,l=e.call(this,r,o.Advanced)||this;if(l.schemaUrl=t.schemaUrl,"string"!=typeof n||0===n.length)throw new Error("logicalOperator must be a valid operator, You passed: "+n);if(l.logicalOperator=n,0===(a=Array.isArray(i[0])?i[0]:i).length)throw new Error("conditions must be a non-empty array. You passed: "+i);if(a.length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: "+i.length);if(1===a.length&&"And"!==n)throw new Error('Logical Operator must be "And" when there is only one condition provided');return l.conditions=a,l}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.logicalOperator=this.logicalOperator,t.conditions=this.conditions,t},t.schemaUrl="http://powerbi.com/product/schema#advanced",t}(a);function v(e){if(e.filterType)return e.filterType;var t=e;return"string"==typeof e.operator&&Array.isArray(e.values)?o.Basic:"string"==typeof t.logicalOperator&&Array.isArray(t.conditions)?o.Advanced:o.Unknown}function w(e){return!(!e.table||!e.column||e.aggregationFunction)}t.AdvancedFilter=y,t.isFilterKeyColumnsTarget=function(e){return w(e)&&!!e.keys},t.isBasicFilterWithKeys=function(e){return v(e)===o.Basic&&!!e.keyValues},t.getFilterType=v,t.isMeasure=function(e){return void 0!==e.table&&void 0!==e.measure},t.isColumn=w,t.isHierarchyLevel=function(e){return!(!(e.table&&e.hierarchy&&e.hierarchyLevel)||e.aggregationFunction)},t.isHierarchyLevelAggr=function(e){return!!(e.table&&e.hierarchy&&e.hierarchyLevel&&e.aggregationFunction)},t.isColumnAggr=function(e){return!!(e.table&&e.column&&e.aggregationFunction)},function(e){e[e.Bottom=0]="Bottom",e[e.Left=1]="Left"}(t.PageNavigationPosition||(t.PageNavigationPosition={})),function(e){e[e.Interactive=0]="Interactive",e[e.ResultOnly=1]="ResultOnly"}(t.QnaMode||(t.QnaMode={})),function(e){e[e.Summarized=0]="Summarized",e[e.Underlying=1]="Underlying"}(t.ExportDataType||(t.ExportDataType={})),function(e){e[e.Off=0]="Off",e[e.Presentation=1]="Presentation"}(t.BookmarksPlayMode||(t.BookmarksPlayMode={})),t.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},t.TextAlignment={Left:"left",Center:"center",Right:"right"},t.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"},function(e){e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(t.SortDirection||(t.SortDirection={}));var b=function(){function e(e){this.$schema=e}return e.prototype.toJSON=function(){return{$schema:this.$schema}},e}();t.Selector=b;var _=function(e){function t(r){var n=e.call(this,t.schemaUrl)||this;return n.pageName=r,n}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.pageName=this.pageName,t},t.schemaUrl="http://powerbi.com/product/schema#pageSelector",t}(b);t.PageSelector=_;var E=function(e){function t(r){var n=e.call(this,t.schemaUrl)||this;return n.visualName=r,n}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.visualName=this.visualName,t},t.schemaUrl="http://powerbi.com/product/schema#visualSelector",t}(b);t.VisualSelector=E;var S=function(e){function t(t){var r=e.call(this,E.schemaUrl)||this;return r.visualType=t,r}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.visualType=this.visualType,t},t.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",t}(b);t.VisualTypeSelector=S;var C=function(e){function t(t){var r=e.call(this,E.schemaUrl)||this;return r.target=t,r}return i(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.target=this.target,t},t.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",t}(b);function T(e){return Array.isArray(e)}function A(e){return e&&!!e.groupName}function R(e){return Array.isArray(e)}function I(e){var t=e.message;return t||(t=e.path+" is invalid. Not meeting "+e.keyword+" constraint"),{message:t}}t.SlicerTargetSelector=C,function(e){e[e.Enabled=0]="Enabled",e[e.Disabled=1]="Disabled",e[e.Hidden=2]="Hidden"}(t.CommandDisplayOption||(t.CommandDisplayOption={})),function(e){e[e.Grouping=0]="Grouping",e[e.Measure=1]="Measure",e[e.GroupingOrMeasure=2]="GroupingOrMeasure"}(t.VisualDataRoleKind||(t.VisualDataRoleKind={})),function(e){e[e.Measure=0]="Measure",e[e.Grouping=1]="Grouping"}(t.VisualDataRoleKindPreference||(t.VisualDataRoleKindPreference={})),t.isOnLoadFilters=function(e){return e&&!T(e)},t.isReportFiltersArray=T,t.isFlatMenuExtension=function(e){return e&&!A(e)},t.isGroupedMenuExtension=A,t.isIExtensions=function(e){return e&&!R(e)},t.isIExtensionArray=R,t.validateVisualSelector=function(e){var t=s.Validators.visualSelectorValidator.validate(e);return t?t.map(I):void 0},t.validateSlicer=function(e){var t=s.Validators.slicerValidator.validate(e);return t?t.map(I):void 0},t.validateSlicerState=function(e){var t=s.Validators.slicerStateValidator.validate(e);return t?t.map(I):void 0},t.validatePlayBookmarkRequest=function(e){var t=s.Validators.playBookmarkRequestValidator.validate(e);return t?t.map(I):void 0},t.validateAddBookmarkRequest=function(e){var t=s.Validators.addBookmarkRequestValidator.validate(e);return t?t.map(I):void 0},t.validateApplyBookmarkByNameRequest=function(e){var t=s.Validators.applyBookmarkByNameRequestValidator.validate(e);return t?t.map(I):void 0},t.validateApplyBookmarkStateRequest=function(e){var t=s.Validators.applyBookmarkStateRequestValidator.validate(e);return t?t.map(I):void 0},t.validateCaptureBookmarkRequest=function(e){var t=s.Validators.captureBookmarkRequestValidator.validate(e);return t?t.map(I):void 0},t.validateSettings=function(e){var t=s.Validators.settingsValidator.validate(e);return t?t.map(I):void 0},t.validatePanes=function(e){var t=s.Validators.reportPanesValidator.validate(e);return t?t.map(I):void 0},t.validateBookmarksPane=function(e){var t=s.Validators.bookmarksPaneValidator.validate(e);return t?t.map(I):void 0},t.validateFiltersPane=function(e){var t=s.Validators.filtersPaneValidator.validate(e);return t?t.map(I):void 0},t.validateFieldsPane=function(e){var t=s.Validators.fieldsPaneValidator.validate(e);return t?t.map(I):void 0},t.validatePageNavigationPane=function(e){var t=s.Validators.pageNavigationPaneValidator.validate(e);return t?t.map(I):void 0},t.validateSelectionPane=function(e){var t=s.Validators.selectionPaneValidator.validate(e);return t?t.map(I):void 0},t.validateSyncSlicersPane=function(e){var t=s.Validators.syncSlicersPaneValidator.validate(e);return t?t.map(I):void 0},t.validateVisualizationsPane=function(e){var t=s.Validators.visualizationsPaneValidator.validate(e);return t?t.map(I):void 0},t.validateCustomPageSize=function(e){var t=s.Validators.customPageSizeValidator.validate(e);return t?t.map(I):void 0},t.validateExtension=function(e){var t=s.Validators.extensionValidator.validate(e);return t?t.map(I):void 0},t.validateMenuGroupExtension=function(e){var t=s.Validators.menuGroupExtensionValidator.validate(e);return t?t.map(I):void 0},t.validateReportLoad=function(e){var t=s.Validators.reportLoadValidator.validate(e);return t?t.map(I):void 0},t.validatePaginatedReportLoad=function(e){var t=s.Validators.paginatedReportLoadValidator.validate(e);return t?t.map(I):void 0},t.validateCreateReport=function(e){var t=s.Validators.reportCreateValidator.validate(e);return t?t.map(I):void 0},t.validateDashboardLoad=function(e){var t=s.Validators.dashboardLoadValidator.validate(e);return t?t.map(I):void 0},t.validateTileLoad=function(e){var t=s.Validators.tileLoadValidator.validate(e);return t?t.map(I):void 0},t.validatePage=function(e){var t=s.Validators.pageValidator.validate(e);return t?t.map(I):void 0},t.validateFilter=function(e){var t=s.Validators.filterValidator.validate(e);return t?t.map(I):void 0},t.validateUpdateFiltersRequest=function(e){var t=s.Validators.updateFiltersRequestValidator.validate(e);return t?t.map(I):void 0},t.validateSaveAsParameters=function(e){var t=s.Validators.saveAsParametersValidator.validate(e);return t?t.map(I):void 0},t.validateLoadQnaConfiguration=function(e){var t=s.Validators.loadQnaValidator.validate(e);return t?t.map(I):void 0},t.validateQnaInterpretInputData=function(e){var t=s.Validators.qnaInterpretInputDataValidator.validate(e);return t?t.map(I):void 0},t.validateExportDataRequest=function(e){var t=s.Validators.exportDataRequestValidator.validate(e);return t?t.map(I):void 0},t.validateVisualHeader=function(e){var t=s.Validators.visualHeaderValidator.validate(e);return t?t.map(I):void 0},t.validateVisualSettings=function(e){var t=s.Validators.visualSettingsValidator.validate(e);return t?t.map(I):void 0},t.validateCommandsSettings=function(e){var t=s.Validators.commandsSettingsValidator.validate(e);return t?t.map(I):void 0},t.validateCustomTheme=function(e){var t=s.Validators.customThemeValidator.validate(e);return t?t.map(I):void 0}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Validators=void 0;var n=r(2),i=r(5),o=r(6),s=r(7),a=r(8),l=r(9),c=r(10),u=r(11),d=r(12),h=r(13),p=r(14),f=r(15),g=r(16),m=r(17),y=r(18),v=r(19),w=r(20),b=r(21),_=r(22),E=r(23),S=r(24),C=r(25),T=r(26),A=r(27),R=r(28),I=r(29),O=r(4),k=r(30);t.Validators={addBookmarkRequestValidator:new i.AddBookmarkRequestValidator,advancedFilterTypeValidator:new O.EnumValidator([0]),advancedFilterValidator:new d.AdvancedFilterValidator,anyArrayValidator:new O.ArrayValidator([new T.AnyOfValidator([new O.StringValidator,new O.NumberValidator,new O.BooleanValidator])]),anyFilterValidator:new T.AnyOfValidator([new d.BasicFilterValidator,new d.AdvancedFilterValidator,new d.IncludeExcludeFilterValidator,new d.NotSupportedFilterValidator,new d.RelativeDateFilterValidator,new d.TopNFilterValidator,new d.RelativeTimeFilterValidator]),anyValueValidator:new T.AnyOfValidator([new O.StringValidator,new O.NumberValidator,new O.BooleanValidator]),actionBarValidator:new n.ActionBarValidator,applyBookmarkByNameRequestValidator:new i.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new i.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new T.AnyOfValidator([new i.ApplyBookmarkByNameRequestValidator,new i.ApplyBookmarkStateRequestValidator]),backgroundValidator:new O.EnumValidator([0,1]),basicFilterTypeValidator:new O.EnumValidator([1]),basicFilterValidator:new d.BasicFilterValidator,booleanArrayValidator:new O.BooleanArrayValidator,booleanValidator:new O.BooleanValidator,bookmarksPaneValidator:new f.BookmarksPaneValidator,captureBookmarkOptionsValidator:new i.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new i.CaptureBookmarkRequestValidator,commandDisplayOptionValidator:new O.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new T.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new O.ArrayValidator([new u.CommandExtensionValidator]),commandExtensionValidator:new u.CommandExtensionValidator,commandsSettingsArrayValidator:new O.ArrayValidator([new o.CommandsSettingsValidator]),commandsSettingsValidator:new o.CommandsSettingsValidator,conditionItemValidator:new d.ConditionItemValidator,contrastModeValidator:new O.EnumValidator([0,1,2,3,4]),customLayoutDisplayOptionValidator:new O.EnumValidator([0,1,2]),customLayoutValidator:new h.CustomLayoutValidator,customPageSizeValidator:new p.CustomPageSizeValidator,customThemeValidator:new s.CustomThemeValidator,dashboardLoadValidator:new a.DashboardLoadValidator,datasetBindingValidator:new l.DatasetBindingValidator,displayStateModeValidator:new O.EnumValidator([0,1]),displayStateValidator:new h.DisplayStateValidator,exportDataRequestValidator:new c.ExportDataRequestValidator,extensionArrayValidator:new O.ArrayValidator([new u.ExtensionValidator]),extensionsValidator:new T.AnyOfValidator([new O.ArrayValidator([new u.ExtensionValidator]),new u.ExtensionsValidator]),extensionPointsValidator:new u.ExtensionPointsValidator,extensionValidator:new u.ExtensionValidator,fieldForbiddenValidator:new A.FieldForbiddenValidator,fieldRequiredValidator:new R.FieldRequiredValidator,fieldsPaneValidator:new f.FieldsPaneValidator,filterColumnTargetValidator:new d.FilterColumnTargetValidator,filterDisplaySettingsValidator:new d.FilterDisplaySettingsValidator,filterConditionsValidator:new O.ArrayValidator([new d.ConditionItemValidator]),filterHierarchyTargetValidator:new d.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new d.FilterMeasureTargetValidator,filterTargetValidator:new T.AnyOfValidator([new d.FilterColumnTargetValidator,new d.FilterHierarchyTargetValidator,new d.FilterMeasureTargetValidator]),filterValidator:new d.FilterValidator,filterTypeValidator:new O.EnumValidator([0,1,2,3,4,5,6,7]),filtersArrayValidator:new O.ArrayValidator([new d.FilterValidator]),filtersOperationsUpdateValidator:new O.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new O.EnumValidator([0]),filtersPaneValidator:new f.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new O.EnumValidator([0,1,2]),includeExcludeFilterValidator:new d.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new O.EnumValidator([3]),layoutTypeValidator:new O.EnumValidator([0,1,2,3]),loadQnaValidator:new g.LoadQnaValidator,menuExtensionValidator:new T.AnyOfValidator([new u.FlatMenuExtensionValidator,new u.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new O.ArrayValidator([new u.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new u.MenuGroupExtensionValidator,menuLocationValidator:new O.EnumValidator([0,1]),notSupportedFilterTypeValidator:new O.EnumValidator([2]),notSupportedFilterValidator:new d.NotSupportedFilterValidator,numberArrayValidator:new O.NumberArrayValidator,numberValidator:new O.NumberValidator,onLoadFiltersBaseValidator:new T.AnyOfValidator([new d.OnLoadFiltersBaseValidator,new d.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new I.MapValidator([new O.StringValidator],[new h.VisualLayoutValidator]),pageNavigationPaneValidator:new f.PageNavigationPaneValidator,pageNavigationPositionValidator:new O.EnumValidator([0,1]),pageSizeTypeValidator:new O.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new p.PageSizeValidator,pageValidator:new p.PageValidator,pageViewFieldValidator:new p.PageViewFieldValidator,pagesLayoutValidator:new I.MapValidator([new O.StringValidator],[new h.PageLayoutValidator]),paginatedReportCommandsValidator:new o.PaginatedReportCommandsValidator,paginatedReportLoadValidator:new v.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new _.PaginatedReportSettingsValidator,parametersPanelValidator:new k.ParametersPanelValidator,permissionsValidator:new O.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new i.PlayBookmarkRequestValidator,qnaInterpretInputDataValidator:new g.QnaInterpretInputDataValidator,qnaPanesValidator:new f.QnaPanesValidator,qnaSettingValidator:new g.QnaSettingsValidator,relativeDateFilterOperatorValidator:new O.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new O.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new O.EnumValidator([4]),relativeDateFilterValidator:new d.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new O.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new O.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new O.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new O.EnumValidator([7]),relativeTimeFilterValidator:new d.RelativeTimeFilterValidator,reportBarsValidator:new n.ReportBarsValidator,reportCreateValidator:new m.ReportCreateValidator,reportLoadFiltersValidator:new T.AnyOfValidator([new O.ArrayValidator([new d.FilterValidator]),new d.OnLoadFiltersValidator]),reportLoadValidator:new y.ReportLoadValidator,reportPanesValidator:new f.ReportPanesValidator,saveAsParametersValidator:new w.SaveAsParametersValidator,selectionPaneValidator:new f.SelectionPaneValidator,settingsValidator:new _.SettingsValidator,singleCommandSettingsValidator:new o.SingleCommandSettingsValidator,slicerSelectorValidator:new T.AnyOfValidator([new b.VisualSelectorValidator,new b.SlicerTargetSelectorValidator]),slicerStateValidator:new E.SlicerStateValidator,slicerTargetValidator:new T.AnyOfValidator([new d.FilterColumnTargetValidator,new d.FilterHierarchyTargetValidator,new d.FilterMeasureTargetValidator,new d.FilterKeyColumnsTargetValidator,new d.FilterKeyHierarchyTargetValidator]),slicerValidator:new E.SlicerValidator,stringArrayValidator:new O.StringArrayValidator,stringValidator:new O.StringValidator,syncSlicersPaneValidator:new f.SyncSlicersPaneValidator,tileLoadValidator:new S.TileLoadValidator,tokenTypeValidator:new O.EnumValidator([0,1]),topNFilterTypeValidator:new O.EnumValidator([5]),topNFilterValidator:new d.TopNFilterValidator,updateFiltersRequestValidator:new T.AnyOfValidator([new d.UpdateFiltersRequestValidator,new d.RemoveFiltersRequestValidator]),viewModeValidator:new O.EnumValidator([0,1]),visualCommandSelectorValidator:new T.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new T.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new C.VisualHeaderSettingsValidator,visualHeaderValidator:new C.VisualHeaderValidator,visualHeadersValidator:new O.ArrayValidator([new C.VisualHeaderValidator]),visualizationsPaneValidator:new f.VisualizationsPaneValidator,visualLayoutValidator:new h.VisualLayoutValidator,visualSelectorValidator:new b.VisualSelectorValidator,visualSettingsValidator:new C.VisualSettingsValidator,visualTypeSelectorValidator:new b.VisualTypeSelectorValidator}},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBarValidator=t.ReportBarsValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"actionBar",validators:[a.Validators.actionBarValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ReportBarsValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visible",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ActionBarValidator=c},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleFieldsValidator=void 0;var r=function(){function e(e){this.fieldValidatorsPairs=e}return e.prototype.validate=function(e,t,r){if(!this.fieldValidatorsPairs)return null;for(var n=t?t+"."+r:r,i=0,o=this.fieldValidatorsPairs;i<o.length;i++)for(var s=o[i],a=0,l=s.validators;a<l.length;a++){var c=l[a].validate(e[s.field],n,s.field);if(c)return c}return null},e}();t.MultipleFieldsValidator=r},function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.NumberArrayValidator=t.BooleanArrayValidator=t.StringArrayValidator=t.EnumValidator=t.SchemaValidator=t.ValueValidator=t.NumberValidator=t.BooleanValidator=t.StringValidator=t.TypeValidator=t.ArrayValidator=t.ObjectValidator=void 0;var i=function(){function e(){}return e.prototype.validate=function(e,t,r){return null==e?null:"object"!=typeof e||Array.isArray(e)?[{message:void 0!==r?r+" must be an object":"input must be an object",path:t,keyword:"type"}]:null},e}();t.ObjectValidator=i;var o=function(){function e(e){this.itemValidators=e}return e.prototype.validate=function(e,t,r){if(null==e)return null;if(!Array.isArray(e))return[{message:r+" property is invalid",path:(t?t+".":"")+r,keyword:"type"}];for(var n=0;n<e.length;n++)for(var i=(t?t+".":"")+r+"."+n,o=0,s=this.itemValidators;o<s.length;o++)if(s[o].validate(e[n],i,r))return[{message:r+" property is invalid",path:(t?t+".":"")+r,keyword:"type"}];return null},e}();t.ArrayValidator=o;var s=function(){function e(e){this.expectedType=e}return e.prototype.validate=function(e,t,r){return null==e?null:typeof e!==this.expectedType?[{message:r+" must be a "+this.expectedType,path:(t?t+".":"")+r,keyword:"type"}]:null},e}();t.TypeValidator=s;var a=function(e){function t(){return e.call(this,"string")||this}return n(t,e),t}(s);t.StringValidator=a;var l=function(e){function t(){return e.call(this,"boolean")||this}return n(t,e),t}(s);t.BooleanValidator=l;var c=function(e){function t(){return e.call(this,"number")||this}return n(t,e),t}(s);t.NumberValidator=c;var u=function(){function e(e){this.possibleValues=e}return e.prototype.validate=function(e,t,r){return null==e?null:this.possibleValues.indexOf(e)<0?[{message:r+" property is invalid",path:(t?t+".":"")+r,keyword:"invalid"}]:null},e}();t.ValueValidator=u;var d=function(e){function t(t){var r=e.call(this,[t])||this;return r.schemaValue=t,r}return n(t,e),t.prototype.validate=function(t,r,n){return e.prototype.validate.call(this,t,r,n)},t}(u);t.SchemaValidator=d;var h=function(e){function t(t){var r=e.call(this)||this;return r.possibleValues=t,r}return n(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new u(this.possibleValues).validate(t,r,n)},t}(c);t.EnumValidator=h;var p=function(e){function t(){return e.call(this,[new a])||this}return n(t,e),t.prototype.validate=function(t,r,n){return e.prototype.validate.call(this,t,r,n)?[{message:n+" must be an array of strings",path:(r?r+".":"")+n,keyword:"type"}]:null},t}(o);t.StringArrayValidator=p;var f=function(e){function t(){return e.call(this,[new l])||this}return n(t,e),t.prototype.validate=function(t,r,n){return e.prototype.validate.call(this,t,r,n)?[{message:n+" must be an array of booleans",path:(r?r+".":"")+n,keyword:"type"}]:null},t}(o);t.BooleanArrayValidator=f;var g=function(e){function t(){return e.call(this,[new c])||this}return n(t,e),t.prototype.validate=function(t,r,n){return e.prototype.validate.call(this,t,r,n)?[{message:n+" must be an array of numbers",path:(r?r+".":"")+n,keyword:"type"}]:null},t}(o);t.NumberArrayValidator=g},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureBookmarkRequestValidator=t.CaptureBookmarkOptionsValidator=t.ApplyBookmarkStateRequestValidator=t.ApplyBookmarkByNameRequestValidator=t.AddBookmarkRequestValidator=t.PlayBookmarkRequestValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){if(null==t)return null;var i=e.prototype.validate.call(this,t,r,n);if(i)return i;var l=[{field:"playMode",validators:[a.Validators.fieldRequiredValidator,new s.EnumValidator([0,1])]}];return new o.MultipleFieldsValidator(l).validate(t,r,n)},t}(s.ObjectValidator);t.PlayBookmarkRequestValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"state",validators:[a.Validators.stringValidator]},{field:"displayName",validators:[a.Validators.stringValidator]},{field:"apply",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.AddBookmarkRequestValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"name",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ApplyBookmarkByNameRequestValidator=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"state",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ApplyBookmarkStateRequestValidator=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"personalizeVisuals",validators:[a.Validators.booleanValidator]},{field:"allPages",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.CaptureBookmarkOptionsValidator=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"options",validators:[a.Validators.fieldRequiredValidator,a.Validators.captureBookmarkOptionsValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.CaptureBookmarkRequestValidator=p},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportCommandsValidator=t.SingleCommandSettingsValidator=t.CommandsSettingsValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"copy",validators:[a.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[a.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[a.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[a.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[a.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[a.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[a.Validators.singleCommandSettingsValidator]},{field:"search",validators:[a.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[a.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[a.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[a.Validators.singleCommandSettingsValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.CommandsSettingsValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"displayOption",validators:[a.Validators.fieldRequiredValidator,a.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[a.Validators.visualCommandSelectorValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.SingleCommandSettingsValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"parameterPanel",validators:[a.Validators.parametersPanelValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.PaginatedReportCommandsValidator=u},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CustomThemeValidator=void 0;var o=r(3),s=r(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){if(null==t)return null;var i=e.prototype.validate.call(this,t,r,n);if(i)return i;var a=[{field:"themeJson",validators:[new s.ObjectValidator]}];return new o.MultipleFieldsValidator(a).validate(t,r,n)},t}(s.ObjectValidator);t.CustomThemeValidator=a},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardLoadValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"accessToken",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"id",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"groupId",validators:[a.Validators.stringValidator]},{field:"pageView",validators:[a.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[a.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.DashboardLoadValidator=l},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetBindingValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"datasetId",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.DatasetBindingValidator=l},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExportDataRequestValidator=void 0;var o=r(3),s=r(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){if(null==t)return null;var i=e.prototype.validate.call(this,t,r,n);if(i)return i;var a=[{field:"rows",validators:[new s.NumberValidator]},{field:"exportDataType",validators:[new s.EnumValidator([0,1])]}];return new o.MultipleFieldsValidator(a).validate(t,r,n)},t}(s.ObjectValidator);t.ExportDataRequestValidator=a},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsValidator=t.MenuGroupExtensionValidator=t.ExtensionValidator=t.CommandExtensionValidator=t.ExtensionItemValidator=t.ExtensionPointsValidator=t.GroupedMenuExtensionValidator=t.FlatMenuExtensionValidator=t.MenuExtensionBaseValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"title",validators:[a.Validators.stringValidator]},{field:"icon",validators:[a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.MenuExtensionBaseValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"menuLocation",validators:[a.Validators.menuLocationValidator]},{field:"groupName",validators:[a.Validators.fieldForbiddenValidator]}]).validate(t,r,n)},t}(l);t.FlatMenuExtensionValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"groupName",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"menuLocation",validators:[a.Validators.fieldForbiddenValidator]}]).validate(t,r,n)},t}(l);t.GroupedMenuExtensionValidator=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visualContextMenu",validators:[a.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[a.Validators.menuExtensionValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ExtensionPointsValidator=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"name",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"extend",validators:[a.Validators.fieldRequiredValidator,a.Validators.extensionPointsValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ExtensionItemValidator=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"title",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"icon",validators:[a.Validators.stringValidator]},{field:"selector",validators:[a.Validators.commandExtensionSelectorValidator]}]).validate(t,r,n)},t}(h);t.CommandExtensionValidator=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"command",validators:[a.Validators.commandExtensionValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ExtensionValidator=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"name",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"title",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"menuLocation",validators:[a.Validators.menuLocationValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.MenuGroupExtensionValidator=g;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"commands",validators:[a.Validators.fieldRequiredValidator,a.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[a.Validators.menuGroupExtensionArrayValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ExtensionsValidator=m},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.OnLoadFiltersValidator=t.OnLoadFiltersBaseRemoveOperationValidator=t.OnLoadFiltersBaseValidator=t.ConditionItemValidator=t.RemoveFiltersRequestValidator=t.UpdateFiltersRequestValidator=t.FilterValidator=t.IncludeExcludeFilterValidator=t.NotSupportedFilterValidator=t.TopNFilterValidator=t.RelativeTimeFilterValidator=t.RelativeDateFilterValidator=t.RelativeDateTimeFilterValidator=t.AdvancedFilterValidator=t.BasicFilterValidator=t.FilterValidatorBase=t.FilterDisplaySettingsValidator=t.FilterMeasureTargetValidator=t.FilterKeyHierarchyTargetValidator=t.FilterHierarchyTargetValidator=t.FilterKeyColumnsTargetValidator=t.FilterColumnTargetValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"table",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"column",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.FilterColumnTargetValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"keys",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringArrayValidator]}]).validate(t,r,n)},t}(l);t.FilterKeyColumnsTargetValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"table",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"hierarchy",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"hierarchyLevel",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.FilterHierarchyTargetValidator=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"keys",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringArrayValidator]}]).validate(t,r,n)},t}(u);t.FilterKeyHierarchyTargetValidator=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"table",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"measure",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.FilterMeasureTargetValidator=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"isLockedInViewMode",validators:[a.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[a.Validators.booleanValidator]},{field:"displayName",validators:[a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.FilterDisplaySettingsValidator=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"target",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterTargetValidator]},{field:"$schema",validators:[a.Validators.stringValidator]},{field:"filterType",validators:[a.Validators.filterTypeValidator]},{field:"displaySettings",validators:[a.Validators.filterDisplaySettingsValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.FilterValidatorBase=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"operator",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"values",validators:[a.Validators.fieldRequiredValidator,a.Validators.anyArrayValidator]},{field:"filterType",validators:[a.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(f);t.BasicFilterValidator=g;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"logicalOperator",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"conditions",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterConditionsValidator]},{field:"filterType",validators:[a.Validators.advancedFilterTypeValidator]}]).validate(t,r,n)},t}(f);t.AdvancedFilterValidator=m;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"operator",validators:[a.Validators.fieldRequiredValidator,a.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[a.Validators.numberValidator]},{field:"timeUnitType",validators:[a.Validators.fieldRequiredValidator,a.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[a.Validators.relativeDateTimeFilterTypeValidator]}]).validate(t,r,n)},t}(f);t.RelativeDateTimeFilterValidator=y;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"includeToday",validators:[a.Validators.fieldRequiredValidator,a.Validators.booleanValidator]},{field:"timeUnitType",validators:[a.Validators.fieldRequiredValidator,a.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[a.Validators.relativeDateFilterTypeValidator]}]).validate(t,r,n)},t}(y);t.RelativeDateFilterValidator=v;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"timeUnitType",validators:[a.Validators.fieldRequiredValidator,a.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[a.Validators.relativeTimeFilterTypeValidator]}]).validate(t,r,n)},t}(y);t.RelativeTimeFilterValidator=w;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"operator",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"itemCount",validators:[a.Validators.fieldRequiredValidator,a.Validators.numberValidator]},{field:"filterType",validators:[a.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterTargetValidator]}]).validate(t,r,n)},t}(f);t.TopNFilterValidator=b;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"message",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"filterType",validators:[a.Validators.notSupportedFilterTypeValidator]}]).validate(t,r,n)},t}(f);t.NotSupportedFilterValidator=_;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"isExclude",validators:[a.Validators.fieldRequiredValidator,a.Validators.booleanValidator]},{field:"values",validators:[a.Validators.fieldRequiredValidator,a.Validators.anyArrayValidator]},{field:"filterType",validators:[a.Validators.includeExludeFilterTypeValidator]}]).validate(t,r,n)},t}(f);t.IncludeExcludeFilterValidator=E;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||a.Validators.anyFilterValidator.validate(t,r,n)},t}(s.ObjectValidator);t.FilterValidator=S;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"filtersOperation",validators:[a.Validators.fieldRequiredValidator,a.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[a.Validators.fieldRequiredValidator,a.Validators.filtersArrayValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.UpdateFiltersRequestValidator=C;var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"filtersOperation",validators:[a.Validators.fieldRequiredValidator,a.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[a.Validators.fieldForbiddenValidator,a.Validators.filtersArrayValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.RemoveFiltersRequestValidator=T;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"value",validators:[a.Validators.anyValueValidator]},{field:"operator",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ConditionItemValidator=A;var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"operation",validators:[a.Validators.fieldRequiredValidator,a.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[a.Validators.fieldRequiredValidator,a.Validators.filtersArrayValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.OnLoadFiltersBaseValidator=R;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"operation",validators:[a.Validators.fieldRequiredValidator,a.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[a.Validators.fieldForbiddenValidator,a.Validators.filtersArrayValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.OnLoadFiltersBaseRemoveOperationValidator=I;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"allPages",validators:[a.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[a.Validators.onLoadFiltersBaseValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.OnLoadFiltersValidator=O},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutValidator=t.DisplayStateValidator=t.VisualLayoutValidator=t.CustomLayoutValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"pageSize",validators:[a.Validators.pageSizeValidator]},{field:"displayOption",validators:[a.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[a.Validators.pagesLayoutValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.CustomLayoutValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"x",validators:[a.Validators.numberValidator]},{field:"y",validators:[a.Validators.numberValidator]},{field:"z",validators:[a.Validators.numberValidator]},{field:"width",validators:[a.Validators.numberValidator]},{field:"height",validators:[a.Validators.numberValidator]},{field:"displayState",validators:[a.Validators.displayStateValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.VisualLayoutValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"mode",validators:[a.Validators.displayStateModeValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.DisplayStateValidator=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visualsLayout",validators:[a.Validators.fieldRequiredValidator,a.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[a.Validators.visualLayoutValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.PageLayoutValidator=d},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PageViewFieldValidator=t.PageValidator=t.CustomPageSizeValidator=t.PageSizeValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"type",validators:[a.Validators.fieldRequiredValidator,a.Validators.pageSizeTypeValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.PageSizeValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"width",validators:[a.Validators.numberValidator]},{field:"height",validators:[a.Validators.numberValidator]}]).validate(t,r,n)},t}(l);t.CustomPageSizeValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"name",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.PageValidator=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||(["actualSize","fitToWidth","oneColumn"].indexOf(t)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null)},t}(s.StringValidator);t.PageViewFieldValidator=d},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizationsPaneValidator=t.SyncSlicersPaneValidator=t.SelectionPaneValidator=t.PageNavigationPaneValidator=t.FiltersPaneValidator=t.FieldsPaneValidator=t.BookmarksPaneValidator=t.QnaPanesValidator=t.ReportPanesValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"bookmarks",validators:[a.Validators.bookmarksPaneValidator]},{field:"fields",validators:[a.Validators.fieldsPaneValidator]},{field:"filters",validators:[a.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[a.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[a.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[a.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[a.Validators.visualizationsPaneValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ReportPanesValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"filters",validators:[a.Validators.filtersPaneValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.QnaPanesValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visible",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.BookmarksPaneValidator=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"expanded",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.FieldsPaneValidator=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visible",validators:[a.Validators.booleanValidator]},{field:"expanded",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.FiltersPaneValidator=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visible",validators:[a.Validators.booleanValidator]},{field:"position",validators:[a.Validators.pageNavigationPositionValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.PageNavigationPaneValidator=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visible",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.SelectionPaneValidator=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visible",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.SyncSlicersPaneValidator=g;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"expanded",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.VisualizationsPaneValidator=m},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QnaInterpretInputDataValidator=t.QnaSettingsValidator=t.LoadQnaValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"accessToken",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"datasetIds",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringArrayValidator]},{field:"question",validators:[a.Validators.stringValidator]},{field:"viewMode",validators:[a.Validators.viewModeValidator]},{field:"settings",validators:[a.Validators.qnaSettingValidator]},{field:"tokenType",validators:[a.Validators.tokenTypeValidator]},{field:"groupId",validators:[a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.LoadQnaValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[a.Validators.booleanValidator]},{field:"hideErrors",validators:[a.Validators.booleanValidator]},{field:"panes",validators:[a.Validators.qnaPanesValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.QnaSettingsValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"datasetIds",validators:[a.Validators.stringArrayValidator]},{field:"question",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.QnaInterpretInputDataValidator=u},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReportCreateValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"accessToken",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"datasetId",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"groupId",validators:[a.Validators.stringValidator]},{field:"tokenType",validators:[a.Validators.tokenTypeValidator]},{field:"theme",validators:[a.Validators.customThemeValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ReportCreateValidator=l},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReportLoadValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"accessToken",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"id",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"groupId",validators:[a.Validators.stringValidator]},{field:"settings",validators:[a.Validators.settingsValidator]},{field:"pageName",validators:[a.Validators.stringValidator]},{field:"filters",validators:[a.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[a.Validators.permissionsValidator]},{field:"viewMode",validators:[a.Validators.viewModeValidator]},{field:"tokenType",validators:[a.Validators.tokenTypeValidator]},{field:"bookmark",validators:[a.Validators.applyBookmarkValidator]},{field:"theme",validators:[a.Validators.customThemeValidator]},{field:"embedUrl",validators:[a.Validators.stringValidator]},{field:"datasetBinding",validators:[a.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[a.Validators.contrastModeValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ReportLoadValidator=l},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportLoadValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"accessToken",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"id",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"groupId",validators:[a.Validators.stringValidator]},{field:"settings",validators:[a.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[a.Validators.tokenTypeValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.PaginatedReportLoadValidator=l},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.SaveAsParametersValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"name",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.SaveAsParametersValidator=l},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerTargetSelectorValidator=t.VisualTypeSelectorValidator=t.VisualSelectorValidator=void 0;var o=r(3),s=r(4),a=r(4),l=r(1),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){if(null==t)return null;var i=e.prototype.validate.call(this,t,r,n);if(i)return i;var s=[{field:"$schema",validators:[l.Validators.stringValidator,new a.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[l.Validators.fieldRequiredValidator,l.Validators.stringValidator]}];return new o.MultipleFieldsValidator(s).validate(t,r,n)},t}(s.ObjectValidator);t.VisualSelectorValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){if(null==t)return null;var i=e.prototype.validate.call(this,t,r,n);if(i)return i;var s=[{field:"$schema",validators:[l.Validators.fieldRequiredValidator,l.Validators.stringValidator,new a.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[l.Validators.fieldRequiredValidator,l.Validators.stringValidator]}];return new o.MultipleFieldsValidator(s).validate(t,r,n)},t}(s.ObjectValidator);t.VisualTypeSelectorValidator=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){if(null==t)return null;var i=e.prototype.validate.call(this,t,r,n);if(i)return i;var s=[{field:"$schema",validators:[l.Validators.fieldRequiredValidator,l.Validators.stringValidator,new a.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[l.Validators.fieldRequiredValidator,l.Validators.slicerTargetValidator]}];return new o.MultipleFieldsValidator(s).validate(t,r,n)},t}(s.ObjectValidator);t.SlicerTargetSelectorValidator=d},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportSettingsValidator=t.SettingsValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[a.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[a.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[a.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[a.Validators.booleanValidator]},{field:"extensions",validators:[a.Validators.extensionsValidator]},{field:"layoutType",validators:[a.Validators.layoutTypeValidator]},{field:"customLayout",validators:[a.Validators.customLayoutValidator]},{field:"background",validators:[a.Validators.backgroundValidator]},{field:"visualSettings",validators:[a.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[a.Validators.booleanValidator]},{field:"commands",validators:[a.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[a.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[a.Validators.reportBarsValidator]},{field:"panes",validators:[a.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[a.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[a.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[a.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.SettingsValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"commands",validators:[a.Validators.paginatedReportCommandsValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.PaginatedReportSettingsValidator=c},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerStateValidator=t.SlicerValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"selector",validators:[a.Validators.fieldRequiredValidator,a.Validators.slicerSelectorValidator]},{field:"state",validators:[a.Validators.fieldRequiredValidator,a.Validators.slicerStateValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.SlicerValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"filters",validators:[a.Validators.filtersArrayValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.SlicerStateValidator=c},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.TileLoadValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"accessToken",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"id",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"dashboardId",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:"groupId",validators:[a.Validators.stringValidator]},{field:"pageView",validators:[a.Validators.stringValidator]},{field:"tokenType",validators:[a.Validators.tokenTypeValidator]},{field:"width",validators:[a.Validators.numberValidator]},{field:"height",validators:[a.Validators.numberValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.TileLoadValidator=l},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualHeaderValidator=t.VisualHeaderSettingsValidator=t.VisualSettingsValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visualHeaders",validators:[a.Validators.visualHeadersValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.VisualSettingsValidator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"visible",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.VisualHeaderSettingsValidator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"settings",validators:[a.Validators.fieldRequiredValidator,a.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[a.Validators.visualHeaderSelectorValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.VisualHeaderValidator=u},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AnyOfValidator=void 0;var r=function(){function e(e){this.validators=e}return e.prototype.validate=function(e,t,r){if(null==e)return null;for(var n=!1,i=0,o=this.validators;i<o.length;i++)if(!o[i].validate(e,t,r)){n=!0;break}return n?null:[{message:r+" property is invalid",path:(t?t+".":"")+r,keyword:"invalid"}]},e}();t.AnyOfValidator=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FieldForbiddenValidator=void 0;var r=function(){function e(){}return e.prototype.validate=function(e,t,r){return void 0!==e?[{message:r+" is forbidden",path:(t?t+".":"")+r,keyword:"forbidden"}]:null},e}();t.FieldForbiddenValidator=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FieldRequiredValidator=void 0;var r=function(){function e(){}return e.prototype.validate=function(e,t,r){return null==e?[{message:r+" is required",path:(t?t+".":"")+r,keyword:"required"}]:null},e}();t.FieldRequiredValidator=r},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.MapValidator=void 0;var o=function(e){function t(t,r){var n=e.call(this)||this;return n.keyValidators=t,n.valueValidators=r,n}return i(t,e),t.prototype.validate=function(t,r,n){if(null==t)return null;var i=e.prototype.validate.call(this,t,r,n);if(i)return i;for(var o in t)if(t.hasOwnProperty(o)){for(var s=(r?r+".":"")+n+"."+o,a=0,l=this.keyValidators;a<l.length;a++)if(i=l[a].validate(o,s,n))return i;for(var c=0,u=this.valueValidators;c<u.length;c++)if(i=u[c].validate(t[o],s,n))return i}return null},t}(r(4).ObjectValidator);t.MapValidator=o},function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ParametersPanelValidator=void 0;var o=r(3),s=r(4),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(t,r,n){return null==t?null:e.prototype.validate.call(this,t,r,n)||new o.MultipleFieldsValidator([{field:"expanded",validators:[a.Validators.booleanValidator]},{field:"enabled",validators:[a.Validators.booleanValidator]}]).validate(t,r,n)},t}(s.ObjectValidator);t.ParametersPanelValidator=l}])},"./node_modules/powerbi-router/dist/router.js":function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){"use strict";var n=r(1),i=function(){function e(e){this.handlers=e,this.getRouteRecognizer=new n,this.patchRouteRecognizer=new n,this.postRouteRecognizer=new n,this.putRouteRecognizer=new n,this.deleteRouteRecognizer=new n}return e.prototype.get=function(e,t){return this.registerHandler(this.getRouteRecognizer,"GET",e,t),this},e.prototype.patch=function(e,t){return this.registerHandler(this.patchRouteRecognizer,"PATCH",e,t),this},e.prototype.post=function(e,t){return this.registerHandler(this.postRouteRecognizer,"POST",e,t),this},e.prototype.put=function(e,t){return this.registerHandler(this.putRouteRecognizer,"PUT",e,t),this},e.prototype.delete=function(e,t){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",e,t),this},e.prototype.registerHandler=function(e,t,r,n){e.add([{path:r,handler:function(e){var t=new o;return Promise.resolve(n(e,t)).then(function(e){return t})}}]),this.handlers.addHandler({test:function(r){if(r.method!==t)return!1;var n=e.recognize(r.url);if(void 0===n)return!1;var i=n[0];return r.params=i.params,r.queryParams=n.queryParams,r.handler=i.handler,!0},handle:function(e){return e.handler(e)}})},e}();t.Router=i;var o=function(){function e(){this.statusCode=200,this.headers={},this.body=null}return e.prototype.send=function(e,t){this.statusCode=e,this.body=t},e}();t.Response=o},function(e,t,r){var n;(function(e){(function(){"use strict";function i(e,t,r){this.path=e,this.matcher=t,this.delegate=r}function o(e){this.routes={},this.children={},this.target=e}function s(e,t,r){return function(n,o){var a=e+n;if(!o)return new i(e+n,t,r);o(s(a,t,r))}}function a(e,t,r){for(var n=0,i=0;i<e.length;i++)n+=e[i].path.length;t=t.substr(n),e.push({path:t,handler:r})}function l(e,t,r,n){var i=t.routes;for(var o in i)if(i.hasOwnProperty(o)){var s=e.slice();a(s,o,i[o]),t.children[o]?l(s,t.children[o],r,n):r.call(n,s)}}i.prototype={to:function(e,t){var r=this.delegate;if(r&&r.willAddRoute&&(e=r.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},o.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,r,n){var i=new o(t);this.children[e]=i;var a=s(e,i,n);n&&n.contextEntered&&n.contextEntered(t,a),r(a)}};var c=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){this.string=e}function h(e){this.name=e}function p(e){this.name=e}function f(){}function g(e,t,r){"/"===e.charAt(0)&&(e=e.substr(1));var n=e.split("/"),i=new Array(n.length);r.val="";for(var o=0;o<n.length;o++){var s,a=n[o];(s=a.match(/^:([^\/]+)$/))?(i[o]=new h(s[1]),t.push(s[1]),r.val+="3"):(s=a.match(/^\*([^\/]+)$/))?(i[o]=new p(s[1]),r.val+="1",t.push(s[1])):""===a?(i[o]=new f,r.val+="2"):(i[o]=new d(a),r.val+="4")}return r.val=+r.val,i}function m(e){this.charSpec=e,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function y(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r=r.concat(e[n].match(t));return r}function v(e){this.queryParams=e||{}}function w(e){var t;e=e.replace(/\+/gm,"%20");try{t=decodeURIComponent(e)}catch(r){t=""}return t}d.prototype={eachChar:function(e){for(var t,r=this.string,n=0;n<r.length;n++)t=r.charAt(n),e=e.put({invalidChars:void 0,repeat:!1,validChars:t});return e},regex:function(){return this.string.replace(c,"\\$1")},generate:function(){return this.string}},h.prototype={eachChar:function(e){return e.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},p.prototype={eachChar:function(e){return e.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},f.prototype={eachChar:function(e){return e},regex:function(){return""},generate:function(){return""}},m.prototype={get:function(e){if(this.charSpecs[e.validChars])return this.charSpecs[e.validChars];for(var t=this.nextStates,r=0;r<t.length;r++){var n=t[r],i=n.charSpec.validChars===e.validChars;if(i=i&&n.charSpec.invalidChars===e.invalidChars)return this.charSpecs[e.validChars]=n,n}},put:function(e){var t;return(t=this.get(e))||(t=new m(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t)),t},match:function(e){for(var t,r,n,i=this.nextStates,o=[],s=0;s<i.length;s++)void 0!==(n=(r=(t=i[s]).charSpec).validChars)?-1!==n.indexOf(e)&&o.push(t):void 0!==(n=r.invalidChars)&&-1===n.indexOf(e)&&o.push(t);return o}},v.prototype=(Object.create||function(e){function t(){}return t.prototype=e,new t})({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var b=function(){this.rootState=new m,this.names={}};(b.prototype={add:function(e,t){for(var r,n=this.rootState,i="^",o={},s=new Array(e.length),a=[],l=!0,c=0;c<e.length;c++){var u=e[c],d=[],h=g(u.path,d,o);a=a.concat(h);for(var p=0;p<h.length;p++){var m=h[p];m instanceof f||(l=!1,n=n.put({invalidChars:void 0,repeat:!1,validChars:"/"}),i+="/",n=m.eachChar(n),i+=m.regex())}s[c]={handler:u.handler,names:d}}l&&(n=n.put({invalidChars:void 0,repeat:!1,validChars:"/"}),i+="/"),n.handlers=s,n.regex=new RegExp(i+"$"),n.specificity=o,(r=t&&t.as)&&(this.names[r]={segments:a,handlers:s})},handlersFor:function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);for(var r=new Array(t.handlers.length),n=0;n<t.handlers.length;n++)r[n]=t.handlers[n];return r},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var r=this.names[e],n="";if(!r)throw new Error("There is no route named "+e);for(var i=r.segments,o=0;o<i.length;o++){var s=i[o];s instanceof f||(n+="/",n+=s.generate(t))}return"/"!==n.charAt(0)&&(n="/"+n),t&&t.queryParams&&(n+=this.generateQueryString(t.queryParams,r.handlers)),n},generateQueryString:function(e,t){var r=[],n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i);n.sort();for(var o=0;o<n.length;o++){var s=e[i=n[o]];if(null!=s){var a=encodeURIComponent(i);if(u(s))for(var l=0;l<s.length;l++){var c=i+"[]="+encodeURIComponent(s[l]);r.push(c)}else a+="="+encodeURIComponent(s),r.push(a)}}return 0===r.length?"":"?"+r.join("&")},parseQueryString:function(e){for(var t=e.split("&"),r={},n=0;n<t.length;n++){var i,o=t[n].split("="),s=w(o[0]),a=s.length,l=!1;1===o.length?i="true":(a>2&&"[]"===s.slice(a-2)&&(l=!0,r[s=s.slice(0,a-2)]||(r[s]=[])),i=o[1]?w(o[1]):""),l?r[s].push(i):r[s]=i}return r},recognize:function(e){var t,r,n,i=[this.rootState],o={},s=!1;if(-1!==(n=e.indexOf("?"))){var a=e.substr(n+1,e.length);e=e.substr(0,n),o=this.parseQueryString(a)}for("/"!==(e=decodeURI(e)).charAt(0)&&(e="/"+e),(t=e.length)>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),s=!0),r=0;r<e.length&&(i=y(i,e.charAt(r))).length;r++);var l=[];for(r=0;r<i.length;r++)i[r].handlers&&l.push(i[r]);i=function(e){return e.sort(function(e,t){return t.specificity.val-e.specificity.val})}(l);var c=l[0];if(c&&c.handlers)return s&&"(.+)$"===c.regex.source.slice(-5)&&(e+="/"),function(e,t,r){var n=e.handlers,i=t.match(e.regex),o=1,s=new v(r);s.length=n.length;for(var a=0;a<n.length;a++){for(var l=n[a],c=l.names,u={},d=0;d<c.length;d++)u[c[d]]=i[o++];s[a]={handler:l.handler,params:u,isDynamic:!!c.length}}return s}(c,e,o)}}).map=function(e,t){var r=new o;e(s("",r,this.delegate)),l([],r,function(e){t?t(this,e):this.add(e)},this)},b.VERSION="0.1.11";var _=b;r(3).amd?void 0!==(n=(function(){return _}).call(t,r,t,e))&&(e.exports=n):void 0!==e&&e.exports?e.exports=_:void 0!==this&&(this.RouteRecognizer=_)}).call(this)}).call(t,r(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}}])},"./node_modules/window-post-message-proxy/dist/windowPostMessageProxy.js":function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t){"use strict";var r=function(){function e(t){var r=this;void 0===t&&(t={processTrackingProperties:{addTrackingProperties:e.defaultAddTrackingProperties,getTrackingProperties:e.defaultGetTrackingProperties},isErrorMessage:e.defaultIsErrorMessage,receiveWindow:window,name:e.createRandomString()}),this.pendingRequestPromises={},this.addTrackingProperties=t.processTrackingProperties&&t.processTrackingProperties.addTrackingProperties||e.defaultAddTrackingProperties,this.getTrackingProperties=t.processTrackingProperties&&t.processTrackingProperties.getTrackingProperties||e.defaultGetTrackingProperties,this.isErrorMessage=t.isErrorMessage||e.defaultIsErrorMessage,this.receiveWindow=t.receiveWindow||window,this.name=t.name||e.createRandomString(),this.logMessages=t.logMessages||!1,this.eventSourceOverrideWindow=t.eventSourceOverrideWindow,this.suppressWarnings=t.suppressWarnings||!1,this.logMessages&&console.log("new WindowPostMessageProxy created with name: "+this.name+" receiving on window: "+this.receiveWindow.document.title),this.handlers=[],this.windowMessageHandler=function(e){return r.onMessageReceived(e)},this.start()}return e.defaultAddTrackingProperties=function(t,r){return t[e.messagePropertyName]=r,t},e.defaultGetTrackingProperties=function(t){return t[e.messagePropertyName]},e.defaultIsErrorMessage=function(e){return!!e.error},e.createDeferred=function(){var e={resolve:null,reject:null,promise:null},t=new Promise(function(t,r){e.resolve=t,e.reject=r});return e.promise=t,e},e.createRandomString=function(){var e=window.crypto||window.msCrypto,t=new Uint32Array(1);return e.getRandomValues(t),t[0].toString(36).substring(1)},e.prototype.addHandler=function(e){this.handlers.push(e)},e.prototype.removeHandler=function(e){var t=this.handlers.indexOf(e);if(-1===t)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(t,1)},e.prototype.start=function(){this.receiveWindow.addEventListener("message",this.windowMessageHandler)},e.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},e.prototype.postMessage=function(t,r){var n={id:e.createRandomString()};this.addTrackingProperties(r,n),this.logMessages&&(console.log(this.name+" Posting message:"),console.log(JSON.stringify(r,null,"  "))),t.postMessage(r,"*");var i=e.createDeferred();return this.pendingRequestPromises[n.id]=i,i.promise},e.prototype.sendResponse=function(e,t,r){this.addTrackingProperties(t,r),this.logMessages&&(console.log(this.name+" Sending response:"),console.log(JSON.stringify(t,null,"  "))),e.postMessage(t,"*")},e.prototype.onMessageReceived=function(e){var t=this;this.logMessages&&(console.log(this.name+" Received message:"),console.log("type: "+e.type),console.log(JSON.stringify(e.data,null,"  ")));var r=this.eventSourceOverrideWindow||e.source,n=e.data;if("object"==typeof n){var i,o;try{i=this.getTrackingProperties(n)}catch(a){this.suppressWarnings||console.warn("Proxy("+this.name+"): Error occurred when attempting to get tracking properties from incoming message:",JSON.stringify(n,null,"  "),"Error: ",a)}if(i&&(o=this.pendingRequestPromises[i.id]),o){var s=!0;try{s=this.isErrorMessage(n)}catch(a){console.warn("Proxy("+this.name+") Error occurred when trying to determine if message is consider an error response. Message: ",JSON.stringify(n,null,""),"Error: ",a)}s?o.reject(n):o.resolve(n),delete this.pendingRequestPromises[i.id]}else!this.handlers.some(function(e){var o=!1;try{o=e.test(n)}catch(a){t.suppressWarnings||console.warn("Proxy("+t.name+"): Error occurred when handler was testing incoming message:",JSON.stringify(n,null,"  "),"Error: ",a)}if(o){var s=void 0;try{s=Promise.resolve(e.handle(n))}catch(a){t.suppressWarnings||console.warn("Proxy("+t.name+"): Error occurred when handler was processing incoming message:",JSON.stringify(n,null,"  "),"Error: ",a),s=Promise.resolve()}return s.then(function(e){if(!e){var o="Handler for message: "+JSON.stringify(n,null,"  ")+" did not return a response message. The default response message will be returned instead.";t.suppressWarnings||console.warn("Proxy("+t.name+"): "+o),e={warning:o}}t.sendResponse(r,e,i)}),!0}})&&!this.suppressWarnings&&console.warn("Proxy("+this.name+") did not handle message. Handlers: "+this.handlers.length+"  Message: "+JSON.stringify(n,null,"")+".")}else this.suppressWarnings||console.warn("Proxy("+this.name+"): Received message that was not an object. Discarding message")},e.messagePropertyName="windowPostMessageProxy",e}();t.WindowPostMessageProxy=r}])},"./src/FilterBuilders/advancedFilterBuilder.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedFilterBuilder=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.conditions=[],t}return i(t,e),t.prototype.and=function(){return this.logicalOperator="And",this},t.prototype.or=function(){return this.logicalOperator="Or",this},t.prototype.addCondition=function(e,t){return this.conditions.push({operator:e,value:t}),this},t.prototype.build=function(){return new o.AdvancedFilter(this.target,this.logicalOperator,this.conditions)},t}(r("./src/FilterBuilders/filterBuilder.ts").FilterBuilder);t.AdvancedFilterBuilder=s},"./src/FilterBuilders/basicFilterBuilder.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BasicFilterBuilder=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isRequireSingleSelection=!1,t}return i(t,e),t.prototype.in=function(e){return this.operator="In",this.values=e,this},t.prototype.notIn=function(e){return this.operator="NotIn",this.values=e,this},t.prototype.all=function(){return this.operator="All",this.values=[],this},t.prototype.requireSingleSelection=function(e){return void 0===e&&(e=!1),this.isRequireSingleSelection=e,this},t.prototype.build=function(){var e=new o.BasicFilter(this.target,this.operator,this.values);return e.requireSingleSelection=this.isRequireSingleSelection,e},t}(r("./src/FilterBuilders/filterBuilder.ts").FilterBuilder);t.BasicFilterBuilder=s},"./src/FilterBuilders/filterBuilder.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FilterBuilder=void 0;var r=function(){function e(){}return e.prototype.withTargetObject=function(e){return this.target=e,this},e.prototype.withColumnTarget=function(e,t){return this.target={table:e,column:t},this},e.prototype.withMeasureTarget=function(e,t){return this.target={table:e,measure:t},this},e.prototype.withHierarchyLevelTarget=function(e,t,r){return this.target={table:e,hierarchy:t,hierarchyLevel:r},this},e.prototype.withColumnAggregation=function(e,t,r){return this.target={table:e,column:t,aggregationFunction:r},this},e.prototype.withHierarchyLevelAggregationTarget=function(e,t,r,n){return this.target={table:e,hierarchy:t,hierarchyLevel:r,aggregationFunction:n},this},e}();t.FilterBuilder=r},"./src/FilterBuilders/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeTimeFilterBuilder=t.RelativeDateFilterBuilder=t.TopNFilterBuilder=t.AdvancedFilterBuilder=t.BasicFilterBuilder=void 0;var n=r("./src/FilterBuilders/basicFilterBuilder.ts");Object.defineProperty(t,"BasicFilterBuilder",{enumerable:!0,get:function(){return n.BasicFilterBuilder}});var i=r("./src/FilterBuilders/advancedFilterBuilder.ts");Object.defineProperty(t,"AdvancedFilterBuilder",{enumerable:!0,get:function(){return i.AdvancedFilterBuilder}});var o=r("./src/FilterBuilders/topNFilterBuilder.ts");Object.defineProperty(t,"TopNFilterBuilder",{enumerable:!0,get:function(){return o.TopNFilterBuilder}});var s=r("./src/FilterBuilders/relativeDateFilterBuilder.ts");Object.defineProperty(t,"RelativeDateFilterBuilder",{enumerable:!0,get:function(){return s.RelativeDateFilterBuilder}});var a=r("./src/FilterBuilders/relativeTimeFilterBuilder.ts");Object.defineProperty(t,"RelativeTimeFilterBuilder",{enumerable:!0,get:function(){return a.RelativeTimeFilterBuilder}})},"./src/FilterBuilders/relativeDateFilterBuilder.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeDateFilterBuilder=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTodayIncluded=!0,t}return i(t,e),t.prototype.inLast=function(e,t){return this.operator=o.RelativeDateOperators.InLast,this.timeUnitsCount=e,this.timeUnitType=t,this},t.prototype.inThis=function(e,t){return this.operator=o.RelativeDateOperators.InThis,this.timeUnitsCount=e,this.timeUnitType=t,this},t.prototype.inNext=function(e,t){return this.operator=o.RelativeDateOperators.InNext,this.timeUnitsCount=e,this.timeUnitType=t,this},t.prototype.includeToday=function(e){return this.isTodayIncluded=e,this},t.prototype.build=function(){return new o.RelativeDateFilter(this.target,this.operator,this.timeUnitsCount,this.timeUnitType,this.isTodayIncluded)},t}(r("./src/FilterBuilders/filterBuilder.ts").FilterBuilder);t.RelativeDateFilterBuilder=s},"./src/FilterBuilders/relativeTimeFilterBuilder.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeTimeFilterBuilder=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.inLast=function(e,t){return this.operator=o.RelativeDateOperators.InLast,this.timeUnitsCount=e,this.timeUnitType=t,this},t.prototype.inThis=function(e,t){return this.operator=o.RelativeDateOperators.InThis,this.timeUnitsCount=e,this.timeUnitType=t,this},t.prototype.inNext=function(e,t){return this.operator=o.RelativeDateOperators.InNext,this.timeUnitsCount=e,this.timeUnitType=t,this},t.prototype.build=function(){return new o.RelativeTimeFilter(this.target,this.operator,this.timeUnitsCount,this.timeUnitType)},t}(r("./src/FilterBuilders/filterBuilder.ts").FilterBuilder);t.RelativeTimeFilterBuilder=s},"./src/FilterBuilders/topNFilterBuilder.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.TopNFilterBuilder=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.top=function(e){return this.operator="Top",this.itemCount=e,this},t.prototype.bottom=function(e){return this.operator="Bottom",this.itemCount=e,this},t.prototype.orderByTarget=function(e){return this.orderByTargetValue=e,this},t.prototype.build=function(){return new o.TopNFilter(this.target,this.operator,this.itemCount,this.orderByTargetValue)},t}(r("./src/FilterBuilders/filterBuilder.ts").FilterBuilder);t.TopNFilterBuilder=s},"./src/bookmarksManager.ts":function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BookmarksManager=void 0;var o=r("./src/util.ts"),s=r("./src/errors.ts"),a=function(){function e(e,t,r){this.service=e,this.config=t,this.iframe=r}return e.prototype.getBookmarks=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:if(o.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/bookmarks",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,e.sent().body];case 3:throw e.sent().body;case 4:return[2]}})})},e.prototype.apply=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:if(o.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];t={name:e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/bookmarks/applyByName",t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,r.sent()];case 3:throw r.sent().body;case 4:return[2]}})})},e.prototype.play=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:if(o.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];t={playMode:e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/bookmarks/play",t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,r.sent()];case 3:throw r.sent().body;case 4:return[2]}})})},e.prototype.capture=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:if(o.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];t={options:e||{}},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/bookmarks/capture",t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,r.sent().body];case 3:throw r.sent().body;case 4:return[2]}})})},e.prototype.applyState=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:if(o.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];t={state:e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/bookmarks/applyState",t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,r.sent()];case 3:throw r.sent().body;case 4:return[2]}})})},e}();t.BookmarksManager=a},"./src/config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:"2.18.5",type:"js"}},"./src/create.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Create=void 0;var a=r("./node_modules/powerbi-models/dist/models.js"),l=r("./src/embed.ts"),c=r("./src/util.ts"),u=function(e){function t(t,r,n,i,o){return e.call(this,t,r,n,void 0,i,o)||this}return i(t,e),t.prototype.getId=function(){var e=this.createConfig&&this.createConfig.datasetId?this.createConfig.datasetId:t.findIdFromEmbedUrl(this.config.embedUrl);if("string"!=typeof e||0===e.length)throw new Error("Dataset id is required, but it was not found. You must provide an id either as part of embed configuration.");return e},t.prototype.validate=function(e){return a.validateCreateReport(e)},t.prototype.configChanged=function(e){if(!e){var t=this.config;this.createConfig={accessToken:t.accessToken,datasetId:t.datasetId||this.getId(),groupId:t.groupId,settings:t.settings,tokenType:t.tokenType,theme:t.theme}}},t.prototype.getDefaultEmbedUrlEndpoint=function(){return"reportEmbed"},t.prototype.isSaved=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,c.isSavedInternal(this.service.hpm,this.config.uniqueId,this.iframe.contentWindow)];case 1:return[2,e.sent()]}})})},t.findIdFromEmbedUrl=function(e){var t,r=e.match(/datasetId="?([^&]+)"?/);return r&&(t=r[1]),t},t}(l.Embed);t.Create=u},"./src/dashboard.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Dashboard=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=function(e){function t(r,n,i,o,s){var a=e.call(this,r,n,i,void 0,o,s)||this;return a.loadPath="/dashboard/load",a.phasedLoadPath="/dashboard/prepare",Array.prototype.push.apply(a.allowedEvents,t.allowedEvents),a}return i(t,e),t.findIdFromEmbedUrl=function(e){var t,r=e.match(/dashboardId="?([^&]+)"?/);return r&&(t=r[1]),t},t.prototype.getId=function(){var e=this.config,r=e.id||this.element.getAttribute(t.dashboardIdAttribute)||t.findIdFromEmbedUrl(e.embedUrl);if("string"!=typeof r||0===r.length)throw new Error("Dashboard id is required, but it was not found. You must provide an id either as part of embed configuration or as attribute '"+t.dashboardIdAttribute+"'.");return r},t.prototype.validate=function(e){var t=e;return o.validateDashboardLoad(t)||this.validatePageView(t.pageView)},t.prototype.configChanged=function(e){e||(this.config.id=this.getId())},t.prototype.getDefaultEmbedUrlEndpoint=function(){return"dashboardEmbed"},t.prototype.validatePageView=function(e){if(e&&"fitToWidth"!==e&&"oneColumn"!==e&&"actualSize"!==e)return[{message:"pageView must be one of the followings: fitToWidth, oneColumn, actualSize"}]},t.allowedEvents=["tileClicked","error"],t.dashboardIdAttribute="powerbi-dashboard-id",t.typeAttribute="powerbi-type",t.type="Dashboard",t}(r("./src/embed.ts").Embed);t.Dashboard=s},"./src/embed.ts":function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Embed=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=r("./src/config.ts"),a=r("./src/errors.ts"),l=r("./src/util.ts"),c=function(){function e(t,r,n,i,o,s){if(this.allowedEvents=[],l.autoAuthInEmbedUrl(n.embedUrl))throw new Error(a.EmbedUrlNotSupported);Array.prototype.push.apply(this.allowedEvents,e.allowedEvents),this.eventHandlers=[],this.service=t,this.element=r,this.iframe=i,this.iframeLoaded=!1,this.embedtype=n.type.toLowerCase(),this.commands=[],this.groups=[],this.populateConfig(n,s),this.setIframe("create"!==this.embedtype,o,s)}return e.prototype.createReport=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:if(t=o.validateCreateReport(e))throw t;r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/create",e,{uid:this.config.uniqueId,sdkSessionId:this.service.getSdkSessionId()},this.iframe.contentWindow)];case 2:return[2,r.sent().body];case 3:throw r.sent().body;case 4:return[2]}})})},e.prototype.save=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/save",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,e.sent().body];case 2:throw e.sent().body;case 3:return[2]}})})},e.prototype.saveAs=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/saveAs",e,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,t.sent().body];case 2:throw t.sent().body;case 3:return[2]}})})},e.prototype.getCorrelationId=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.service.hpm.get("/getCorrelationId",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,e.sent().body];case 2:throw e.sent().body;case 3:return[2]}})})},e.prototype.load=function(e){return n(this,void 0,void 0,function(){var t,r,n;return i(this,function(i){switch(i.label){case 0:if(!this.config.accessToken)return console.debug("Power BI SDK iframe is loaded but powerbi.embed is not called yet."),[2];if(!this.iframeLoaded)return console.debug("Power BI SDK is trying to post /report/load before iframe is ready."),[2];if(t=e&&"report"===this.config.type?this.phasedLoadPath:this.loadPath,r={uid:this.config.uniqueId,sdkSessionId:this.service.getSdkSessionId(),bootstrapped:this.config.bootstrapped,sdkVersion:s.default.version},n=new Date,this.lastLoadRequest&&l.getTimeDiffInMilliseconds(this.lastLoadRequest,n)<100)return console.debug("Power BI SDK sent more than two /report/load requests in the last 100ms interval."),[2];this.lastLoadRequest=n,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.service.hpm.post(t,this.config,r,this.iframe.contentWindow)];case 2:return[2,i.sent().body];case 3:throw i.sent().body;case 4:return[2]}})})},e.prototype.off=function(e,t){var r=this,n={name:e,type:null,id:null,value:null};t?(l.remove(function(e){return e.test(n)&&e.handle===t},this.eventHandlers),this.element.removeEventListener(e,t)):this.eventHandlers.filter(function(e){return e.test(n)}).forEach(function(t){l.remove(function(e){return e===t},r.eventHandlers),r.element.removeEventListener(e,t.handle)})},e.prototype.on=function(e,t){if(-1===this.allowedEvents.indexOf(e))throw new Error("eventName must be one of "+this.allowedEvents+". You passed: "+e);this.eventHandlers.push({test:function(t){return t.name===e},handle:t}),this.element.addEventListener(e,t)},e.prototype.reload=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return[2,e.sent()]}})})},e.prototype.setAccessToken=function(t){return n(this,void 0,void 0,function(){var r,n;return i(this,function(i){switch(i.label){case 0:if(!t)throw new Error("Access token cannot be empty");r="create"===(r=this.config.type)||"visual"===r||"qna"===r?"report":r,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.service.hpm.post("/"+r+"/token",t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return n=i.sent(),this.config.accessToken=t,this.element.setAttribute(e.accessTokenAttribute,t),this.service.accessToken=t,[2,n.body];case 3:throw i.sent().body;case 4:return[2]}})})},e.prototype.getAccessToken=function(t){var r=this.config.accessToken||this.element.getAttribute(e.accessTokenAttribute)||t;if(!r)throw new Error("No access token was found for element. You must specify an access token directly on the element using attribute '"+e.accessTokenAttribute+"' or specify a global token at: powerbi.accessToken.");return r},e.prototype.populateConfig=function(e,t){var r,n,i,s,a,c,u,d,h,p,f=this;this.bootstrapConfig?(this.config=l.assign({},this.bootstrapConfig,e),this.bootstrapConfig=null):this.config=l.assign({},e),this.config.embedUrl=this.getEmbedUrl(t),this.config.groupId=this.getGroupId(),this.addLocaleToEmbedUrl(e),this.config.uniqueId=this.getUniqueId();var g=null===(n=null===(r=this.config)||void 0===r?void 0:r.settings)||void 0===n?void 0:n.extensions;this.commands=null!==(i=null==g?void 0:g.commands)&&void 0!==i?i:[],this.groups=null!==(s=null==g?void 0:g.groups)&&void 0!==s?s:[],this.initialLayoutType=null!==(u=null===(c=null===(a=this.config)||void 0===a?void 0:a.settings)||void 0===c?void 0:c.layoutType)&&void 0!==u?u:o.LayoutType.Master;var m=null===(h=null===(d=this.config)||void 0===d?void 0:d.settings)||void 0===h?void 0:h.extensions;Array.isArray(m)&&(this.commands=[],m.map(function(e){(null==e?void 0:e.command)&&f.commands.push(e.command)})),t?(this.bootstrapConfig=this.config,this.bootstrapConfig.bootstrapped=!0):this.config.accessToken=this.getAccessToken(this.service.accessToken);var y=!!(null===(p=this.config.eventHooks)||void 0===p?void 0:p.applicationContextProvider);delete this.config.eventHooks,y&&"report"===this.embedtype&&(this.config.embedUrl=l.addParamToUrl(this.config.embedUrl,"registerQueryCallback","true")),this.configChanged(t)},e.prototype.addLocaleToEmbedUrl=function(e){if(e.settings){var t=e.settings.localeSettings;t&&t.language&&(this.config.embedUrl=l.addParamToUrl(this.config.embedUrl,"language",t.language)),t&&t.formatLocale&&(this.config.embedUrl=l.addParamToUrl(this.config.embedUrl,"formatLocale",t.formatLocale))}},e.prototype.getEmbedUrl=function(t){var r=this.config.embedUrl||this.element.getAttribute(e.embedUrlAttribute);if(t&&!r&&(r=this.getDefaultEmbedUrl(this.config.hostname)),"string"!=typeof r||0===r.length)throw new Error("Embed Url is required, but it was not found. You must provide an embed url either as part of embed configuration or as attribute '"+e.embedUrlAttribute+"'.");return r},e.prototype.getDefaultEmbedUrl=function(t){t||(t=e.defaultEmbedHostName);var r=this.getDefaultEmbedUrlEndpoint();if(0===(t=t.toLowerCase().trim()).indexOf("http://"))throw new Error("HTTP is not allowed. HTTPS is required");return 0===t.indexOf("https://")?t+"/"+r:"https://"+t+"/"+r},e.prototype.getUniqueId=function(){return this.config.uniqueId||this.element.getAttribute(e.nameAttribute)||l.createRandomString()},e.prototype.getGroupId=function(){return this.config.groupId||e.findGroupIdFromEmbedUrl(this.config.embedUrl)},e.prototype.fullscreen=function(){(this.iframe.requestFullscreen||this.iframe.msRequestFullscreen||this.iframe.mozRequestFullScreen||this.iframe.webkitRequestFullscreen).call(this.iframe)},e.prototype.exitFullscreen=function(){this.isFullscreen(this.iframe)&&(document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen).call(document)},e.prototype.isFullscreen=function(e){return["fullscreenElement","webkitFullscreenElement","mozFullscreenScreenElement","msFullscreenElement"].some(function(t){return document[t]===e})},e.prototype.setIframe=function(t,r,n,i){var o=this;if(!this.iframe){var s=document.createElement("iframe"),a=this.config.uniqueId?l.addParamToUrl(this.config.embedUrl,"uid",this.config.uniqueId):this.config.embedUrl;s.style.width="100%",s.style.height="100%",s.setAttribute("src",a),s.setAttribute("scrolling","no"),s.setAttribute("allowfullscreen","true");for(var c=this.element;c.firstChild;)c.removeChild(c.firstChild);c.appendChild(s),this.iframe=c.firstChild}if(t){if(!n){var u=this.validate(this.config);if(u)throw u}this.iframe.addEventListener("load",function(){o.iframeLoaded=!0,o.load(r)},!1),this.service.getNumberOfComponents()<=e.maxFrontLoadTimes&&(this.frontLoadHandler=function(){o.frontLoadSendConfig(o.config)},this.element.addEventListener("ready",this.frontLoadHandler,!1))}else this.iframe.addEventListener("load",function(){return o.createReport(o.createConfig)},!1)},e.prototype.setComponentTitle=function(e){!this.iframe||(null==e?this.iframe.removeAttribute("title"):this.iframe.setAttribute("title",e))},e.prototype.setComponentTabIndex=function(e){!this.element||this.element.setAttribute("tabindex",null==e?"0":e.toString())},e.prototype.removeComponentTabIndex=function(e){!this.element||this.element.removeAttribute("tabindex")},e.findGroupIdFromEmbedUrl=function(e){var t,r=e.match(/groupId="?([^&]+)"?/);return r&&(t=r[1]),t},e.prototype.frontLoadSendConfig=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:if(!e.accessToken)return[2];if(t=this.validate(e))throw t;if(null==this.iframe.contentWindow)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.post("/frontload/config",e,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,r.sent().body];case 3:throw r.sent().body;case 4:return[2]}})})},e.allowedEvents=["loaded","saved","rendered","saveAsTriggered","error","dataSelected","buttonClicked"],e.accessTokenAttribute="powerbi-access-token",e.embedUrlAttribute="powerbi-embed-url",e.nameAttribute="powerbi-name",e.typeAttribute="powerbi-type",e.defaultEmbedHostName="https://app.powerbi.com",e.maxFrontLoadTimes=2,e}();t.Embed=c},"./src/errors.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedUrlNotSupported=t.APINotSupportedForRDLError=void 0,t.APINotSupportedForRDLError="This API is currently not supported for RDL reports",t.EmbedUrlNotSupported="Embed URL is invalid for this scenario. Please use Power BI REST APIs to get the valid URL"},"./src/factories.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.routerFactory=t.wpmpFactory=t.hpmFactory=void 0;var n=r("./node_modules/window-post-message-proxy/dist/windowPostMessageProxy.js"),i=r("./node_modules/http-post-message/dist/httpPostMessage.js"),o=r("./node_modules/powerbi-router/dist/router.js"),s=r("./src/config.ts");t.hpmFactory=function(e,t,r,n){return void 0===r&&(r=s.default.version),void 0===n&&(n=s.default.type),new i.HttpPostMessage(e,{"x-sdk-type":n,"x-sdk-version":r},t)},t.wpmpFactory=function(e,t,r){return new n.WindowPostMessageProxy({processTrackingProperties:{addTrackingProperties:i.HttpPostMessage.addTrackingProperties,getTrackingProperties:i.HttpPostMessage.getTrackingProperties},isErrorMessage:i.HttpPostMessage.isErrorMessage,suppressWarnings:!0,name:e,logMessages:t,eventSourceOverrideWindow:r})},t.routerFactory=function(e){return new o.Router(e)}},"./src/page.ts":function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=r("./src/visualDescriptor.ts"),a=r("./src/util.ts"),l=r("./src/errors.ts"),c=function(){function e(e,t,r,n,i,o,s,a){this.report=e,this.name=t,this.displayName=r,this.isActive=n,this.visibility=i,this.defaultSize=o,this.mobileSize=a,this.defaultDisplayOption=s}return e.prototype.getFilters=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.report.service.hpm.get("/report/pages/"+this.name+"/filters",{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 1:return[2,e.sent().body];case 2:throw e.sent().body;case 3:return[2]}})})},e.prototype.updateFilters=function(e,t){return n(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:r={filtersOperation:e,filters:t},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.report.service.hpm.post("/report/pages/"+this.name+"/filters",r,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,n.sent()];case 3:throw n.sent().body;case 4:return[2]}})})},e.prototype.removeFilters=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.updateFilters(o.FiltersOperations.RemoveAll)];case 1:return[2,e.sent()]}})})},e.prototype.setFilters=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.report.service.hpm.put("/report/pages/"+this.name+"/filters",e,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 1:return[2,t.sent()];case 2:throw t.sent().body;case 3:return[2]}})})},e.prototype.delete=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.report.service.hpm.delete("/report/pages/"+this.name,{},{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 1:return[2,e.sent().body];case 2:throw e.sent().body;case 3:return[2]}})})},e.prototype.setActive=function(){return n(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:e={name:this.name,displayName:null,isActive:!0},t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.report.service.hpm.put("/report/pages/active",e,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,t.sent()];case 3:throw t.sent().body;case 4:return[2]}})})},e.prototype.setDisplayName=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:t={name:this.name,displayName:e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.report.service.hpm.put("/report/pages/"+this.name+"/name",t,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,r.sent()];case 3:throw r.sent().body;case 4:return[2]}})})},e.prototype.getVisuals=function(){return n(this,void 0,void 0,function(){var e=this;return i(this,function(t){switch(t.label){case 0:if(a.isRDLEmbed(this.report.config.embedUrl))return[2,Promise.reject(l.APINotSupportedForRDLError)];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/"+this.name+"/visuals",{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,t.sent().body.map(function(t){return new s.VisualDescriptor(e,t.name,t.title,t.type,t.layout)})];case 3:throw t.sent().body;case 4:return[2]}})})},e.prototype.getVisualByName=function(e){return n(this,void 0,void 0,function(){var t,r;return i(this,function(n){switch(n.label){case 0:if(a.isRDLEmbed(this.report.config.embedUrl))return[2,Promise.reject(l.APINotSupportedForRDLError)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/"+this.name+"/visuals",{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return t=n.sent(),(r=t.body.find(function(t){return t.name===e}))?[2,new s.VisualDescriptor(this,r.name,r.title,r.type,r.layout)]:[2,Promise.reject(o.CommonErrorCodes.NotFound)];case 3:throw n.sent().body;case 4:return[2]}})})},e.prototype.setVisualDisplayState=function(e,t){return n(this,void 0,void 0,function(){return i(this,function(r){return[2,this.report.setVisualDisplayState(this.name,e,t)]})})},e.prototype.moveVisual=function(e,t,r,o){return n(this,void 0,void 0,function(){return i(this,function(n){return[2,this.report.moveVisual(this.name,e,t,r,o)]})})},e.prototype.resizeVisual=function(e,t,r){return n(this,void 0,void 0,function(){return i(this,function(n){return[2,this.report.resizeVisual(this.name,e,t,r)]})})},e.prototype.resizePage=function(e,t,r){return n(this,void 0,void 0,function(){return i(this,function(n){return this.isActive?[2,this.report.resizeActivePage(e,t,r)]:[2,Promise.reject("Cannot resize the page. Only the active page can be resized")]})})},e.prototype.getSlicers=function(){return n(this,void 0,void 0,function(){var e=this;return i(this,function(t){switch(t.label){case 0:if(a.isRDLEmbed(this.report.config.embedUrl))return[2,Promise.reject(l.APINotSupportedForRDLError)];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/"+this.name+"/visuals",{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,t.sent().body.filter(function(e){return"slicer"===e.type}).map(function(t){return new s.VisualDescriptor(e,t.name,t.title,t.type,t.layout)})];case 3:throw t.sent().body;case 4:return[2]}})})},e.prototype.hasLayout=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:if(a.isRDLEmbed(this.report.config.embedUrl))return[2,Promise.reject(l.APINotSupportedForRDLError)];t=o.LayoutType[e],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/"+this.name+"/layoutTypes/"+t,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,r.sent().body];case 3:throw r.sent().body;case 4:return[2]}})})},e}();t.Page=c},"./src/powerbi-client.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeTimeFilterBuilder=t.RelativeDateFilterBuilder=t.TopNFilterBuilder=t.AdvancedFilterBuilder=t.BasicFilterBuilder=t.VisualDescriptor=t.Visual=t.Qna=t.Page=t.Embed=t.Tile=t.Dashboard=t.Report=t.models=t.factories=t.service=void 0;var n=r("./node_modules/powerbi-models/dist/models.js");t.models=n;var i=r("./src/service.ts");t.service=i;var o=r("./src/factories.ts");t.factories=o;var s=r("./src/report.ts");Object.defineProperty(t,"Report",{enumerable:!0,get:function(){return s.Report}});var a=r("./src/dashboard.ts");Object.defineProperty(t,"Dashboard",{enumerable:!0,get:function(){return a.Dashboard}});var l=r("./src/tile.ts");Object.defineProperty(t,"Tile",{enumerable:!0,get:function(){return l.Tile}});var c=r("./src/embed.ts");Object.defineProperty(t,"Embed",{enumerable:!0,get:function(){return c.Embed}});var u=r("./src/page.ts");Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return u.Page}});var d=r("./src/qna.ts");Object.defineProperty(t,"Qna",{enumerable:!0,get:function(){return d.Qna}});var h=r("./src/visual.ts");Object.defineProperty(t,"Visual",{enumerable:!0,get:function(){return h.Visual}});var p=r("./src/visualDescriptor.ts");Object.defineProperty(t,"VisualDescriptor",{enumerable:!0,get:function(){return p.VisualDescriptor}});var f=r("./src/FilterBuilders/index.ts");Object.defineProperty(t,"BasicFilterBuilder",{enumerable:!0,get:function(){return f.BasicFilterBuilder}}),Object.defineProperty(t,"AdvancedFilterBuilder",{enumerable:!0,get:function(){return f.AdvancedFilterBuilder}}),Object.defineProperty(t,"TopNFilterBuilder",{enumerable:!0,get:function(){return f.TopNFilterBuilder}}),Object.defineProperty(t,"RelativeDateFilterBuilder",{enumerable:!0,get:function(){return f.RelativeDateFilterBuilder}}),Object.defineProperty(t,"RelativeTimeFilterBuilder",{enumerable:!0,get:function(){return f.RelativeTimeFilterBuilder}});var g=new i.Service(o.hpmFactory,o.wpmpFactory,o.routerFactory);window.powerbi=g},"./src/qna.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Qna=void 0;var a=r("./node_modules/powerbi-models/dist/models.js"),l=function(e){function t(r,n,i,o,s){var a=e.call(this,r,n,i,void 0,o,s)||this;return a.loadPath="/qna/load",a.phasedLoadPath="/qna/prepare",Array.prototype.push.apply(a.allowedEvents,t.allowedEvents),a}return i(t,e),t.prototype.getId=function(){return null},t.prototype.setQuestion=function(e){return o(this,void 0,void 0,function(){var t;return s(this,function(r){switch(r.label){case 0:t={question:e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.post("/qna/interpret",t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,r.sent()];case 3:throw r.sent().body;case 4:return[2]}})})},t.prototype.configChanged=function(e){},t.prototype.getDefaultEmbedUrlEndpoint=function(){return"qnaEmbed"},t.prototype.validate=function(e){return a.validateLoadQnaConfiguration(e)},t.type="Qna",t.allowedEvents=["loaded","visualRendered"],t}(r("./src/embed.ts").Embed);t.Qna=l},"./src/report.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Report=void 0;var l=r("./node_modules/powerbi-models/dist/models.js"),c=r("./src/embed.ts"),u=r("./src/util.ts"),d=r("./src/errors.ts"),h=r("./src/page.ts"),p=r("./src/bookmarksManager.ts"),f=function(e){function t(r,n,i,o,s,a){var l=this,c=i;return(l=e.call(this,r,n,c,a,o,s)||this).loadPath="/report/load",l.phasedLoadPath="/report/prepare",Array.prototype.push.apply(l.allowedEvents,t.allowedEvents),l.bookmarksManager=new p.BookmarksManager(r,c,l.iframe),l}return i(t,e),t.findIdFromEmbedUrl=function(e){var t,r=e.match(/reportId="?([^&]+)"?/);return r&&(t=r[1]),t},t.prototype.render=function(e){return o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/render",e,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,t.sent().body];case 2:throw t.sent().body;case 3:return[2]}})})},t.prototype.addPage=function(e){return o(this,void 0,void 0,function(){var t,r,n;return s(this,function(i){switch(i.label){case 0:t={displayName:e},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/addPage",t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return r=i.sent(),[2,new h.Page(this,(n=r.body).name,n.displayName,n.isActive,n.visibility,n.defaultSize,n.defaultDisplayOption)];case 3:throw i.sent().body;case 4:return[2]}})})},t.prototype.deletePage=function(e){return o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.service.hpm.delete("/report/pages/"+e,{},{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,t.sent().body];case 2:throw t.sent().body;case 3:return[2]}})})},t.prototype.renamePage=function(e,t){return o(this,void 0,void 0,function(){var r;return s(this,function(n){switch(n.label){case 0:r={name:e,displayName:t},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.service.hpm.put("/report/pages/"+e+"/name",r,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,n.sent().body];case 3:throw n.sent().body;case 4:return[2]}})})},t.prototype.getFilters=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/filters",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,e.sent().body];case 3:throw e.sent().body;case 4:return[2]}})})},t.prototype.updateFilters=function(e,t){return o(this,void 0,void 0,function(){var r;return s(this,function(n){switch(n.label){case 0:r={filtersOperation:e,filters:t},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/filters",r,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,n.sent()];case 3:throw n.sent().body;case 4:return[2]}})})},t.prototype.removeFilters=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return u.isRDLEmbed(this.config.embedUrl)?[2,Promise.reject(d.APINotSupportedForRDLError)]:[2,this.updateFilters(l.FiltersOperations.RemoveAll)]})})},t.prototype.setFilters=function(e){return o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.service.hpm.put("/report/filters",e,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,t.sent()];case 3:throw t.sent().body;case 4:return[2]}})})},t.prototype.getId=function(){var e=this.config,r=e.id||this.element.getAttribute(t.reportIdAttribute)||t.findIdFromEmbedUrl(e.embedUrl);if("string"!=typeof r||0===r.length)throw new Error("Report id is required, but it was not found. You must provide an id either as part of embed configuration or as attribute '"+t.reportIdAttribute+"'.");return r},t.prototype.getPages=function(){return o(this,void 0,void 0,function(){var e=this;return s(this,function(t){switch(t.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/pages",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,t.sent().body.map(function(t){return new h.Page(e,t.name,t.displayName,t.isActive,t.visibility,t.defaultSize,t.defaultDisplayOption,t.mobileSize)})];case 3:throw t.sent().body;case 4:return[2]}})})},t.prototype.getPageByName=function(e){return o(this,void 0,void 0,function(){var t,r;return s(this,function(n){switch(n.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/pages",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return t=n.sent(),(r=t.body.find(function(t){return t.name===e}))?[2,new h.Page(this,r.name,r.displayName,r.isActive,r.visibility,r.defaultSize,r.defaultDisplayOption,r.mobileSize)]:[2,Promise.reject(l.CommonErrorCodes.NotFound)];case 3:throw n.sent().body;case 4:return[2]}})})},t.prototype.getActivePage=function(){return o(this,void 0,void 0,function(){var e,t;return s(this,function(r){switch(r.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/pages",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return e=r.sent(),t=e.body.find(function(e){return e.isActive}),[2,new h.Page(this,t.name,t.displayName,t.isActive,t.visibility,t.defaultSize,t.defaultDisplayOption,t.mobileSize)];case 3:throw r.sent().body;case 4:return[2]}})})},t.prototype.page=function(e,t,r,n){return new h.Page(this,e,t,r,n)},t.prototype.print=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/print",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,e.sent().body];case 3:throw e.sent().body;case 4:return[2]}})})},t.prototype.setPage=function(e){return o(this,void 0,void 0,function(){var t;return s(this,function(r){switch(r.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];t={name:e,displayName:null,isActive:!0},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.put("/report/pages/active",t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,r.sent()];case 3:throw r.sent().body;case 4:return[2]}})})},t.prototype.updateSettings=function(e){var t,r;return o(this,void 0,void 0,function(){var n,i,o,a=this;return s(this,function(s){switch(s.label){case 0:if(u.isRDLEmbed(this.config.embedUrl)&&null!=e.customLayout)return[2,Promise.reject(d.APINotSupportedForRDLError)];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.service.hpm.patch("/report/settings",e,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return n=s.sent(),this.commands=null!==(t=null==(i=null==e?void 0:e.extensions)?void 0:i.commands)&&void 0!==t?t:this.commands,this.groups=null!==(r=null==i?void 0:i.groups)&&void 0!==r?r:this.groups,o=null==e?void 0:e.extensions,Array.isArray(o)&&(this.commands=[],o.map(function(e){(null==e?void 0:e.command)&&a.commands.push(e.command)})),[2,n];case 3:throw s.sent().body;case 4:return[2]}})})},t.prototype.validate=function(e){return u.isRDLEmbed(this.config.embedUrl)?l.validatePaginatedReportLoad(e):l.validateReportLoad(e)},t.prototype.configChanged=function(e){var r=this.config;this.isMobileSettings(r.settings)&&(r.embedUrl=u.addParamToUrl(r.embedUrl,"isMobile","true"));var n=this.element.getAttribute(t.filterPaneEnabledAttribute),i=this.element.getAttribute(t.navContentPaneEnabledAttribute);this.config.settings=u.assign({},{filterPaneEnabled:null==n?void 0:"false"!==n,navContentPaneEnabled:null==i?void 0:"false"!==i},r.settings),!e&&(r.id=this.getId())},t.prototype.getDefaultEmbedUrlEndpoint=function(){return"reportEmbed"},t.prototype.switchMode=function(e){return o(this,void 0,void 0,function(){var t,r;return s(this,function(n){switch(n.label){case 0:t="string"==typeof e?e:this.viewModeToString(e),r="/report/switchMode/"+t,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.service.hpm.post(r,null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,n.sent().body];case 3:throw n.sent().body;case 4:return[2]}})})},t.prototype.refresh=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/refresh",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,e.sent().body];case 2:throw e.sent().body;case 3:return[2]}})})},t.prototype.isSaved=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return u.isRDLEmbed(this.config.embedUrl)?[2,Promise.reject(d.APINotSupportedForRDLError)]:[4,u.isSavedInternal(this.service.hpm,this.config.uniqueId,this.iframe.contentWindow)];case 1:return[2,e.sent()]}})})},t.prototype.applyTheme=function(e){return o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.isRDLEmbed(this.config.embedUrl)?[2,Promise.reject(d.APINotSupportedForRDLError)]:[4,this.applyThemeInternal(e)];case 1:return[2,t.sent()]}})})},t.prototype.resetTheme=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return u.isRDLEmbed(this.config.embedUrl)?[2,Promise.reject(d.APINotSupportedForRDLError)]:[4,this.applyThemeInternal({})];case 1:return[2,e.sent()]}})})},t.prototype.resetPersistentFilters=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.service.hpm.delete("/report/userState",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,e.sent()];case 2:throw e.sent().body;case 3:return[2]}})})},t.prototype.savePersistentFilters=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/userState",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,e.sent()];case 2:throw e.sent().body;case 3:return[2]}})})},t.prototype.arePersistentFiltersApplied=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.service.hpm.get("/report/isUserStateApplied",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,e.sent().body];case 2:throw e.sent().body;case 3:return[2]}})})},t.prototype.removeContextMenuCommand=function(e,t){return o(this,void 0,void 0,function(){var r,n;return s(this,function(i){switch(i.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];if(r=JSON.parse(JSON.stringify(this.commands)),-1===(n=this.findCommandMenuIndex("visualContextMenu",r,e,t)))throw l.CommonErrorCodes.NotFound;return delete r[n].extend.visualContextMenu,[4,this.updateSettings({extensions:{commands:r,groups:this.groups}})];case 1:return[2,i.sent()]}})})},t.prototype.addContextMenuCommand=function(e,t,r,n,i,a,c){return void 0===r&&(r=t),void 0===n&&(n=l.MenuLocation.Bottom),void 0===i&&(i=void 0),void 0===c&&(c=void 0),o(this,void 0,void 0,function(){var o;return s(this,function(s){switch(s.label){case 0:return u.isRDLEmbed(this.config.embedUrl)?[2,Promise.reject(d.APINotSupportedForRDLError)]:(o=this.createMenuCommand("visualContextMenu",e,t,r,n,i,a,c),[4,this.updateSettings({extensions:{commands:o,groups:this.groups}})]);case 1:return[2,s.sent()]}})})},t.prototype.removeOptionsMenuCommand=function(e,t){return o(this,void 0,void 0,function(){var r,n;return s(this,function(i){switch(i.label){case 0:if(u.isRDLEmbed(this.config.embedUrl))return[2,Promise.reject(d.APINotSupportedForRDLError)];if(r=JSON.parse(JSON.stringify(this.commands)),-1===(n=this.findCommandMenuIndex("visualOptionsMenu",r,e,t)))throw l.CommonErrorCodes.NotFound;return delete r[n].extend.visualOptionsMenu,delete r[n].icon,[4,this.updateSettings({extensions:{commands:r,groups:this.groups}})];case 1:return[2,i.sent()]}})})},t.prototype.addOptionsMenuCommand=function(e,t,r,n,i,a,c,h){return void 0===r&&(r=t),void 0===n&&(n=l.MenuLocation.Bottom),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===c&&(c=void 0),void 0===h&&(h=void 0),o(this,void 0,void 0,function(){var o;return s(this,function(s){switch(s.label){case 0:return u.isRDLEmbed(this.config.embedUrl)?[2,Promise.reject(d.APINotSupportedForRDLError)]:(o=this.createMenuCommand("visualOptionsMenu",e,t,r,n,i,a,c,h),[4,this.updateSettings({extensions:{commands:o,groups:this.groups}})]);case 1:return[2,s.sent()]}})})},t.prototype.setVisualDisplayState=function(e,t,r){return o(this,void 0,void 0,function(){var n;return s(this,function(i){switch(i.label){case 0:return[4,this.validateVisual(e,t)];case 1:return i.sent(),n=this.buildLayoutSettingsObject(e,t,{displayState:{mode:r}}),[2,this.updateSettings(n)]}})})},t.prototype.resizeVisual=function(e,t,r,n){return o(this,void 0,void 0,function(){var i;return s(this,function(o){switch(o.label){case 0:return[4,this.validateVisual(e,t)];case 1:return o.sent(),i=this.buildLayoutSettingsObject(e,t,{width:r,height:n}),[2,this.updateSettings(i)]}})})},t.prototype.resizeActivePage=function(e,t,r){return o(this,void 0,void 0,function(){return s(this,function(n){return[2,this.updateSettings({layoutType:l.LayoutType.Custom,customLayout:{pageSize:{type:e,width:t,height:r}}})]})})},t.prototype.moveVisual=function(e,t,r,n,i){return o(this,void 0,void 0,function(){var o;return s(this,function(s){switch(s.label){case 0:return[4,this.validateVisual(e,t)];case 1:return s.sent(),o=this.buildLayoutSettingsObject(e,t,{x:r,y:n,z:i}),[2,this.updateSettings(o)]}})})},t.prototype.switchLayout=function(e){return o(this,void 0,void 0,function(){var t,r,n;return s(this,function(i){switch(i.label){case 0:if(t=this.isMobileSettings({layoutType:this.initialLayoutType}),r=this.isMobileSettings({layoutType:e}),t!==r)throw"Switching between mobile and desktop layouts is not supported. Please reset the embed container and re-embed with required layout.";return[4,this.updateSettings({layoutType:e})];case 1:return n=i.sent(),this.initialLayoutType=e,[2,n]}})})},t.prototype.createMenuCommand=function(e,t,r,n,i,o,s,l,c){var u={name:t,title:r,extend:{}};return u.extend[e]={title:n,menuLocation:i},"visualOptionsMenu"===e&&(u.icon=c),l&&(delete u.extend[e].menuLocation,u.extend[e].groupName=l),o&&(u.selector={$schema:"http://powerbi.com/product/schema#visualSelector",visualName:o}),s&&(u.selector={$schema:"http://powerbi.com/product/schema#visualTypeSelector",visualType:s}),a(a([],this.commands),[u])},t.prototype.findCommandMenuIndex=function(e,t,r,n){var i=-1;return t.some(function(t,o){return!(t.name!==r||!t.extend[e]||t.extend[e].title!==n||(i=o,0))}),i},t.prototype.buildLayoutSettingsObject=function(e,t,r){var n={layoutType:l.LayoutType.Custom,customLayout:{pagesLayout:{}}};return n.customLayout.pagesLayout[e]={visualsLayout:{}},n.customLayout.pagesLayout[e].visualsLayout[t]=r,n},t.prototype.validateVisual=function(e,t){return o(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.getPageByName(e)];case 1:return[4,r.sent().getVisualByName(t)];case 2:return[2,r.sent()]}})})},t.prototype.applyThemeInternal=function(e){return o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.service.hpm.put("/report/theme",e,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,t.sent().body];case 2:throw t.sent().body;case 3:return[2]}})})},t.prototype.viewModeToString=function(e){var t;switch(e){case l.ViewMode.Edit:t="edit";break;case l.ViewMode.View:t="view"}return t},t.prototype.isMobileSettings=function(e){return e&&(e.layoutType===l.LayoutType.MobileLandscape||e.layoutType===l.LayoutType.MobilePortrait)},t.allowedEvents=["filtersApplied","pageChanged","commandTriggered","swipeStart","swipeEnd","bookmarkApplied","dataHyperlinkClicked","visualRendered","visualClicked","selectionChanged","renderingStarted"],t.reportIdAttribute="powerbi-report-id",t.filterPaneEnabledAttribute="powerbi-settings-filter-pane-enabled",t.navContentPaneEnabledAttribute="powerbi-settings-nav-content-pane-enabled",t.typeAttribute="powerbi-type",t.type="Report",t}(c.Embed);t.Report=f},"./src/service.ts":function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Service=void 0;var o=r("./src/embed.ts"),s=r("./src/report.ts"),a=r("./src/create.ts"),l=r("./src/dashboard.ts"),c=r("./src/tile.ts"),u=r("./src/page.ts"),d=r("./src/qna.ts"),h=r("./src/visual.ts"),p=r("./src/util.ts"),f=function(){function e(t,r,n,i){var o=this;void 0===i&&(i={}),this.wpmp=r(i.wpmpName,i.logMessages),this.hpm=t(this.wpmp,null,i.version,i.type),this.router=n(this.wpmp),this.uniqueSessionId=p.generateUUID(),this.router.post("/reports/:uniqueId/events/:eventName",function(e,t){o.handleEvent({type:"report",id:e.params.uniqueId,name:e.params.eventName,value:e.body})}),this.router.post("/reports/:uniqueId/pages/:pageName/events/:eventName",function(e,t){o.handleEvent({type:"report",id:e.params.uniqueId,name:e.params.eventName,value:e.body})}),this.router.post("/reports/:uniqueId/pages/:pageName/visuals/:visualName/events/:eventName",function(e,t){o.handleEvent({type:"report",id:e.params.uniqueId,name:e.params.eventName,value:e.body})}),this.router.post("/dashboards/:uniqueId/events/:eventName",function(e,t){o.handleEvent({type:"dashboard",id:e.params.uniqueId,name:e.params.eventName,value:e.body})}),this.router.post("/tile/:uniqueId/events/:eventName",function(e,t){o.handleEvent({type:"tile",id:e.params.uniqueId,name:e.params.eventName,value:e.body})}),this.router.post("/qna/:uniqueId/events/:eventName",function(e,t){o.handleEvent({type:"qna",id:e.params.uniqueId,name:e.params.eventName,value:e.body})}),this.router.post("/ready/:uniqueId",function(e,t){o.handleEvent({type:"report",id:e.params.uniqueId,name:"ready",value:e.body})}),this.embeds=[],this.config=p.assign({},e.defaultConfig,i),this.config.autoEmbedOnContentLoaded&&this.enableAutoEmbed()}return e.prototype.createReport=function(e,t){t.type="create";var r=e,n=new a.Create(this,r,t);return r.powerBiEmbed=n,this.addOrOverwriteEmbed(n,e),n},e.prototype.init=function(e,t){var r=this;return void 0===t&&(t=void 0),e=e&&e instanceof HTMLElement?e:document.body,Array.prototype.slice.call(e.querySelectorAll("["+o.Embed.embedUrlAttribute+"]")).map(function(e){return r.embed(e,t)})},e.prototype.embed=function(e,t){return void 0===t&&(t={}),this.registerApplicationContextHook(t),this.embedInternal(e,t)},e.prototype.load=function(e,t){return void 0===t&&(t={}),this.registerApplicationContextHook(t),this.embedInternal(e,t,!0,!1)},e.prototype.bootstrap=function(e,t){return this.registerApplicationContextHook(t),this.embedInternal(e,t,!1,!0)},e.prototype.embedInternal=function(e,t,r,n){void 0===t&&(t={});var i,o=e;if(o.powerBiEmbed){if(n)throw new Error("Attempted to bootstrap element "+e.outerHTML+", but the element is already a powerbi element.");i=this.embedExisting(o,t,r)}else i=this.embedNew(o,t,r,n);return i},e.prototype.getNumberOfComponents=function(){return this.embeds?this.embeds.length:0},e.prototype.getSdkSessionId=function(){return this.uniqueSessionId},e.prototype.embedNew=function(t,r,n,i){var a=r.type||t.getAttribute(o.Embed.typeAttribute);if(!a)throw new Error("Attempted to embed using config "+JSON.stringify(r)+" on element "+t.outerHTML+", but could not determine what type of component to embed. You must specify a type in the configuration or as an attribute such as '"+o.Embed.typeAttribute+'="'+s.Report.type.toLowerCase()+"\"'.");r.type=a;var l=p.find(function(e){return a===e.type.toLowerCase()},e.components);if(!l)throw new Error("Attempted to embed component of type: "+a+" but did not find any matching component.  Please verify the type you specified is intended.");var c=new l(this,t,r,n,i);return t.powerBiEmbed=c,this.addOrOverwriteEmbed(c,t),c},e.prototype.embedExisting=function(e,t,r){var n=p.find(function(t){return t.element===e},this.embeds);if(!n)throw new Error("Attempted to embed using config "+JSON.stringify(t)+" on element "+e.outerHTML+" which already has embedded component associated, but could not find the existing component in the list of active components. This could indicate the embeds list is out of sync with the DOM, or the component is referencing the incorrect HTML element.");if(t.type&&"qna"===t.type.toLowerCase())return this.embedNew(e,t);if("string"==typeof t.type&&t.type!==n.config.type){if("report"===t.type&&"create"===n.config.type){var i=new s.Report(this,e,t,!1,!1,e.powerBiEmbed.iframe);return n.populateConfig(t,!1),i.load(),e.powerBiEmbed=i,this.addOrOverwriteEmbed(n,e),i}throw new Error("Embedding on an existing element with a different type than the previous embed object is not supported.  Attempted to embed using config "+JSON.stringify(t)+" on element "+e.outerHTML+", but the existing element contains an embed of type: "+this.config.type+" which does not match the new type: "+t.type)}return n.populateConfig(t,!1),n.load(r),n},e.prototype.registerApplicationContextHook=function(e){var t,r=this,o=null===(t=null==e?void 0:e.eventHooks)||void 0===t?void 0:t.applicationContextProvider;if(o){if("report"!==(null==e?void 0:e.type.toLowerCase()))throw new Error("applicationContextProvider is only supported in report embed");if("function"!=typeof o)throw new Error("applicationContextProvider must be a function");this.router.post("preQuery",function(e,t){return n(r,void 0,void 0,function(){var r,n;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,o(e.body)];case 1:return r=i.sent(),t.send(200,r),[3,3];case 2:return n=i.sent(),t.send(400,null),console.error(n),[3,3];case 3:return[2]}})})})}},e.prototype.enableAutoEmbed=function(){var e=this;window.addEventListener("DOMContentLoaded",function(t){return e.init(document.body)},!1)},e.prototype.get=function(e){var t=e;if(!t.powerBiEmbed)throw new Error("You attempted to get an instance of powerbi component associated with element: "+e.outerHTML+" but there was no associated instance.");return t.powerBiEmbed},e.prototype.find=function(e){return p.find(function(t){return t.config.uniqueId===e},this.embeds)},e.prototype.addOrOverwriteEmbed=function(e,t){this.embeds=this.embeds.filter(function(e){return e.element!==t}),this.embeds.push(e)},e.prototype.reset=function(e){var t=e;if(t.powerBiEmbed){var r=t.powerBiEmbed;r.frontLoadHandler&&r.element.removeEventListener("ready",r.frontLoadHandler,!1),r.allowedEvents.forEach(function(e){r.off(e)}),p.remove(function(e){return e===t.powerBiEmbed},this.embeds),delete t.powerBiEmbed;var n=e.querySelector("iframe");n&&(void 0!==n.remove?n.remove():n.parentElement.removeChild(n))}},e.prototype.handleTileEvents=function(e){"tile"===e.type&&this.handleEvent(e)},e.prototype.handleEvent=function(e){var t=p.find(function(t){return t.config.uniqueId===e.id},this.embeds);if(t){var r=e.value;if("pageChanged"===e.name){var n="newPage",i=r[n];if(!i)throw new Error("Page model not found at 'event.value."+n+"'.");r[n]=new u.Page(t,i.name,i.displayName,!0)}p.raiseCustomEvent(t.element,e.name,r)}},e.prototype.preload=function(e,t){var r=document.createElement("iframe");r.setAttribute("style","display:none;"),r.setAttribute("src",e.embedUrl),r.setAttribute("scrolling","no"),r.setAttribute("allowfullscreen","false");var n=t;return n||(n=document.getElementsByTagName("body")[0]),n.appendChild(r),r.onload=function(){p.raiseCustomEvent(r,"preloaded",{})},r},e.components=[c.Tile,s.Report,l.Dashboard,d.Qna,h.Visual],e.defaultConfig={autoEmbedOnContentLoaded:!1,onError:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log(e[0],e.slice(1))}},e}();t.Service=f},"./src/tile.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Tile=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=function(e){function t(r,n,i,o,s){var a=this;return(a=e.call(this,r,n,i,void 0,o,s)||this).loadPath="/tile/load",Array.prototype.push.apply(a.allowedEvents,t.allowedEvents),a}return i(t,e),t.prototype.getId=function(){var e=this.config.id||t.findIdFromEmbedUrl(this.config.embedUrl);if("string"!=typeof e||0===e.length)throw new Error("Tile id is required, but it was not found. You must provide an id either as part of embed configuration.");return e},t.prototype.validate=function(e){return o.validateTileLoad(e)},t.prototype.configChanged=function(e){e||(this.config.id=this.getId())},t.prototype.getDefaultEmbedUrlEndpoint=function(){return"tileEmbed"},t.findIdFromEmbedUrl=function(e){var t,r=e.match(/tileId="?([^&]+)"?/);return r&&(t=r[1]),t},t.type="Tile",t.allowedEvents=["tileClicked","tileLoaded"],t}(r("./src/embed.ts").Embed);t.Tile=s},"./src/util.ts":function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function i(e,t){if(!Array.isArray(t))throw new Error("You attempted to call find with second parameter that was not an array. You passed: "+t);var r;return t.some(function(t,n){if(e(t))return r=n,!0}),r}function o(){var e=window.crypto||window.msCrypto,t=new Uint32Array(1);return e.getRandomValues(t),t[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeDiffInMilliseconds=t.getRandomValue=t.autoAuthInEmbedUrl=t.isRDLEmbed=t.isSavedInternal=t.addParamToUrl=t.generateUUID=t.createRandomString=t.assign=t.remove=t.find=t.findIndex=t.raiseCustomEvent=void 0,t.raiseCustomEvent=function(e,t,r){var n;"function"==typeof CustomEvent?n=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,r),e.dispatchEvent(n)},t.findIndex=i,t.find=function(e,t){return t[i(e,t)]},t.remove=function(e,t){var r=i(e,t);t.splice(r,1)},t.assign=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0];if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(r),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n},t.createRandomString=function(){return o().toString(36).substring(1)},t.generateUUID=function(){return(new Date).getTime(),"undefined"!=typeof performance&&"function"==typeof performance.now&&performance.now(),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){return(o()%16).toString(16)})},t.addParamToUrl=function(e,t,r){var n=e.indexOf("?")>0?"&":"?";return e+(n+t+"=")+r},t.isSavedInternal=function(e,t,i){return r(this,void 0,void 0,function(){return n(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.get("/report/hasUnsavedChanges",{uid:t},i)];case 1:return[2,!r.sent().body];case 2:throw r.sent().body;case 3:return[2]}})})},t.isRDLEmbed=function(e){return e&&e.toLowerCase().indexOf("/rdlembed?")>=0},t.autoAuthInEmbedUrl=function(e){return e&&decodeURIComponent(e).toLowerCase().indexOf("autoauth=true")>=0},t.getRandomValue=o,t.getTimeDiffInMilliseconds=function(e,t){return Math.abs(e.getTime()-t.getTime())}},"./src/visual.ts":function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Visual=void 0;var a=r("./node_modules/powerbi-models/dist/models.js"),l=r("./src/report.ts"),c=r("./src/visualDescriptor.ts"),u=function(e){function t(t,r,n,i,o,s){return e.call(this,t,r,n,i,o,s)||this}return i(t,e),t.prototype.load=function(t){var r=this.config;if(r.accessToken){if("string"!=typeof r.pageName||0===r.pageName.length)throw new Error("Page name is required when embedding a visual.");if("string"!=typeof r.visualName||0===r.visualName.length)throw new Error("Visual name is required, but it was not found. You must provide a visual name as part of embed configuration.");var n={type:a.PageSizeType.Custom,width:r.width?r.width:this.iframe.offsetWidth,height:r.height?r.height:this.iframe.offsetHeight},i={};return i[r.pageName]={defaultLayout:{displayState:{mode:a.VisualContainerDisplayMode.Hidden}},visualsLayout:{}},i[r.pageName].visualsLayout[r.visualName]={displayState:{mode:a.VisualContainerDisplayMode.Visible},x:1,y:1,z:1,width:n.width,height:n.height},r.settings=r.settings||{},r.settings.filterPaneEnabled=!1,r.settings.navContentPaneEnabled=!1,r.settings.layoutType=a.LayoutType.Custom,r.settings.customLayout={displayOption:a.DisplayOption.FitToPage,pageSize:n,pagesLayout:i},this.config=r,e.prototype.load.call(this,t)}},t.prototype.getPages=function(){throw t.GetPagesNotSupportedError},t.prototype.setPage=function(e){throw t.SetPageNotSupportedError},t.prototype.render=function(e){return o(this,void 0,void 0,function(){return s(this,function(e){throw t.RenderNotSupportedError})})},t.prototype.getVisualDescriptor=function(){return o(this,void 0,void 0,function(){var e,t,r,n,i;return s(this,function(o){switch(o.label){case 0:e=this.config,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/pages/"+e.pageName+"/visuals",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:if(t=o.sent(),0===(r=t.body.filter(function(t){return t.name===e.visualName})).length)throw{message:"visualNotFound",detailedMessage:"Visual not found"};return n=r[0],i=this.page(e.pageName),[2,new c.VisualDescriptor(i,n.name,n.title,n.type,n.layout)];case 3:throw o.sent().body;case 4:return[2]}})})},t.prototype.getFilters=function(e){return o(this,void 0,void 0,function(){var t;return s(this,function(r){switch(r.label){case 0:t=this.getFiltersLevelUrl(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.hpm.get(t,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,r.sent().body];case 3:throw r.sent().body;case 4:return[2]}})})},t.prototype.updateFilters=function(e,t,r){return o(this,void 0,void 0,function(){var n,i;return s(this,function(o){switch(o.label){case 0:n={filtersOperation:e,filters:t},i=this.getFiltersLevelUrl(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.service.hpm.post(i,n,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,o.sent()];case 3:throw o.sent().body;case 4:return[2]}})})},t.prototype.setFilters=function(e,t){return o(this,void 0,void 0,function(){var r;return s(this,function(n){switch(n.label){case 0:r=this.getFiltersLevelUrl(t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.service.hpm.put(r,e,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,n.sent()];case 3:throw n.sent().body;case 4:return[2]}})})},t.prototype.removeFilters=function(e){return o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.updateFilters(a.FiltersOperations.RemoveAll,void 0,e)];case 1:return[2,t.sent()]}})})},t.prototype.getFiltersLevelUrl=function(e){var t=this.config;switch(e){case a.FiltersLevel.Report:return"/report/filters";case a.FiltersLevel.Page:return"/report/pages/"+t.pageName+"/filters";default:return"/report/pages/"+t.pageName+"/visuals/"+t.visualName+"/filters"}},t.type="visual",t.GetPagesNotSupportedError="Get pages is not supported while embedding a visual.",t.SetPageNotSupportedError="Set page is not supported while embedding a visual.",t.RenderNotSupportedError="render is not supported while embedding a visual.",t}(l.Report);t.Visual=u},"./src/visualDescriptor.ts":function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.VisualDescriptor=void 0;var o=r("./node_modules/powerbi-models/dist/models.js"),s=function(){function e(e,t,r,n,i){this.name=t,this.title=r,this.type=n,this.layout=i,this.page=e}return e.prototype.getFilters=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.page.report.service.hpm.get("/report/pages/"+this.page.name+"/visuals/"+this.name+"/filters",{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,e.sent().body];case 2:throw e.sent().body;case 3:return[2]}})})},e.prototype.updateFilters=function(e,t){return n(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:r={filtersOperation:e,filters:t},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.page.report.service.hpm.post("/report/pages/"+this.page.name+"/visuals/"+this.name+"/filters",r,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 2:return[2,n.sent()];case 3:throw n.sent().body;case 4:return[2]}})})},e.prototype.removeFilters=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.updateFilters(o.FiltersOperations.RemoveAll)];case 1:return[2,e.sent()]}})})},e.prototype.setFilters=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.page.report.service.hpm.put("/report/pages/"+this.page.name+"/visuals/"+this.name+"/filters",e,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,t.sent()];case 2:throw t.sent().body;case 3:return[2]}})})},e.prototype.exportData=function(e,t){return n(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:r={rows:t,exportDataType:e},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.page.report.service.hpm.post("/report/pages/"+this.page.name+"/visuals/"+this.name+"/exportData",r,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 2:return[2,n.sent().body];case 3:throw n.sent().body;case 4:return[2]}})})},e.prototype.setSlicerState=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.page.report.service.hpm.put("/report/pages/"+this.page.name+"/visuals/"+this.name+"/slicer",e,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,t.sent()];case 2:throw t.sent().body;case 3:return[2]}})})},e.prototype.getSlicerState=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.page.report.service.hpm.get("/report/pages/"+this.page.name+"/visuals/"+this.name+"/slicer",{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,e.sent().body];case 2:throw e.sent().body;case 3:return[2]}})})},e.prototype.clone=function(e){return void 0===e&&(e={}),n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.page.report.service.hpm.post("/report/pages/"+this.page.name+"/visuals/"+this.name+"/clone",e,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,t.sent().body];case 2:throw t.sent().body;case 3:return[2]}})})},e.prototype.sortBy=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.page.report.service.hpm.put("/report/pages/"+this.page.name+"/visuals/"+this.name+"/sortBy",e,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,t.sent()];case 2:throw t.sent().body;case 3:return[2]}})})},e.prototype.moveVisual=function(e,t,r){return n(this,void 0,void 0,function(){return i(this,function(n){return[2,this.page.report.moveVisual(this.page.name,this.name,e,t,r)]})})},e.prototype.setVisualDisplayState=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){return[2,this.page.report.setVisualDisplayState(this.page.name,this.name,e)]})})},e.prototype.resizeVisual=function(e,t){return n(this,void 0,void 0,function(){return i(this,function(r){return[2,this.page.report.resizeVisual(this.page.name,this.name,e,t)]})})},e}();t.VisualDescriptor=s}})},9771:function(e,t,r){"use strict";function n(e){return"function"==typeof e}let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function s(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},l=Array.isArray||(e=>e&&"number"==typeof e.length);function c(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class d{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof d)t.remove(this);else if(null!==t)for(let n=0;n<t.length;++n)t[n].remove(this);if(n(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){e=s instanceof u?p(s.errors):[s]}}if(l(o)){let t=-1,r=o.length;for(;++t<r;){const r=o[t];if(c(r))try{r.unsubscribe()}catch(a){e=e||[],a instanceof u?e=e.concat(p(a.errors)):e.push(a)}}}if(e)throw new u(e)}add(e){let t=e;if(!e)return d.EMPTY;switch(typeof e){case"function":t=new d(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof d)){const e=t;t=new d,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof d){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const n=this._subscriptions;return null===n?this._subscriptions=[t]:n.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var h;function p(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}d.EMPTY=((h=new d).closed=!0,h);const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,r)}}[f](){return this}static create(e,t,r){const n=new g(e,t,r);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends g{constructor(e,t,r,i){super(),this._parentSubscriber=e;let o,s=this;n(t)?o=t:t&&(o=t.next,r=t.error,i=t.complete,t!==a&&(s=Object.create(t),n(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=o;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw r;s(r)}}__tryOrSetError(e,t,r){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(n){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(s(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(e){return e}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(e,t,r){const{operator:n}=this,i=function(e,t,r){if(e){if(e instanceof g)return e;if(e[f])return e[f]()}return e||t||r?new g(e,t,r):new g(a)}(e,t,r);if(i.add(n?n.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:r,isStopped:n}=e;if(t||n)return!1;e=r&&r instanceof g?r:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=b(t))((t,r)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(i){r(i),n&&n.unsubscribe()}},r,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[y](){return this}pipe(...e){return 0===e.length?this:function(e){return 0===e.length?v:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}(e)(this)}toPromise(e){return new(e=b(e))((e,t)=>{let r;this.subscribe(e=>r=e,e=>t(e),()=>e(r))})}}return e.create=t=>new e(t),e})();function b(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const _=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class E extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class S extends g{constructor(e){super(e),this.destination=e}}let C=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new S(this)}lift(e){const t=new T(this,this);return t.operator=e,t}next(e){if(this.closed)throw new _;if(!this.isStopped){const{observers:t}=this,r=t.length,n=t.slice();for(let i=0;i<r;i++)n[i].next(e)}}error(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,r=t.length,n=t.slice();for(let i=0;i<r;i++)n[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:e}=this,t=e.length,r=e.slice();for(let n=0;n<t;n++)r[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new _;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new E(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new T(e,t),e})();class T extends C{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function A(e){return e&&"function"==typeof e.schedule}function R(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new I(e,t))}}class I{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new O(e,this.project,this.thisArg))}}class O extends g{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const k=e=>t=>{for(let r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()},P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",V=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function N(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const x=e=>{if(e&&"function"==typeof e[y])return(e=>t=>{const r=e[y]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)})(e);if(V(e))return k(e);if(N(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t))(e);if(e&&"function"==typeof e[P])return(e=>t=>{const r=e[P]();for(;;){let e;try{e=r.next()}catch(n){return t.error(n),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof r.return&&t.add(()=>{r.return&&r.return()}),t})(e);{const t=`You provided ${c(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function F(e,t){return new w(r=>{const n=new d;let i=0;return n.add(t.schedule(function(){i!==e.length?(r.next(e[i++]),r.closed||n.add(this.schedule())):r.complete()})),n})}function M(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new w(r=>{const n=new d;return n.add(t.schedule(()=>{const i=e[y]();n.add(i.subscribe({next(e){n.add(t.schedule(()=>r.next(e)))},error(e){n.add(t.schedule(()=>r.error(e)))},complete(){n.add(t.schedule(()=>r.complete()))}}))})),n})}(e,t);if(N(e))return function(e,t){return new w(r=>{const n=new d;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{r.next(e),n.add(t.schedule(()=>r.complete()))}))},e=>{n.add(t.schedule(()=>r.error(e)))}))),n})}(e,t);if(V(e))return F(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(r=>{const n=new d;let i;return n.add(()=>{i&&"function"==typeof i.return&&i.return()}),n.add(t.schedule(()=>{i=e[P](),n.add(t.schedule(function(){if(r.closed)return;let e,t;try{const r=i.next();e=r.value,t=r.done}catch(n){return void r.error(n)}t?r.complete():(r.next(e),this.schedule())}))})),n})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(x(e))}class D extends g{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class U extends g{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function L(e,t){if(t.closed)return;if(e instanceof w)return e.subscribe(t);let r;try{r=x(e)(t)}catch(n){t.error(n)}return r}function j(e,t,r=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(j((r,n)=>M(e(r,n)).pipe(R((e,i)=>t(r,e,n,i))),r)):("number"==typeof t&&(r=t),t=>t.lift(new q(e,r)))}class q{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new H(e,this.project,this.concurrent))}}class H extends U{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t)}_innerSub(e){const t=new D(this),r=this.destination;r.add(t);const n=L(e,t);n!==t&&r.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function B(e=Number.POSITIVE_INFINITY){return j(v,e)}function K(e,t){return t?F(e,t):new w(k(e))}function z(){return function(e){return e.lift(new G(e))}}class G{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const n=new W(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i}}class W extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,n=e._connection;this.connection=null,n&&(!r||n===r)&&n.unsubscribe()}}class $ extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new d,e.add(this.source.subscribe(new Y(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}refCount(){return z()(this)}}const Q=(()=>{const e=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Y extends S{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function J(){return new C}function Z(e){for(let t in e)if(e[t]===Z)return t;throw Error("Could not find renamed property on target object.")}function X(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(X).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function ee(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const te=Z({__forward_ref__:Z});function re(e){return e.__forward_ref__=re,e.toString=function(){return X(this())},e}function ne(e){return function(e){return"function"==typeof e&&e.hasOwnProperty(te)&&e.__forward_ref__===re}(e)?e():e}class ie extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function oe(e){return"string"==typeof e?e:null==e?"":String(e)}function se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():oe(e)}function ae(e,t){const r=t?` in ${t}`:"";throw new ie("201",`No provider for ${se(e)} found${r}`)}function le(e,t){null==e&&function(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ue(e){return{providers:e.providers||[],imports:e.imports||[]}}function de(e){return he(e,fe)||he(e,me)}function he(e,t){return e.hasOwnProperty(t)?e[t]:null}function pe(e){return e&&(e.hasOwnProperty(ge)||e.hasOwnProperty(ye))?e[ge]:null}const fe=Z({"\u0275prov":Z}),ge=Z({"\u0275inj":Z}),me=Z({ngInjectableDef:Z}),ye=Z({ngInjectorDef:Z});var ve=(()=>((ve=ve||{})[ve.Default=0]="Default",ve[ve.Host=1]="Host",ve[ve.Self=2]="Self",ve[ve.SkipSelf=4]="SkipSelf",ve[ve.Optional=8]="Optional",ve))();let we;function be(e){const t=we;return we=e,t}function _e(e,t,r){const n=de(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&ve.Optional?null:void 0!==t?t:void ae(X(e),"Injector")}function Ee(e){return{toString:e}.toString()}var Se=(()=>((Se=Se||{})[Se.OnPush=0]="OnPush",Se[Se.Default=1]="Default",Se))(),Ce=(()=>((Ce=Ce||{})[Ce.Emulated=0]="Emulated",Ce[Ce.None=2]="None",Ce[Ce.ShadowDom=3]="ShadowDom",Ce))();const Te="undefined"!=typeof globalThis&&globalThis,Ae="undefined"!=typeof window&&window,Re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie="undefined"!=typeof global&&global,Oe=Te||Ie||Ae||Re,ke={},Pe=[],Ve=Z({"\u0275cmp":Z}),Ne=Z({"\u0275dir":Z}),xe=Z({"\u0275pipe":Z}),Fe=Z({"\u0275mod":Z}),Me=Z({"\u0275loc":Z}),De=Z({"\u0275fac":Z}),Ue=Z({__NG_ELEMENT_ID__:Z});let Le=0;function je(e){return Ee(()=>{const t={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Pe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ce.Emulated,id:"c",styles:e.styles||Pe,_:null,setInput:null,schemas:e.schemas||null,tView:null},n=e.directives,i=e.features,o=e.pipes;return r.id+=Le++,r.inputs=ze(e.inputs,t),r.outputs=ze(e.outputs),i&&i.forEach(e=>e(r)),r.directiveDefs=n?()=>("function"==typeof n?n():n).map(qe):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(He):null,r})}function qe(e){return $e(e)||function(e){return e[Ne]||null}(e)}function He(e){return function(e){return e[xe]||null}(e)}const Be={};function Ke(e){return Ee(()=>{const t={type:e.type,bootstrap:e.bootstrap||Pe,declarations:e.declarations||Pe,imports:e.imports||Pe,exports:e.exports||Pe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Be[e.id]=e.type),t})}function ze(e,t){if(null==e)return ke;const r={};for(const n in e)if(e.hasOwnProperty(n)){let i=e[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),r[i]=n,t&&(t[i]=o)}return r}const Ge=je;function We(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function $e(e){return e[Ve]||null}function Qe(e,t){const r=e[Fe]||null;if(!r&&!0===t)throw new Error(`Type ${X(e)} does not have '\u0275mod' property.`);return r}function Ye(e){return Array.isArray(e)&&"object"==typeof e[1]}function Je(e){return Array.isArray(e)&&!0===e[1]}function Ze(e){return 0!=(8&e.flags)}function Xe(e){return 2==(2&e.flags)}function et(e){return 1==(1&e.flags)}function tt(e){return null!==e.template}function rt(e){return 0!=(512&e[2])}function nt(e,t){return e.hasOwnProperty(De)?e[De]:null}class it{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ot(e){return e.type.prototype.ngOnChanges&&(e.setInput=at),st}function st(){const e=ct(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===ke)e.previous=t;else for(let e in t)r[e]=t[e];e.current=null,this.ngOnChanges(t)}}function at(e,t,r,n){const i=ct(e)||function(e,t){return e[lt]=t}(e,{previous:ke,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[r],l=s[a];o[a]=new it(l&&l.currentValue,t,s===ke),e[n]=t}const lt="__ngSimpleChanges__";function ct(e){return e[lt]||null}let ut;function dt(e){return!!e.listen}const ht={createRenderer:(e,t)=>void 0!==ut?ut:"undefined"!=typeof document?document:void 0};function pt(e){for(;Array.isArray(e);)e=e[0];return e}function ft(e,t){return pt(t[e.index])}function gt(e,t){return e.data[t]}function mt(e,t){const r=t[e];return Ye(r)?r:r[0]}function yt(e){return 4==(4&e[2])}function vt(e){return 128==(128&e[2])}function wt(e,t){return null==t?null:e[t]}function bt(e){e[18]=0}function _t(e,t){e[5]+=t;let r=e,n=e[3];for(;null!==n&&(1===t&&1===r[5]||-1===t&&0===r[5]);)n[5]+=t,r=n,n=n[3]}const Et={lFrame:qt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function St(){return Et.bindingsEnabled}function Ct(){return Et.lFrame.lView}function Tt(){return Et.lFrame.tView}function At(){let e=Rt();for(;null!==e&&64===e.type;)e=e.parent;return e}function Rt(){return Et.lFrame.currentTNode}function It(e,t){const r=Et.lFrame;r.currentTNode=e,r.isParent=t}function Ot(){return Et.lFrame.isParent}function kt(){return Et.isInCheckNoChangesMode}function Pt(e){Et.isInCheckNoChangesMode=e}function Vt(){return Et.lFrame.bindingIndex++}function Nt(e,t){const r=Et.lFrame;r.bindingIndex=r.bindingRootIndex=e,xt(t)}function xt(e){Et.lFrame.currentDirectiveIndex=e}function Ft(){return Et.lFrame.currentQueryIndex}function Mt(e){Et.lFrame.currentQueryIndex=e}function Dt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ut(e,t,r){if(r&ve.SkipSelf){let n=t,i=e;for(;!(n=n.parent,null!==n||r&ve.Host||(n=Dt(i),null===n||(i=i[15],10&n.type))););if(null===n)return!1;t=n,e=i}const n=Et.lFrame=jt();return n.currentTNode=t,n.lView=e,!0}function Lt(e){const t=jt(),r=e[1];Et.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function jt(){const e=Et.lFrame,t=null===e?null:e.child;return null===t?qt(e):t}function qt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ht(){const e=Et.lFrame;return Et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bt=Ht;function Kt(){const e=Ht();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zt(){return Et.lFrame.selectedIndex}function Gt(e){Et.lFrame.selectedIndex=e}function Wt(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const t=e.data[r].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=t;n&&(e.contentHooks||(e.contentHooks=[])).push(-r,n),i&&((e.contentHooks||(e.contentHooks=[])).push(r,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,i)),o&&(e.viewHooks||(e.viewHooks=[])).push(-r,o),s&&((e.viewHooks||(e.viewHooks=[])).push(r,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(r,a)}}function $t(e,t,r){Jt(e,t,3,r)}function Qt(e,t,r,n){(3&e[2])===r&&Jt(e,t,r,n)}function Yt(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function Jt(e,t,r,n){const i=null!=n?n:-1,o=t.length-1;let s=0;for(let a=void 0!==n?65535&e[18]:0;a<o;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=n&&s>=n)break}else t[a]<0&&(e[18]+=65536),(s<i||-1==i)&&(Zt(e,r,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Zt(e,t,r,n){const i=r[n]<0,o=r[n+1],s=e[i?-r[n]:r[n]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}class Xt{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function er(e,t,r){const n=dt(e);let i=0;for(;i<r.length;){const o=r[i];if("number"==typeof o){if(0!==o)break;i++;const s=r[i++],a=r[i++],l=r[i++];n?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=r[++i];rr(s)?n&&e.setProperty(t,s,a):n?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function tr(e){return 3===e||4===e||6===e}function rr(e){return 64===e.charCodeAt(0)}function nr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i?r=i:0===r||ir(e,r,i,null,-1===r||2===r?t[++n]:null)}}return e}function ir(e,t,r,n,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const r=e[o++];if("number"==typeof r){if(r===t){s=-1;break}if(r>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===r){if(null===n)return void(null!==i&&(e[o+1]=i));if(n===e[o+1])return void(e[o+2]=i)}o++,null!==n&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,r),null!==n&&e.splice(o++,0,n),null!==i&&e.splice(o++,0,i)}function or(e){return-1!==e}function sr(e){return 32767&e}function ar(e,t){let r=function(e){return e>>16}(e),n=t;for(;r>0;)n=n[15],r--;return n}let lr=!0;function cr(e){const t=lr;return lr=e,t}let ur=0;function dr(e,t){const r=pr(e,t);if(-1!==r)return r;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,hr(n.data,e),hr(t,null),hr(n.blueprint,null));const i=fr(e,t),o=e.injectorIndex;if(or(i)){const e=sr(i),r=ar(i,t),n=r[1].data;for(let i=0;i<8;i++)t[o+i]=r[e+i]|n[e+i]}return t[o+8]=i,o}function hr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function fr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(n=2===t?e.declTNode:1===t?i[6]:null,null===n)return-1;if(r++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return-1}function gr(e,t,r){!function(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(Ue)&&(n=r[Ue]),null==n&&(n=r[Ue]=ur++);const i=255&n;t.data[e+(i>>5)]|=1<<i}(e,t,r)}function mr(e,t,r){if(r&ve.Optional)return e;ae(t,"NodeInjector")}function yr(e,t,r,n){if(r&ve.Optional&&void 0===n&&(n=null),0==(r&(ve.Self|ve.Host))){const i=e[9],o=be(void 0);try{return i?i.get(t,n,r&ve.Optional):_e(t,n,r&ve.Optional)}finally{be(o)}}return mr(n,t,r)}function vr(e,t,r,n=ve.Default,i){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ue)?e[Ue]:void 0;return"number"==typeof t?t>=0?255&t:br:t}(r);if("function"==typeof o){if(!Ut(t,e,n))return n&ve.Host?mr(i,r,n):yr(t,r,n,i);try{const e=o(n);if(null!=e||n&ve.Optional)return e;ae(r)}finally{Bt()}}else if("number"==typeof o){let i=null,s=pr(e,t),a=-1,l=n&ve.Host?t[16][6]:null;for((-1===s||n&ve.SkipSelf)&&(a=-1===s?fr(e,t):t[s+8],-1!==a&&Tr(n,!1)?(i=t[1],s=sr(a),t=ar(a,t)):s=-1);-1!==s;){const e=t[1];if(Cr(o,s,e.data)){const e=_r(s,t,r,i,n,l);if(e!==wr)return e}a=t[s+8],-1!==a&&Tr(n,t[1].data[s+8]===l)&&Cr(o,s,t)?(i=e,s=sr(a),t=ar(a,t)):s=-1}}}return yr(t,r,n,i)}const wr={};function br(){return new Ar(At(),Ct())}function _r(e,t,r,n,i,o){const s=t[1],a=s.data[e+8],l=Er(a,s,r,null==n?Xe(a)&&lr:n!=s&&0!=(3&a.type),i&ve.Host&&o===a);return null!==l?Sr(t,s,l,a):wr}function Er(e,t,r,n,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,u=i?a+c:e.directiveEnd;for(let d=n?a:a+c;d<u;d++){const e=s[d];if(d<l&&r===e||d>=l&&e.type===r)return d}if(i){const e=s[l];if(e&&tt(e)&&e.type===r)return l}return null}function Sr(e,t,r,n){let i=e[r];const o=t.data;if(function(e){return e instanceof Xt}(i)){const s=i;s.resolving&&function(e,t){throw new ie("200",`Circular dependency in DI detected for ${e}`)}(se(o[r]));const a=cr(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?be(s.injectImpl):null;Ut(e,n,ve.Default);try{i=e[r]=s.factory(void 0,o,e,n),t.firstCreatePass&&r>=n.directiveStart&&function(e,t,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(n){const n=ot(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,n),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,n)}i&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,i),o&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,o),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,o))}(r,o[r],t)}finally{null!==l&&be(l),cr(a),s.resolving=!1,Bt()}}return i}function Cr(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function Tr(e,t){return!(e&ve.Self||e&ve.Host&&t)}class Ar{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return vr(this._tNode,this._lView,e,void 0,t)}}const Rr="__parameters__";function Ir(e,t,r){return Ee(()=>{const n=function(e){return function(...t){if(e){const r=e(...t);for(const e in r)this[e]=r[e]}}}(t);function i(...e){if(this instanceof i)return n.apply(this,e),this;const t=new i(...e);return r.annotation=t,r;function r(e,r,n){const i=e.hasOwnProperty(Rr)?e[Rr]:Object.defineProperty(e,Rr,{value:[]})[Rr];for(;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(t),e}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Or{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kr=new Or("AnalyzeForEntryComponents"),Pr=Function;function Vr(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let n=e[r];Array.isArray(n)?(t===e&&(t=e.slice(0,r)),Vr(n,t)):t!==e&&t.push(n)}return t}function Nr(e,t){e.forEach(e=>Array.isArray(e)?Nr(e,t):t(e))}function xr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Fr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Mr={},Dr="__NG_DI_FLAG__",Ur="ngTempTokenPath",Lr=/\n/gm,jr="__source",qr=Z({provide:String,useValue:Z});let Hr;function Br(e){const t=Hr;return Hr=e,t}function Kr(e,t=ve.Default){if(void 0===Hr)throw new Error("inject() must be called from an injection context");return null===Hr?_e(e,void 0,t):Hr.get(e,t&ve.Optional?null:void 0,t)}function zr(e,t=ve.Default){return(we||Kr)(ne(e),t)}function Gr(e){const t=[];for(let r=0;r<e.length;r++){const n=ne(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let e,r=ve.Default;for(let t=0;t<n.length;t++){const i=n[t],o=$r(i);"number"==typeof o?-1===o?e=i.token:r|=o:e=i}t.push(zr(e,r))}else t.push(zr(n))}return t}function Wr(e,t){return e[Dr]=t,e.prototype[Dr]=t,e}function $r(e){return e[Dr]}function Qr(e,t,r,n){const i=e[Ur];throw t[jr]&&i.unshift(t[jr]),e.message=function(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=X(t);if(Array.isArray(t))i=t.map(X).join(" -> ");else if("object"==typeof t){let e=[];for(let r in t)if(t.hasOwnProperty(r)){let n=t[r];e.push(r+":"+("string"==typeof n?JSON.stringify(n):X(n)))}i=`{${e.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(Lr,"\n  ")}`}("\n"+e.message,i,r,n),e.ngTokenPath=i,e[Ur]=null,e}const Yr=Wr(Ir("Inject",e=>({token:e})),-1),Jr=Wr(Ir("Optional"),8),Zr=Wr(Ir("SkipSelf"),4),Xr="__ngContext__";function en(e,t){e[Xr]=t}function tn(e){const t=function(e){return e[Xr]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function rn(e){return e.ngOriginalError}function nn(e,...t){e.error(...t)}class on{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),n=function(e){return e&&e.ngErrorLogger||nn}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t),r&&n(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(rn(e)):null}_findOriginalError(e){let t=e&&rn(e);for(;t&&rn(t);)t=rn(t);return t||null}}const sn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))();function an(e){return e instanceof Function?e():e}var ln=(()=>((ln=ln||{})[ln.Important=1]="Important",ln[ln.DashCase=2]="DashCase",ln))();function cn(e,t){return undefined(e,t)}function un(e){const t=e[3];return Je(t)?t[3]:t}function dn(e){return pn(e[13])}function hn(e){return pn(e[4])}function pn(e){for(;null!==e&&!Je(e);)e=e[4];return e}function fn(e,t,r,n,i){if(null!=n){let o,s=!1;Je(n)?o=n:Ye(n)&&(s=!0,n=n[0]);const a=pt(n);0===e&&null!==r?null==i?En(t,r,a):_n(t,r,a,i||null,!0):1===e&&null!==r?_n(t,r,a,i||null,!0):2===e?function(e,t,r){const n=Cn(e,t);n&&function(e,t,r,n){dt(e)?e.removeChild(t,r,n):t.removeChild(r)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,r,n,i){const o=r[7];o!==pt(r)&&fn(t,e,n,o,i);for(let s=10;s<r.length;s++){const i=r[s];Pn(i[1],i,e,t,n,o)}}(t,e,o,r,i)}}function gn(e,t,r){return dt(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function mn(e,t){const r=e[9],n=r.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,_t(i,-1)),r.splice(n,1)}function yn(e,t){if(e.length<=10)return;const r=10+t,n=e[r];if(n){const i=n[17];null!==i&&i!==e&&mn(i,n),t>0&&(e[r-1][4]=n[4]);const o=Fr(e,10+t);!function(e,t){Pn(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(n[1],n);const s=o[19];null!==s&&s.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function vn(e,t){if(!(256&t[2])){const r=t[11];dt(r)&&r.destroyNode&&Pn(e,t,r,3,null,null),function(e){let t=e[13];if(!t)return wn(e[1],e);for(;t;){let r=null;if(Ye(t))r=t[13];else{const e=t[10];e&&(r=e)}if(!r){for(;t&&!t[4]&&t!==e;)Ye(t)&&wn(t[1],t),t=t[3];null===t&&(t=e),Ye(t)&&wn(t[1],t),r=t&&t[4]}t=r}}(t)}}function wn(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const e=t[r[n]];if(!(e instanceof Xt)){const t=r[n+1];if(Array.isArray(t))for(let r=0;r<t.length;r+=2){const n=e[t[r]],i=t[r+1];try{i.call(n)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const r=e.cleanup,n=t[7];let i=-1;if(null!==r)for(let o=0;o<r.length-1;o+=2)if("string"==typeof r[o]){const e=r[o+1],s="function"==typeof e?e(t):pt(t[e]),a=n[i=r[o+2]],l=r[o+3];"boolean"==typeof l?s.removeEventListener(r[o],a,l):l>=0?n[i=l]():n[i=-l].unsubscribe(),o+=2}else{const e=n[i=r[o+1]];r[o].call(e)}if(null!==n){for(let e=i+1;e<n.length;e++)n[e]();t[7]=null}}(e,t),1===t[1].type&&dt(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&Je(t[3])){r!==t[3]&&mn(r,t);const n=t[19];null!==n&&n.detachView(e)}}}function bn(e,t,r){return function(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[0];if(2&n.flags){const t=e.data[n.directiveStart].encapsulation;if(t===Ce.None||t===Ce.Emulated)return null}return ft(n,r)}(e,t.parent,r)}function _n(e,t,r,n,i){dt(e)?e.insertBefore(t,r,n,i):t.insertBefore(r,n,i)}function En(e,t,r){dt(e)?e.appendChild(t,r):t.appendChild(r)}function Sn(e,t,r,n,i){null!==n?_n(e,t,r,n,i):En(e,t,r)}function Cn(e,t){return dt(e)?e.parentNode(t):t.parentNode}let Tn=function(e,t,r){return 40&e.type?ft(e,r):null};function An(e,t,r,n){const i=bn(e,n,t),o=t[11],s=function(e,t,r){return Tn(e,t,r)}(n.parent||t[6],n,t);if(null!=i)if(Array.isArray(r))for(let a=0;a<r.length;a++)Sn(o,i,r[a],s,!1);else Sn(o,i,r,s,!1)}function Rn(e,t){if(null!==t){const r=t.type;if(3&r)return ft(t,e);if(4&r)return On(-1,e[t.index]);if(8&r){const r=t.child;if(null!==r)return Rn(e,r);{const r=e[t.index];return Je(r)?On(-1,r):pt(r)}}if(32&r)return cn(t,e)()||pt(e[t.index]);{const r=In(e,t);return null!==r?Array.isArray(r)?r[0]:Rn(un(e[16]),r):Rn(e,t.next)}}return null}function In(e,t){return null!==t?e[16][6].projection[t.projection]:null}function On(e,t){const r=10+e+1;if(r<t.length){const e=t[r],n=e[1].firstChild;if(null!==n)return Rn(e,n)}return t[7]}function kn(e,t,r,n,i,o,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&en(pt(a),n),r.flags|=4),64!=(64&r.flags))if(8&l)kn(e,t,r.child,n,i,o,!1),fn(t,e,i,a,o);else if(32&l){const s=cn(r,n);let l;for(;l=s();)fn(t,e,i,l,o);fn(t,e,i,a,o)}else 16&l?Vn(e,t,n,r,i,o):fn(t,e,i,a,o);r=s?r.projectionNext:r.next}}function Pn(e,t,r,n,i,o){kn(r,n,e.firstChild,t,i,o,!1)}function Vn(e,t,r,n,i,o){const s=r[16],a=s[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)fn(t,e,i,a[l],o);else kn(e,t,a,s[3],i,o,!0)}function Nn(e,t,r){dt(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function xn(e,t,r){dt(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function Fn(e,t,r){let n=e.length;for(;;){const i=e.indexOf(t,r);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const r=t.length;if(i+r===n||e.charCodeAt(i+r)<=32)return i}r=i+1}}const Mn="ng-template";function Dn(e,t,r){let n=0;for(;n<e.length;){let i=e[n++];if(r&&"class"===i){if(i=e[n],-1!==Fn(i.toLowerCase(),t,0))return!0}else if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Un(e){return 4===e.type&&e.value!==Mn}function Ln(e,t,r){return t===(4!==e.type||r?e.value:Mn)}function jn(e,t,r){let n=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(tr(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!Ln(e,l,r)||""===l&&1===t.length){if(qn(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Dn(e.attrs,c,r)){if(qn(n))return!1;s=!0}continue}const u=Hn(8&n?"class":l,i,Un(e),r);if(-1===u){if(qn(n))return!1;s=!0;continue}if(""!==c){let e;e=u>o?"":i[u+1].toLowerCase();const t=8&n?e:null;if(t&&-1!==Fn(t,c,0)||2&n&&c!==e){if(qn(n))return!1;s=!0}}}}else{if(!s&&!qn(n)&&!qn(l))return!1;if(s&&qn(l))continue;s=!1,n=l|1&n}}return qn(n)||s}function qn(e){return 0==(1&e)}function Hn(e,t,r,n){if(null===t)return-1;let i=0;if(n||!r){let r=!1;for(;i<t.length;){const n=t[i];if(n===e)return i;if(3===n||6===n)r=!0;else{if(1===n||2===n){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===n)break;if(0===n){i+=4;continue}}i+=r?1:2}return-1}return function(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Bn(e,t,r=!1){for(let n=0;n<t.length;n++)if(jn(e,t[n],r))return!0;return!1}function Kn(e,t){return e?":not("+t.trim()+")":t}function zn(e){let t=e[0],r=1,n=2,i="",o=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const t=e[++r];i+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?i+="."+s:4&n&&(i+=" "+s);else""!==i&&!qn(s)&&(t+=Kn(o,i),i=""),n=s,o=o||!qn(n);r++}return""!==i&&(t+=Kn(o,i)),t}const Gn={};function Wn(e){$n(Tt(),Ct(),zt()+e,kt())}function $n(e,t,r,n){if(!n)if(3==(3&t[2])){const n=e.preOrderCheckHooks;null!==n&&$t(t,n,r)}else{const n=e.preOrderHooks;null!==n&&Qt(t,n,0,r)}Gt(r)}function Qn(e,t){const r=e.contentQueries;if(null!==r)for(let n=0;n<r.length;n+=2){const i=r[n],o=r[n+1];if(-1!==o){const r=e.data[o];Mt(i),r.contentQueries(2,t[o],o)}}}function Yn(e,t,r,n,i,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|n,bt(u),u[3]=u[15]=e,u[8]=r,u[10]=s||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=o,u[16]=2==t.type?e[16]:u,u}function Jn(e,t,r,n,i){let o=e.data[t];if(null===o)o=function(e,t,r,n,i){const o=Rt(),s=Ot(),a=e.data[t]=function(e,t,r,n,i,o){return{type:r,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,r,t,n,i);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(e,t,r,n,i),Et.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=r,o.value=n,o.attrs=i;const e=function(){const e=Et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===e?-1:e.injectorIndex}return It(o,!0),o}function Zn(e,t,r,n){if(0===r)return-1;const i=t.length;for(let o=0;o<r;o++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function Xn(e,t,r){Lt(t);try{const n=e.viewQuery;null!==n&&Ri(1,n,r);const i=e.template;null!==i&&ri(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Qn(e,t),e.staticViewQueries&&Ri(2,e.viewQuery,r);const o=e.components;null!==o&&function(e,t){for(let r=0;r<t.length;r++)Ei(e,t[r])}(t,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[2]&=-5,Kt()}}function ei(e,t,r,n){const i=t[2];if(256==(256&i))return;Lt(t);const o=kt();try{bt(t),function(e){Et.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&ri(e,t,r,2,n);const s=3==(3&i);if(!o)if(s){const r=e.preOrderCheckHooks;null!==r&&$t(t,r,null)}else{const r=e.preOrderHooks;null!==r&&Qt(t,r,0,null),Yt(t,0)}if(function(e){for(let t=dn(e);null!==t;t=hn(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const r=e[t],n=r[3];0==(1024&r[2])&&_t(n,1),r[2]|=1024}}}(t),function(e){for(let t=dn(e);null!==t;t=hn(t))for(let e=10;e<t.length;e++){const r=t[e],n=r[1];vt(r)&&ei(n,r,n.template,r[8])}}(t),null!==e.contentQueries&&Qn(e,t),!o)if(s){const r=e.contentCheckHooks;null!==r&&$t(t,r)}else{const r=e.contentHooks;null!==r&&Qt(t,r,1),Yt(t,1)}!function(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let e=0;e<r.length;e++){const n=r[e];if(n<0)Gt(~n);else{const i=n,o=r[++e],s=r[++e];Nt(o,i),s(2,t[i])}}}finally{Gt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let r=0;r<t.length;r++)bi(e,t[r])}(t,a);const l=e.viewQuery;if(null!==l&&Ri(2,l,n),!o)if(s){const r=e.viewCheckHooks;null!==r&&$t(t,r)}else{const r=e.viewHooks;null!==r&&Qt(t,r,2),Yt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,_t(t[3],-1))}finally{Kt()}}function ti(e,t,r,n){const i=t[10],o=!kt(),s=yt(t);try{o&&!s&&i.begin&&i.begin(),s&&Xn(e,t,n),ei(e,t,r,n)}finally{o&&!s&&i.end&&i.end()}}function ri(e,t,r,n,i){const o=zt(),s=2&n;try{Gt(-1),s&&t.length>20&&$n(e,t,20,kt()),r(n,i)}finally{Gt(o)}}function ni(e,t,r){!St()||(function(e,t,r,n){const i=r.directiveStart,o=r.directiveEnd;e.firstCreatePass||dr(r,t),en(n,t);const s=r.initialInputs;for(let a=i;a<o;a++){const n=e.data[a],o=tt(n);o&&mi(t,r,n);const l=Sr(t,e,a,r);en(l,t),null!==s&&yi(0,a-i,l,n,0,s),o&&(mt(r.index,t)[8]=l)}}(e,t,r,ft(r,t)),128==(128&r.flags)&&function(e,t,r){const n=r.directiveStart,i=r.directiveEnd,o=r.index,s=Et.lFrame.currentDirectiveIndex;try{Gt(o);for(let r=n;r<i;r++){const n=e.data[r],i=t[r];xt(r),(null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs)&&di(n,i)}}finally{Gt(-1),xt(s)}}(e,t,r))}function ii(e,t,r=ft){const n=t.localNames;if(null!==n){let i=t.index+1;for(let o=0;o<n.length;o+=2){const s=n[o+1],a=-1===s?r(t,e):e[s];e[i++]=a}}}function oi(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=si(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function si(e,t,r,n,i,o,s,a,l,c){const u=20+n,d=u+i,h=function(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:Gn);return r}(u,d),p="function"==typeof c?c():c;return h[1]={type:e,blueprint:h,template:r,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function ai(e,t,r,n){const i=Oi(t);null===r?i.push(n):(i.push(r),e.firstCreatePass&&ki(e).push(n,i.length-1))}function li(e,t,r){for(let n in e)if(e.hasOwnProperty(n)){const i=e[n];(r=null===r?{}:r).hasOwnProperty(n)?r[n].push(t,i):r[n]=[t,i]}return r}function ci(e,t,r,n){let i=!1;if(St()){const o=function(e,t,r){const n=e.directiveRegistry;let i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];Bn(r,s.selectors,!1)&&(i||(i=[]),gr(dr(r,t),e,s.type),tt(s)?(hi(e,r),i.unshift(s)):i.push(s))}return i}(e,t,r),s=null===n?null:{"":-1};if(null!==o){i=!0,fi(r,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}let n=!1,a=!1,l=Zn(e,t,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];r.mergedAttrs=nr(r.mergedAttrs,c.hostAttrs),gi(e,r,t,l,c),pi(l,c,s),null!==c.contentQueries&&(r.flags|=8),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(r.flags|=128);const u=c.type.prototype;!n&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),n=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),a=!0),l++}!function(e,t){const r=t.directiveEnd,n=e.data,i=t.attrs,o=[];let s=null,a=null;for(let l=t.directiveStart;l<r;l++){const e=n[l],r=e.inputs,c=null===i||Un(t)?null:vi(r,i);o.push(c),s=li(r,l,s),a=li(e.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,r)}s&&function(e,t,r){if(t){const n=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=r[t[e+1]];if(null==i)throw new ie("301",`Export of name '${t[e+1]}' not found!`);n.push(t[e],i)}}}(r,n,s)}return r.mergedAttrs=nr(r.mergedAttrs,r.attrs),i}function ui(e,t,r,n,i,o){const s=o.hostBindings;if(s){let r=e.hostBindingOpCodes;null===r&&(r=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(r)!=o&&r.push(o),r.push(n,i,s)}}function di(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function hi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function pi(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;tt(t)&&(r[""]=e)}}function fi(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function gi(e,t,r,n,i){e.data[n]=i;const o=i.factory||(i.factory=nt(i.type)),s=new Xt(o,tt(i),null);e.blueprint[n]=s,r[n]=s,ui(e,t,0,n,Zn(e,r,i.hostVars,Gn),i)}function mi(e,t,r){const n=ft(t,e),i=oi(r),o=e[10],s=Si(e,Yn(e,i,null,r.onPush?64:16,n,t,o,o.createRenderer(n,r),null,null));e[t.index]=s}function yi(e,t,r,n,i,o){const s=o[t];if(null!==s){const e=n.setInput;for(let t=0;t<s.length;){const i=s[t++],o=s[t++],a=s[t++];null!==e?n.setInput(r,a,i,o):r[o]=a}}}function vi(e,t){let r=null,n=0;for(;n<t.length;){const i=t[n];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===r&&(r=[]),r.push(i,e[i],t[n+1])),n+=2}else n+=2;else n+=4}return r}function wi(e,t,r,n){return new Array(e,!0,!1,t,null,0,n,r,null,null)}function bi(e,t){const r=mt(t,e);if(vt(r)){const e=r[1];80&r[2]?ei(e,r,e.template,r[8]):r[5]>0&&_i(r)}}function _i(e){for(let r=dn(e);null!==r;r=hn(r))for(let e=10;e<r.length;e++){const t=r[e];if(1024&t[2]){const e=t[1];ei(e,t,e.template,t[8])}else t[5]>0&&_i(t)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const n=mt(t[r],e);vt(n)&&n[5]>0&&_i(n)}}function Ei(e,t){const r=mt(t,e),n=r[1];(function(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(n,r),Xn(n,r,r[8])}function Si(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ci(e){for(;e;){e[2]|=64;const t=un(e);if(rt(e)&&!t)return e;e=t}return null}function Ti(e,t,r){const n=t[10];n.begin&&n.begin();try{ei(e,t,e.template,r)}catch(i){throw Pi(t,i),i}finally{n.end&&n.end()}}function Ai(e){!function(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],n=tn(r),i=n[1];ti(i,n,i.template,r)}}(e[8])}function Ri(e,t,r){Mt(0),t(e,r)}const Ii=(()=>Promise.resolve(null))();function Oi(e){return e[7]||(e[7]=[])}function ki(e){return e.cleanup||(e.cleanup=[])}function Pi(e,t){const r=e[9],n=r?r.get(on,null):null;n&&n.handleError(t)}function Vi(e,t,r,n,i){for(let o=0;o<r.length;){const s=r[o++],a=r[o++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,i,n,a):l[a]=i}}function Ni(e,t,r){const n=function(e,t){return pt(t[e])}(t,e);!function(e,t,r){dt(e)?e.setValue(t,r):t.textContent=r}(e[11],n,r)}function xi(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?o=e:1==o?i=ee(i,e):2==o&&(n=ee(n,e+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}const Fi=new Or("INJECTOR",-1);class Mi{get(e,t=Mr){if(t===Mr){const t=new Error(`NullInjectorError: No provider for ${X(e)}!`);throw t.name="NullInjectorError",t}return t}}const Di=new Or("Set Injector scope."),Ui={},Li={};let ji;function qi(){return void 0===ji&&(ji=new Mi),ji}function Hi(e,t=null,r=null,n){return new Bi(e,r,t||qi(),n)}class Bi{constructor(e,t,r,n=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Nr(t,r=>this.processProvider(r,e,t)),Nr([e],e=>this.processInjectorType(e,[],i)),this.records.set(Fi,zi(void 0,this));const o=this.records.get(Di);this.scope=null!=o?o.value:null,this.source=n||("object"==typeof e?null:X(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Mr,r=ve.Default){this.assertNotDestroyed();const n=Br(this),i=be(void 0);try{if(!(r&ve.SkipSelf)){let t=this.records.get(e);if(void 0===t){const r=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof Or}(e)&&de(e);t=r&&this.injectableDefInScope(r)?zi(Ki(e),Ui):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(r&ve.Self?qi():this.parent).get(e,t=r&ve.Optional&&t===Mr?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ur]=o[Ur]||[]).unshift(X(e)),n)throw o;return Qr(o,e,"R3InjectorError",this.source)}throw o}finally{be(i),Br(n)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,r)=>e.push(X(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=ne(e)))return!1;let n=pe(e);const i=null==n&&e.ngModule||void 0,o=void 0===i?e:i,s=-1!==r.indexOf(o);if(void 0!==i&&(n=pe(i)),null==n)return!1;if(null!=n.imports&&!s){let e;r.push(o);try{Nr(n.imports,n=>{this.processInjectorType(n,t,r)&&(void 0===e&&(e=[]),e.push(n))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:r,providers:n}=e[t];Nr(n,e=>this.processProvider(e,r,n||Pe))}}this.injectorDefTypes.add(o);const a=nt(o)||(()=>new o);this.records.set(o,zi(a,Ui));const l=n.providers;if(null!=l&&!s){const t=e;Nr(l,e=>this.processProvider(e,t,l))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,r){let n=Wi(e=ne(e))?e:ne(e&&e.provide);const i=function(e,t,r){return Gi(e)?zi(void 0,e.useValue):zi(function(e,t,r){let n;if(Wi(e)){const t=ne(e);return nt(t)||Ki(t)}if(Gi(e))n=()=>ne(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Gr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>zr(ne(e.useExisting));else{const t=ne(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return nt(t)||Ki(t);n=()=>new t(...Gr(e.deps))}return n}(e),Ui)}(e);if(Wi(e)||!0!==e.multi)this.records.get(n);else{let t=this.records.get(n);t||(t=zi(void 0,Ui,!0),t.factory=()=>Gr(t.multi),this.records.set(n,t)),n=e,t.multi.push(e)}this.records.set(n,i)}hydrate(e,t){return t.value===Ui&&(t.value=Li,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ki(e){const t=de(e),r=null!==t?t.factory:nt(e);if(null!==r)return r;if(e instanceof Or)throw new Error(`Token ${X(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=function(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}(t,"?");throw new Error(`Can't resolve all parameters for ${X(e)}: (${r.join(", ")}).`)}const r=function(e){const t=e&&(e[fe]||e[me]);if(t){const r=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Error("unreachable")}function zi(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Gi(e){return null!==e&&"object"==typeof e&&qr in e}function Wi(e){return"function"==typeof e}const $i=function(e,t,r){return function(e,t=null,r=null,n){const i=Hi(e,t,r,n);return i._resolveInjectorDefTypes(),i}({name:r},t,e,r)};class Qi{static create(e,t){return Array.isArray(e)?$i(e,t,""):$i(e.providers,e.parent,e.name||"")}}function Yi(e,t){Wt(tn(e)[1],At())}Qi.THROW_IF_NOT_FOUND=Mr,Qi.NULL=new Mi,Qi.\u0275prov=ce({token:Qi,providedIn:"any",factory:()=>zr(Fi)}),Qi.__NG_ELEMENT_ID__=-1;let Ji=null;function Zi(){if(!Ji){const e=Oe.Symbol;if(e&&e.iterator)Ji=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ji=r)}}}return Ji}class Xi{constructor(e){this.wrapped=e}static wrap(e){return new Xi(e)}static unwrap(e){return Xi.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Xi}}function eo(e){return!!to(e)&&(Array.isArray(e)||!(e instanceof Map)&&Zi()in e)}function to(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ro(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function no(e,t,r,n,i,o,s,a){const l=Ct(),c=Tt(),u=e+20,d=c.firstCreatePass?function(e,t,r,n,i,o,s,a,l){const c=t.consts,u=Jn(t,e,4,s||null,wt(c,a));ci(t,r,u,wt(c,l)),Wt(t,u);const d=u.tViews=si(2,u,n,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,r,n,i,o,s):c.data[u];It(d,!1);const h=l[11].createComment("");An(c,l,h,d),en(h,l),Si(l,l[u]=wi(h,l,h,d)),et(d)&&ni(c,l,d),null!=s&&ii(l,d,a)}function io(e,t=ve.Default){const r=Ct();return null===r?zr(e,t):vr(At(),r,ne(e),t)}function oo(e,t,r){const n=Ct();return ro(n,Vt(),t)&&function(e,t,r,n,i,o,s,a){const l=ft(t,r);let c,u=t.inputs;!a&&null!=u&&(c=u[n])?(Vi(e,r,c,n,i),Xe(t)&&function(e,t){const r=mt(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(n=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),i=null!=s?s(i,t.value||"",n):i,dt(o)?o.setProperty(l,n,i):rr(n)||(l.setProperty?l.setProperty(n,i):l[n]=i))}(Tt(),function(){const e=Et.lFrame;return gt(e.tView,e.selectedIndex)}(),n,e,t,n[11],r,!1),oo}function so(e,t,r,n,i){const o=i?"class":"style";Vi(e,r,t.inputs[o],o,n)}function ao(e,t,r,n){const i=Ct(),o=Tt(),s=20+e,a=i[11],l=i[s]=gn(a,t,Et.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,r,n,i,o,s){const a=t.consts,l=Jn(t,e,2,i,wt(a,o));return ci(t,r,l,wt(a,s)),null!==l.attrs&&xi(l,l.attrs,!1),null!==l.mergedAttrs&&xi(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,0,t,r,n):o.data[s];It(c,!0);const u=c.mergedAttrs;null!==u&&er(a,l,u);const d=c.classes;null!==d&&xn(a,l,d);const h=c.styles;null!==h&&Nn(a,l,h),64!=(64&c.flags)&&An(o,i,l,c),0===Et.lFrame.elementDepthCount&&en(l,i),Et.lFrame.elementDepthCount++,et(c)&&(ni(o,i,c),function(e,t,r){if(Ze(t)){const n=t.directiveEnd;for(let i=t.directiveStart;i<n;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,r[i],i)}}}(o,c,i)),null!==n&&ii(i,c)}function lo(){let e=At();Ot()?Et.lFrame.isParent=!1:(e=e.parent,It(e,!1));const t=e;Et.lFrame.elementDepthCount--;const r=Tt();r.firstCreatePass&&(Wt(r,e),Ze(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&so(r,t,Ct(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&so(r,t,Ct(),t.stylesWithoutHost,!1)}function co(e,t,r,n){ao(e,t,r,n),lo()}function uo(e){return!!e&&"function"==typeof e.then}const ho=function(e){return!!e&&"function"==typeof e.subscribe};function po(e,t,r,n){const i=Ct(),o=Tt(),s=At();return function(e,t,r,n,i,o,s,a){const l=et(n),c=e.firstCreatePass&&ki(e),u=t[8],d=Oi(t);let h=!0;if(3&n.type||a){const p=ft(n,t),f=a?a(p):p,g=d.length,m=a?e=>a(pt(e[n.index])):n.index;if(dt(r)){let s=null;if(!a&&l&&(s=function(e,t,r,n){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const e=i[o];if(e===r&&i[o+1]===n){const e=t[7],r=i[o+2];return e.length>r?e[r]:null}"string"==typeof e&&(o+=2)}return null}(e,t,i,n.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=go(n,t,u,o,!1);const e=r.listen(f,i,o);d.push(o,e),c&&c.push(i,m,g,g+1)}}else o=go(n,t,u,o,!0),f.addEventListener(i,o,s),d.push(o),c&&c.push(i,m,g,s)}else o=go(n,t,u,o,!1);const p=n.outputs;let f;if(h&&null!==p&&(f=p[i])){const e=f.length;if(e)for(let r=0;r<e;r+=2){const e=t[f[r]][f[r+1]].subscribe(o),s=d.length;d.push(o,e),c&&c.push(i,n.index,s,-(s+1))}}}(o,i,i[11],s,e,t,!!r,n),po}function fo(e,t,r,n){try{return!1!==r(n)}catch(i){return Pi(e,i),!1}}function go(e,t,r,n,i){return function r(o){if(o===Function)return n;const s=2&e.flags?mt(e.index,t):t;0==(32&t[2])&&Ci(s);let a=fo(t,0,n,o),l=r.__ngNextListenerFn__;for(;l;)a=fo(t,0,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function mo(e,t=""){const r=Ct(),n=Tt(),i=e+20,o=n.firstCreatePass?Jn(n,i,1,t,null):n.data[i],s=r[i]=function(e,t){return dt(e)?e.createText(t):e.createTextNode(t)}(r[11],t);An(n,r,s,o),It(o,!1)}function yo(e){return vo("",e,""),yo}function vo(e,t,r){const n=Ct(),i=function(e,t,r,n){return ro(e,Vt(),r)?t+oe(r)+n:Gn}(n,e,t,r);return i!==Gn&&Ni(n,zt(),i),vo}const wo=void 0;var bo=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let _o={};function Eo(e){return e in _o||(_o[e]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[e]),_o[e]}var So=(()=>((So=So||{})[So.LocaleId=0]="LocaleId",So[So.DayPeriodsFormat=1]="DayPeriodsFormat",So[So.DayPeriodsStandalone=2]="DayPeriodsStandalone",So[So.DaysFormat=3]="DaysFormat",So[So.DaysStandalone=4]="DaysStandalone",So[So.MonthsFormat=5]="MonthsFormat",So[So.MonthsStandalone=6]="MonthsStandalone",So[So.Eras=7]="Eras",So[So.FirstDayOfWeek=8]="FirstDayOfWeek",So[So.WeekendRange=9]="WeekendRange",So[So.DateFormat=10]="DateFormat",So[So.TimeFormat=11]="TimeFormat",So[So.DateTimeFormat=12]="DateTimeFormat",So[So.NumberSymbols=13]="NumberSymbols",So[So.NumberFormats=14]="NumberFormats",So[So.CurrencyCode=15]="CurrencyCode",So[So.CurrencySymbol=16]="CurrencySymbol",So[So.CurrencyName=17]="CurrencyName",So[So.Currencies=18]="Currencies",So[So.Directionality=19]="Directionality",So[So.PluralCase=20]="PluralCase",So[So.ExtraData=21]="ExtraData",So))();const Co="en-US";let To=Co;function Ao(e){le(e,"Expected localeId to be defined"),"string"==typeof e&&(To=e.toLowerCase().replace(/_/g,"-"))}class Ro{}const Io="ngComponent";class Oo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${X(e)}. Did you add it to @NgModule.entryComponents?`);return t[Io]=e,t}(e)}}class ko{}function Po(...e){}function Vo(e,t){return new xo(ft(e,t))}ko.NULL=new Oo;const No=function(){return Vo(At(),Ct())};let xo=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=No,e})();function Fo(e){return e instanceof xo?e.nativeElement:e}class Mo{}let Do=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>null}),e})();class Uo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Lo=new Uo("12.2.1");class jo{constructor(){}supports(e){return eo(e)}create(e){return new Ho(e)}}const qo=(e,t)=>t;class Ho{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qo}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,n=0,i=null;for(;t||r;){const o=!r||t&&t.currentIndex<Go(r,n,i)?t:r,s=Go(o,n,i),a=o.currentIndex;if(o===r)n--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)n++;else{i||(i=[]);const e=s-n,t=a-n;if(e!=t){for(let r=0;r<e;r++){const n=r<i.length?i[r]:i[r]=0,o=n+r;t<=o&&o<e&&(i[r]=n+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!eo(e))throw new Error(`Error trying to diff '${X(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,r,n,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=e[t],n=this._trackByFn(t,r),null!==i&&Object.is(i.trackById,n)?(o&&(i=this._verifyReinsertion(i,r,n,t)),Object.is(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,n,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Zi()]();let n;for(;!(n=r.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,n)?(o&&(i=this._verifyReinsertion(i,e,n,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,n,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,n){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,n)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,n)):e=this._addAfter(new Bo(t,r),i,n),e}_verifyReinsertion(e,t,r,n){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,i=e._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new zo),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Bo{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ko{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class zo{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Ko,this.map.set(t,r)),r.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Go(e,t,r){const n=e.previousIndex;if(null===n)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+t+i}class Wo{constructor(){}supports(e){return e instanceof Map||to(e)}create(){return new $o}}class $o{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||to(e)))throw new Error(`Error trying to diff '${X(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(r,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const n=r._prev,i=r._next;return n&&(n._next=i),i&&(i._prev=n),r._next=null,r._prev=null,r}const r=new Qo(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Qo{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yo(){return new Jo([new jo])}let Jo=(()=>{class e{constructor(e){this.factories=e}static create(t,r){if(null!=r){const e=r.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Yo()),deps:[[e,new Zr,new Jr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:Yo}),e})();function Zo(){return new Xo([new Wo])}let Xo=(()=>{class e{constructor(e){this.factories=e}static create(t,r){if(r){const e=r.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Zo()),deps:[[e,new Zr,new Jr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:Zo}),e})();function es(e,t,r,n,i=!1){for(;null!==r;){const o=t[r.index];if(null!==o&&n.push(pt(o)),Je(o))for(let e=10;e<o.length;e++){const t=o[e],r=t[1].firstChild;null!==r&&es(t[1],t,r,n)}const s=r.type;if(8&s)es(e,t,r.child,n);else if(32&s){const e=cn(r,t);let i;for(;i=e();)n.push(i)}else if(16&s){const e=In(t,r);if(Array.isArray(e))n.push(...e);else{const r=un(t[16]);es(r[1],r,e,n,!0)}}r=i?r.projectionNext:r.next}return n}class ts{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return es(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Je(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(yn(e,r),Fr(t,r))}this._attachedToViewContainer=!1}vn(this._lView[1],this._lView)}onDestroy(e){ai(this._lView[1],this._lView,null,e)}markForCheck(){Ci(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ti(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,r){Pt(!0);try{Ti(e,t,r)}finally{Pt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(e,t){Pn(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class rs extends ts{constructor(e){super(e),this._view=e}detectChanges(){Ai(this._view)}checkNoChanges(){!function(e){Pt(!0);try{Ai(e)}finally{Pt(!1)}}(this._view)}get context(){return null}}const ns=function(e){return function(e,t,r){if(Xe(e)&&!r){const r=mt(e.index,t);return new ts(r,r)}return 47&e.type?new ts(t[16],t):null}(At(),Ct(),16==(16&e))};let is=(()=>{class e{}return e.__NG_ELEMENT_ID__=ns,e})();const os=[new Wo],ss=new Jo([new jo]),as=new Xo(os),ls=function(){return hs(At(),Ct())};let cs=(()=>{class e{}return e.__NG_ELEMENT_ID__=ls,e})();const us=cs,ds=class extends us{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Yn(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const n=this._declarationLView[19];return null!==n&&(r[19]=n.createEmbeddedView(t)),Xn(t,r,e),new ts(r)}};function hs(e,t){return 4&e.type?new ds(t,e,Vo(e,t)):null}class ps{}class fs{}const gs=function(){return _s(At(),Ct())};let ms=(()=>{class e{}return e.__NG_ELEMENT_ID__=gs,e})();const ys=ms,vs=class extends ys{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){const e=fr(this._hostTNode,this._hostLView);if(or(e)){const t=ar(e,this._hostLView),r=sr(e);return new Ar(t[1].data[r+8],t)}return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ws(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const n=e.createEmbeddedView(t||{});return this.insert(n,r),n}createComponent(e,t,r,n,i){const o=r||this.parentInjector;if(!i&&null==e.ngModule&&o){const e=o.get(ps,null);e&&(i=e)}const s=e.create(o,n,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){const r=e._lView,n=r[1];if(function(e){return Je(e[3])}(r)){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=r[3],n=new vs(t,t[6],t[3]);n.detach(n.indexOf(e))}}const i=this._adjustIndex(t),o=this._lContainer;!function(e,t,r,n){const i=10+n,o=r.length;n>0&&(r[i-1][4]=t),n<o-10?(t[4]=r[i],xr(r,10+n,t)):(r.push(t),t[4]=null),t[3]=r;const s=t[17];null!==s&&r!==s&&function(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(n,r,o,i);const s=On(i,o),a=r[11],l=Cn(a,o[7]);return null!==l&&function(e,t,r,n,i,o){n[0]=i,n[6]=t,Pn(e,n,r,1,i,o)}(n,o[6],a,r,l,s),e.attachToViewContainerRef(),xr(bs(o),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ws(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=yn(this._lContainer,t);r&&(Fr(bs(this._lContainer),t),vn(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=yn(this._lContainer,t);return r&&null!=Fr(bs(this._lContainer),t)?new ts(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function ws(e){return e[8]}function bs(e){return e[8]||(e[8]=[])}function _s(e,t){let r;const n=t[e.index];if(Je(n))r=n;else{let i;if(8&e.type)i=pt(n);else{const r=t[11];i=r.createComment("");const n=ft(e,t);_n(r,Cn(r,n),i,function(e,t){return dt(e)?e.nextSibling(t):t.nextSibling}(r,n),!1)}t[e.index]=r=wi(n,t,i,e),Si(t,r)}return new vs(r,e,t)}const Es={};class Ss extends ko{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$e(e);return new As(t,this.ngModule)}}function Cs(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const Ts=new Or("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>sn});class As extends Ro{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(e){return e.map(zn).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Cs(this.componentDef.inputs)}get outputs(){return Cs(this.componentDef.outputs)}create(e,t,r,n){const i=(n=n||this.ngModule)?function(e,t){return{get:(r,n,i)=>{const o=e.get(r,Es,i);return o!==Es||n===Es?o:t.get(r,n,i)}}}(e,n.injector):e,o=i.get(Mo,ht),s=i.get(Do,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function(e,t,r){if(dt(e))return e.selectRootElement(t,r===Ce.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(a,r,this.componentDef.encapsulation):gn(o.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,d=function(e,t){return{components:[],scheduler:e||sn,clean:Ii,playerHandler:t||null,flags:0}}(),h=si(0,null,null,1,0,null,null,null,null,null),p=Yn(null,h,d,u,null,null,o,a,s,i);let f,g;Lt(p);try{const e=function(e,t,r,n,i,o){const s=r[1];r[20]=e;const a=Jn(s,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(xi(a,l,!0),null!==e&&(er(i,e,l),null!==a.classes&&xn(i,e,a.classes),null!==a.styles&&Nn(i,e,a.styles)));const c=n.createRenderer(e,t),u=Yn(r,oi(t),null,t.onPush?64:16,r[20],a,n,c,o||null,null);return s.firstCreatePass&&(gr(dr(a,r),s,t.type),hi(s,a),fi(a,r.length,1)),Si(r,u),r[20]=u}(c,this.componentDef,p,o,a);if(c)if(r)er(a,c,["ng-version",Lo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],r=[];let n=1,i=2;for(;n<e.length;){let o=e[n];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++n]):8===i&&r.push(o);else{if(!qn(i))break;i=o}n++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);e&&er(a,c,e),t&&t.length>0&&xn(a,c,t.join(" "))}if(g=gt(h,20),void 0!==t){const e=g.projection=[];for(let r=0;r<this.ngContentSelectors.length;r++){const n=t[r];e.push(null!=n?Array.from(n):null)}}f=function(e,t,r,n,i){const o=r[1],s=function(e,t,r){const n=At();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),gi(e,n,t,Zn(e,t,1,null),r));const i=Sr(t,e,n.directiveStart,n);en(i,t);const o=ft(n,t);return o&&en(o,t),i}(o,r,t);if(n.components.push(s),e[8]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries){const e=At();t.contentQueries(1,s,e.directiveStart)}const a=At();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Gt(a.index),ui(r[1],a,0,a.directiveStart,a.directiveEnd,t),di(t,s)),s}(e,this.componentDef,p,d,[Yi]),Xn(h,p,null)}finally{Kt()}return new Rs(this.componentType,f,Vo(g,p),p,g)}}class Rs extends class{}{constructor(e,t,r,n,i){super(),this.location=r,this._rootLView=n,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new rs(n),this.componentType=e}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Is=new Map;class Os extends ps{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ss(this);const r=Qe(e),n=function(e){return e[Me]||null}(e);n&&Ao(n),this._bootstrapComponents=an(r.bootstrap),this._r3Injector=Hi(e,t,[{provide:ps,useValue:this},{provide:ko,useValue:this.componentFactoryResolver}],X(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Qi.THROW_IF_NOT_FOUND,r=ve.Default){return e===Qi||e===ps||e===Fi?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ks extends fs{constructor(e){super(),this.moduleType=e,null!==Qe(e)&&function(e){const t=new Set;!function e(r){const n=Qe(r,!0),i=n.id;null!==i&&(function(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${X(t)} vs ${X(t.name)}`)}(i,Is.get(i),r),Is.set(i,r));const o=an(n.imports);for(const s of o)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new Os(this.moduleType,e)}}function Ps(e,t,r,n,i,o){const s=t+r;return ro(e,s,i)?function(e,t,r){return e[t]=r}(e,s+1,o?n.call(o,i):n(i)):function(e,t){const r=e[t];return r===Gn?void 0:r}(e,s+1)}function Vs(e,t){const r=Tt();let n;const i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}throw new ie("302",`The pipe '${e}' could not be found!`)}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];const o=n.factory||(n.factory=nt(n.type)),s=be(io);try{const e=cr(!1),t=o();return cr(e),function(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,Ct(),i,t),t}finally{be(s)}}function Ns(e,t,r){const n=e+20,i=Ct(),o=function(e,t){return e[t]}(i,n);return function(e,t){Xi.isWrapped(t)&&(t=Xi.unwrap(t),e[Et.lFrame.bindingIndex]=Gn);return t}(i,function(e,t){return e[1].data[t].pure}(i,n)?Ps(i,function(){const e=Et.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,o.transform,r,o):o.transform(r))}function xs(e){return t=>{setTimeout(e,void 0,t)}}const Fs=class extends C{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var n,i,o;let s=e,a=t||(()=>null),l=r;if(e&&"object"==typeof e){const t=e;s=null===(n=t.next)||void 0===n?void 0:n.bind(t),a=null===(i=t.error)||void 0===i?void 0:i.bind(t),l=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(a=xs(a),s&&(s=xs(s)),l&&(l=xs(l)));const c=super.subscribe({next:s,error:a,complete:l});return e instanceof d&&e.add(c),c}};function Ms(){return this._results[Zi()]()}class Ds{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Zi(),r=Ds.prototype;r[t]||(r[t]=Ms)}get changes(){return this._changes||(this._changes=new Fs)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const n=Vr(e);(this._changesDetected=!function(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=t[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}(r._results,n,t))&&(r._results=n,r.length=n.length,r.last=n[this.length-1],r.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Us{constructor(e){this.queryList=e,this.matches=null}clone(){return new Us(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ls{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<r;e++){const r=t.getByIndex(e);n.push(this.queries[r.indexInDeclarationView].clone())}return new Ls(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Qs(e,t).matches&&this.queries[t].setDirty()}}class js{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class qs{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const n=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,n);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new qs(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Hs{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Hs(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let n=0;n<r.length;n++){const i=r[n];this.matchTNodeWithReadOption(e,t,Bs(t,i)),this.matchTNodeWithReadOption(e,t,Er(t,e,i,!1,!1))}else r===cs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Er(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const n=this.metadata.read;if(null!==n)if(n===xo||n===ms||n===cs&&4&t.type)this.addMatch(t.index,-2);else{const r=Er(t,e,n,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Bs(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function Ks(e,t,r,n){return-1===r?function(e,t){return 11&e.type?Vo(e,t):4&e.type?hs(e,t):null}(t,e):-2===r?function(e,t,r){return r===xo?Vo(t,e):r===cs?hs(t,e):r===ms?_s(t,e):void 0}(e,t,n):Sr(e,e[1],r,t)}function zs(e,t,r,n){const i=t[19].queries[n];if(null===i.matches){const n=e.data,o=r.matches,s=[];for(let e=0;e<o.length;e+=2){const i=o[e];s.push(i<0?null:Ks(t,n[i],o[e+1],r.metadata.read))}i.matches=s}return i.matches}function Gs(e,t,r,n){const i=e.queries.getByIndex(r),o=i.matches;if(null!==o){const s=zs(e,t,i,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)n.push(s[e/2]);else{const i=o[e+1],s=t[-r];for(let e=10;e<s.length;e++){const t=s[e];t[17]===t[3]&&Gs(t[1],t,i,n)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const r=e[t];Gs(r[1],r,i,n)}}}}}return n}function Ws(e){const t=Ct(),r=Tt(),n=Ft();Mt(n+1);const i=Qs(r,n);if(e.dirty&&yt(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Gs(r,t,n,[]):zs(r,t,i,n);e.reset(o,Fo),e.notifyOnChanges()}return!0}return!1}function $s(e,t,r){const n=Tt();n.firstCreatePass&&(function(e,t,r){null===e.queries&&(e.queries=new qs),e.queries.track(new Hs(t,r))}(n,new js(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),function(e,t,r){const n=new Ds(4==(4&r));ai(e,t,n,n.destroy),null===t[19]&&(t[19]=new Ls),t[19].queries.push(new Us(n))}(n,Ct(),t)}function Qs(e,t){return e.queries.getByIndex(t)}const Ys=new Or("Application Initializer");let Js=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Po,this.reject=Po,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const t=this.appInits[r]();if(uo(t))e.push(t);else if(ho(t)){const r=new Promise((e,r)=>{t.subscribe({complete:e,error:r})});e.push(r)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(zr(Ys,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Zs=new Or("AppId"),Xs={provide:Zs,useFactory:function(){return`${ea()}${ea()}${ea()}`},deps:[]};function ea(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ta=new Or("Platform Initializer"),ra=new Or("Platform ID"),na=new Or("appBootstrapListener");let ia=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const oa=new Or("LocaleId"),sa=new Or("DefaultCurrencyCode");class aa{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const la=function(e){return new ks(e)},ca=la,ua=function(e){return Promise.resolve(la(e))},da=function(e){const t=la(e),r=an(Qe(e).declarations).reduce((e,t)=>{const r=$e(t);return r&&e.push(new As(r)),e},[]);return new aa(t,r)},ha=da,pa=function(e){return Promise.resolve(da(e))};let fa=(()=>{class e{constructor(){this.compileModuleSync=ca,this.compileModuleAsync=ua,this.compileModuleAndAllComponentsSync=ha,this.compileModuleAndAllComponentsAsync=pa}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const ga=(()=>Promise.resolve(0))();function ma(e){"undefined"==typeof Zone?ga.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ya{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fs(!1),this.onMicrotaskEmpty=new Fs(!1),this.onStable=new Fs(!1),this.onError=new Fs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!r&&t,n.shouldCoalesceRunChangeDetection=r,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=Oe.requestAnimationFrame,t=Oe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Oe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ba(e),e.isCheckStableRunning=!0,wa(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ba(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{try{return _a(e),r.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Ea(e)}},onInvoke:(r,n,i,o,s,a,l)=>{try{return _a(e),r.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Ea(e)}},onHasTask:(t,r,n,i)=>{t.hasTask(n,i),r===n&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,ba(e),wa(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,n,i)=>(t.handleError(n,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ya.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ya.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,n){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+n,e,va,Po,Po);try{return i.runTask(o,t,r)}finally{i.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const va={};function wa(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ba(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _a(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ea(e){e._nesting--,wa(e)}class Sa{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fs,this.onMicrotaskEmpty=new Fs,this.onStable=new Fs,this.onError=new Fs}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,n){return e.apply(t,r)}}let Ca=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ya.assertNotInAngularZone(),ma(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ma(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,r){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:r})}whenStable(e,t,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,r){return[]}}return e.\u0275fac=function(t){return new(t||e)(zr(ya))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Ta=(()=>{class e{constructor(){this._applications=new Map,Ra.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Ra.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Aa{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Ra=new Aa,Ia=!0,Oa=!1;function ka(){return Oa=!0,Ia}let Pa;const Va=new Or("AllowMultipleToken");class Na{constructor(e,t){this.name=e,this.token=t}}function xa(e,t,r=[]){const n=`Platform: ${t}`,i=new Or(n);return(t=[])=>{let o=Fa();if(!o||o.injector.get(Va,!1))if(e)e(r.concat(t).concat({provide:i,useValue:!0}));else{const e=r.concat(t).concat({provide:i,useValue:!0},{provide:Di,useValue:"platform"});!function(e){if(Pa&&!Pa.destroyed&&!Pa.injector.get(Va,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Pa=e.get(Ma);const t=e.get(ta,null);t&&t.forEach(e=>e())}(Qi.create({providers:e,name:n}))}return function(e){const t=Fa();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Fa(){return Pa&&!Pa.destroyed?Pa:null}let Ma=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const r=function(e,t){let r;return r="noop"===e?new Sa:("zone.js"===e?void 0:e)||new ya({enableLongStackTrace:ka(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),r}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),n=[{provide:ya,useValue:r}];return r.run(()=>{const i=Qi.create({providers:n,parent:this.injector,name:e.moduleType.name}),o=e.create(i),s=o.injector.get(on,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(()=>{const e=r.onError.subscribe({next:e=>{s.handleError(e)}});o.onDestroy(()=>{La(this._modules,o),e.unsubscribe()})}),function(e,r,n){try{const t=n();return uo(t)?t.catch(t=>{throw r.runOutsideAngular(()=>e.handleError(t)),t}):t}catch(t){throw r.runOutsideAngular(()=>e.handleError(t)),t}}(s,r,()=>{const e=o.injector.get(Js);return e.runInitializers(),e.donePromise.then(()=>(Ao(o.injector.get(oa,Co)||Co),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,t=[]){const r=Da({},t);return function(e,t,r){const n=new ks(r);return Promise.resolve(n)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,r))}_moduleDoBootstrap(e){const t=e.injector.get(Ua);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${X(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(zr(Qi))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Da(e,t){return Array.isArray(t)?t.reduce(Da,e):Object.assign(Object.assign({},e),t)}let Ua=(()=>{class e{constructor(e,t,r,n,i){this._zone=e,this._injector=t,this._exceptionHandler=r,this._componentFactoryResolver=n,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),s=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ya.assertNotInAngularZone(),ma(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,e.next(!0))})})});const r=this._zone.onUnstable.subscribe(()=>{ya.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),r.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,r=null,n=e[e.length-1];return A(n)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===r&&1===e.length&&e[0]instanceof w?e[0]:B(t)(K(e,r))}(o,s.pipe(e=>z()(function(e,t){return function(t){let r;r="function"==typeof e?e:function(){return e};const n=Object.create(t,Q);return n.source=t,n.subjectFactory=r,n}}(J)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=e instanceof Ro?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const n=function(e){return e.isBoundToModule}(r)?void 0:this._injector.get(ps),i=r.create(Qi.NULL,[],t||r.selector,n),o=i.location.nativeElement,s=i.injector.get(Ca,null),a=s&&i.injector.get(Ta);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),La(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;La(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(na,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(zr(ya),zr(Qi),zr(on),zr(ko),zr(Js))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function La(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class ja{}class qa{}const Ha={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ba=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Ha}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split("#");return void 0===n&&(n="default"),r(8255)(t).then(e=>e[n]).then(e=>Ka(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split("#"),i="NgFactory";return void 0===n&&(n="default",i=""),r(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+i]).then(e=>Ka(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(zr(fa),zr(qa,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Ka(e,t,r){if(!e)throw new Error(`Cannot find '${r}' in '${t}'`);return e}const za=xa(null,"core",[{provide:ra,useValue:"unknown"},{provide:Ma,deps:[Qi]},{provide:Ta,deps:[]},{provide:ia,deps:[]}]),Ga=[{provide:Ua,useClass:Ua,deps:[ya,Qi,on,ko,Js]},{provide:Ts,deps:[ya],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Js,useClass:Js,deps:[[new Jr,Ys]]},{provide:fa,useClass:fa,deps:[]},Xs,{provide:Jo,useFactory:function(){return ss},deps:[]},{provide:Xo,useFactory:function(){return as},deps:[]},{provide:oa,useFactory:function(e){return Ao(e=e||"undefined"!=typeof $localize&&$localize.locale||Co),e},deps:[[new Yr(oa),new Jr,new Zr]]},{provide:sa,useValue:"USD"}];let Wa=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(zr(Ua))},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({providers:Ga}),e})(),$a=null;function Qa(){return $a}const Ya=new Or("DocumentToken");let Ja=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:Za,token:e,providedIn:"platform"}),e})();function Za(){return zr(el)}const Xa=new Or("Location Initialized");let el=(()=>{class e extends Ja{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qa().getBaseHref(this._doc)}onPopState(e){const t=Qa().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=Qa().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,r){tl()?this._history.pushState(e,t,r):this.location.hash=r}replaceState(e,t,r){tl()?this._history.replaceState(e,t,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(zr(Ya))},e.\u0275prov=ce({factory:rl,token:e,providedIn:"platform"}),e})();function tl(){return!!window.history.pushState}function rl(){return new el(zr(Ya))}function nl(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function il(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function ol(e){return e&&"?"!==e[0]?"?"+e:e}let sl=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:al,token:e,providedIn:"root"}),e})();function al(e){const t=zr(Ya).location;return new cl(zr(Ja),t&&t.origin||"")}const ll=new Or("appBaseHref");let cl=(()=>{class e extends sl{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return nl(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+ol(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${t}${r}`:t}pushState(e,t,r,n){const i=this.prepareExternalUrl(r+ol(n));this._platformLocation.pushState(e,t,i)}replaceState(e,t,r,n){const i=this.prepareExternalUrl(r+ol(n));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,r;null===(r=(t=this._platformLocation).historyGo)||void 0===r||r.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(zr(Ja),zr(ll,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),ul=(()=>{class e extends sl{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=nl(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,r,n){let i=this.prepareExternalUrl(r+ol(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,r,n){let i=this.prepareExternalUrl(r+ol(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,r;null===(r=(t=this._platformLocation).historyGo)||void 0===r||r.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(zr(Ja),zr(ll,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),dl=(()=>{class e{constructor(e,t){this._subject=new Fs,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=il(pl(r)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+ol(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,pl(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",r=null){this._platformStrategy.pushState(r,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ol(t)),r)}replaceState(e,t="",r=null){this._platformStrategy.replaceState(r,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ol(t)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,r;null===(r=(t=this._platformStrategy).historyGo)||void 0===r||r.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(r=>r(e,t))}subscribe(e,t,r){return this._subject.subscribe({next:e,error:t,complete:r})}}return e.\u0275fac=function(t){return new(t||e)(zr(sl),zr(Ja))},e.normalizeQueryParams=ol,e.joinWithSlash=nl,e.stripTrailingSlash=il,e.\u0275prov=ce({factory:hl,token:e,providedIn:"root"}),e})();function hl(){return new dl(zr(sl),zr(Ja))}function pl(e){return e.replace(/\/index.html$/,"")}var fl=(()=>((fl=fl||{})[fl.Zero=0]="Zero",fl[fl.One=1]="One",fl[fl.Two=2]="Two",fl[fl.Few=3]="Few",fl[fl.Many=4]="Many",fl[fl.Other=5]="Other",fl))();const gl=function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Eo(t);if(r)return r;const n=t.split("-")[0];if(r=Eo(n),r)return r;if("en"===n)return bo;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[So.PluralCase]};class ml{}let yl=(()=>{class e extends ml{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(gl(t||this.locale)(e)){case fl.Zero:return"zero";case fl.One:return"one";case fl.Two:return"two";case fl.Few:return"few";case fl.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(zr(oa))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function vl(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const e=r.indexOf("="),[n,i]=-1==e?[r,""]:[r.slice(0,e),r.slice(e+1)];if(n.trim()===t)return decodeURIComponent(i)}return null}class wl{constructor(e,t,r,n){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bl=(()=>{class e{constructor(e,t,r){this._viewContainer=e,this._template=t,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(e){return e.name||typeof e}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,r,n)=>{if(null==e.previousIndex){const r=this._viewContainer.createEmbeddedView(this._template,new wl(null,this._ngForOf,-1,-1),null===n?void 0:n),i=new _l(e,r);t.push(i)}else if(null==n)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const i=this._viewContainer.get(r);this._viewContainer.move(i,n);const o=new _l(e,i);t.push(o)}});for(let r=0;r<t.length;r++)this._perViewChange(t[r].view,t[r].record);for(let r=0,n=this._viewContainer.length;r<n;r++){const e=this._viewContainer.get(r);e.context.index=r,e.context.count=n,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(io(ms),io(cs),io(Jo))},e.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class _l{constructor(e,t){this.record=e,this.view=t}}let El=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Sl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Cl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Cl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(io(ms),io(cs))},e.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Sl{constructor(){this.$implicit=null,this.ngIf=null}}function Cl(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${X(t)}'.`)}let Tl=(()=>{class e{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Al}transform(e,t=Al){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),n=t!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(e=>{this.keyValues.push(function(e,t){return{key:e,value:t}}(e.key,e.currentValue))})),(r||n)&&(this.keyValues.sort(t),this.compareFn=t),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(io(Xo,16))},e.\u0275pipe=We({name:"keyvalue",type:e,pure:!1}),e})();function Al(e,t){const r=e.key,n=t.key;if(r===n)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(null===r)return 1;if(null===n)return-1;if("string"==typeof r&&"string"==typeof n)return r<n?-1:1;if("number"==typeof r&&"number"==typeof n)return r-n;if("boolean"==typeof r&&"boolean"==typeof n)return r<n?-1:1;const i=String(r),o=String(n);return i==o?0:i<o?-1:1}let Rl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({providers:[{provide:ml,useClass:yl}]}),e})();const Il="browser";let Ol=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new kl(zr(Ya),window)}),e})();class kl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let n=r.currentNode;for(;n;){const e=n.shadowRoot;if(e){const r=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(r)return r}n=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],n-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Pl(this.window.history)||Pl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Pl(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Vl{}class Nl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(e){$a||($a=e)}(new Nl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Fl=Fl||document.querySelector("base"),Fl?Fl.getAttribute("href"):null);return null==t?null:function(e){xl=xl||document.createElement("a"),xl.setAttribute("href",e);const t=xl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){Fl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vl(document.cookie,e)}}let xl,Fl=null;const Ml=new Or("TRANSITION_ID"),Dl=[{provide:Ys,useFactory:function(e,t,r){return()=>{r.get(Js).donePromise.then(()=>{const r=Qa();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>r.remove(e))})}},deps:[Ml,Ya,Qi],multi:!0}];class Ul{static init(){!function(e){Ra=e}(new Ul)}addToWindow(e){Oe.getAngularTestability=(t,r=!0)=>{const n=e.findTestabilityInTree(t,r);if(null==n)throw new Error("Could not find testability for element.");return n},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(e=>{const t=Oe.getAllAngularTestabilities();let r=t.length,n=!1;const i=function(t){n=n||t,r--,0==r&&e(n)};t.forEach(function(e){e.whenStable(i)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:r?Qa().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ll=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const jl=new Or("EventManagerPlugins");let ql=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,r){return this._findPluginFor(t).addEventListener(e,t,r)}addGlobalEventListener(e,t,r){return this._findPluginFor(t).addGlobalEventListener(e,t,r)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const r=this._plugins;for(let n=0;n<r.length;n++){const t=r[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(zr(jl),zr(ya))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Hl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const n=Qa().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,r)}}let Bl=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Kl=(()=>{class e extends Bl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,r){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,r.push(t.appendChild(n))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(zl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,r)=>{this._addStylesToHost(e,r,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(zl))}}return e.\u0275fac=function(t){return new(t||e)(zr(Ya))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function zl(e){Qa().remove(e)}const Gl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wl=/%COMP%/g;function $l(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?$l(e,i,r):(i=i.replace(Wl,e),r.push(i))}return r}function Ql(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Yl=(()=>{class e{constructor(e,t,r){this.eventManager=e,this.sharedStylesHost=t,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Jl(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ce.Emulated:{let r=this.rendererByCompId.get(t.id);return r||(r=new Zl(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,r)),r.applyToHost(e),r}case 1:case Ce.ShadowDom:return new Xl(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=$l(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(zr(ql),zr(Kl),zr(Zs))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Jl{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Gl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,n){if(n){t=n+":"+t;const i=Gl[n];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const n=Gl[r];n?e.removeAttributeNS(n,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,n){n&(ln.DashCase|ln.Important)?e.style.setProperty(t,r,n&ln.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ln.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ql(r)):this.eventManager.addEventListener(e,t,Ql(r))}}class Zl extends Jl{constructor(e,t,r,n){super(e),this.component=r;const i=$l(n+"-"+r.id,r.styles,[]);t.addStyles(i),this.contentAttr=function(e){return"_ngcontent-%COMP%".replace(Wl,e)}(n+"-"+r.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Wl,e)}(n+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Xl extends Jl{constructor(e,t,r,n){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=$l(n.id,n.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ec=(()=>{class e extends Hl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,r){return e.addEventListener(t,r,!1),()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,r){return e.removeEventListener(t,r)}}return e.\u0275fac=function(t){return new(t||e)(zr(Ya))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const tc=["alt","control","meta","shift"],rc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ic={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let oc=(()=>{class e extends Hl{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,n){const i=e.parseEventName(r),o=e.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qa().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),n=r.shift();if(0===r.length||"keydown"!==n&&"keyup"!==n)return null;const i=e._normalizeKey(r.pop());let o="";if(tc.forEach(e=>{const t=r.indexOf(e);t>-1&&(r.splice(t,1),o+=e+".")}),o+=i,0!=r.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=o,s}static getEventFullKey(e){let t="",r=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&nc.hasOwnProperty(t)&&(t=nc[t]))}return rc[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tc.forEach(n=>{n!=r&&ic[n](e)&&(t+=n+".")}),t+=r,t}static eventCallback(t,r,n){return i=>{e.getEventFullKey(i)===t&&n.runGuarded(()=>r(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(zr(Ya))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const sc=xa(za,"browser",[{provide:ra,useValue:Il},{provide:ta,useValue:function(){Nl.makeCurrent(),Ul.init()},multi:!0},{provide:Ya,useFactory:function(){return function(e){ut=e}(document),document},deps:[]}]),ac=[[],{provide:Di,useValue:"root"},{provide:on,useFactory:function(){return new on},deps:[]},{provide:jl,useClass:ec,multi:!0,deps:[Ya,ya,ra]},{provide:jl,useClass:oc,multi:!0,deps:[Ya]},[],{provide:Yl,useClass:Yl,deps:[ql,Kl,Zs]},{provide:Mo,useExisting:Yl},{provide:Bl,useExisting:Kl},{provide:Kl,useClass:Kl,deps:[Ya]},{provide:Ca,useClass:Ca,deps:[ya]},{provide:ql,useClass:ql,deps:[jl,ya]},{provide:Vl,useClass:Ll,deps:[]},[]];let lc=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Zs,useValue:t.appId},{provide:Ml,useExisting:Zs},Dl]}}}return e.\u0275fac=function(t){return new(t||e)(zr(e,12))},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({providers:ac,imports:[Rl,Wa]}),e})();"undefined"!=typeof window&&window;class cc{}const uc="*";function dc(e,t=null){return{type:2,steps:e,options:t}}function hc(e){return{type:6,styles:e,offset:null}}function pc(e){Promise.resolve(null).then(e)}class fc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class gc{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,n=0;const i=this.players.length;0==i?pc(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++r==i&&this._onDestroy()}),e.onStart(()=>{++n==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const r=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(r)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function mc(){return"undefined"!=typeof window&&void 0!==window.document}function yc(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function vc(e){switch(e.length){case 0:return new fc;case 1:return e[0];default:return new gc(e)}}function wc(e,t,r,n,i={},o={}){const s=[],a=[];let l=-1,c=null;if(n.forEach(e=>{const r=e.offset,n=r==l,u=n&&c||{};Object.keys(e).forEach(r=>{let n=r,a=e[r];if("offset"!==r)switch(n=t.normalizePropertyName(n,s),a){case"!":a=i[r];break;case uc:a=o[r];break;default:a=t.normalizeStyleValue(r,n,a,s)}u[n]=a}),n||a.push(u),c=u,l=r}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function bc(e,t,r,n){switch(t){case"start":e.onStart(()=>n(r&&_c(r,"start",e)));break;case"done":e.onDone(()=>n(r&&_c(r,"done",e)));break;case"destroy":e.onDestroy(()=>n(r&&_c(r,"destroy",e)))}}function _c(e,t,r){const n=r.totalTime,i=Ec(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==n?e.totalTime:n,!!r.disabled),o=e._data;return null!=o&&(i._data=o),i}function Ec(e,t,r,n,i="",o=0,s){return{element:e,triggerName:t,fromState:r,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function Sc(e,t,r){let n;return e instanceof Map?(n=e.get(t),n||e.set(t,n=r)):(n=e[t],n||(n=e[t]=r)),n}function Cc(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Tc=(e,t)=>!1,Ac=(e,t)=>!1,Rc=(e,t,r)=>[];const Ic=yc();(Ic||"undefined"!=typeof Element)&&(Tc=mc()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),Ac=(()=>{if(Ic||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):Ac}})(),Rc=(e,t,r)=>{let n=[];if(r){const r=e.querySelectorAll(t);for(let e=0;e<r.length;e++)n.push(r[e])}else{const r=e.querySelector(t);r&&n.push(r)}return n});let Oc=null,kc=!1;function Pc(e){Oc||(Oc=("undefined"!=typeof document?document.body:null)||{},kc=!!Oc.style&&"WebkitAppearance"in Oc.style);let t=!0;return Oc.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Oc.style,!t&&kc&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Oc.style)),t}const Vc=Ac,Nc=Tc,xc=Rc;function Fc(e){const t={};return Object.keys(e).forEach(r=>{const n=r.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=e[r]}),t}let Mc=(()=>{class e{validateStyleProperty(e){return Pc(e)}matchesElement(e,t){return Vc(e,t)}containsElement(e,t){return Nc(e,t)}query(e,t,r){return xc(e,t,r)}computeStyle(e,t,r){return r||""}animate(e,t,r,n,i,o=[],s){return new fc(r,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Dc{}Dc.NOOP=new Mc;const Uc="ng-enter",Lc="ng-leave",jc="ng-trigger",qc=".ng-trigger",Hc="ng-animating",Bc=".ng-animating";function Kc(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zc(parseFloat(t[1]),t[2])}function zc(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Gc(e,t,r){return e.hasOwnProperty("duration")?e:function(e,t,r){let n,i=0,o="";if("string"==typeof e){const r=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===r)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};n=zc(parseFloat(r[1]),r[2]);const s=r[3];null!=s&&(i=zc(parseFloat(s),r[4]));const a=r[5];a&&(o=a)}else n=e;if(!r){let r=!1,o=t.length;n<0&&(t.push("Duration values below 0 are not allowed for this animation step."),r=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),r=!0),r&&t.splice(o,0,`The provided timing value "${e}" is invalid.`)}return{duration:n,delay:i,easing:o}}(e,t,r)}function Wc(e,t={}){return Object.keys(e).forEach(r=>{t[r]=e[r]}),t}function $c(e,t,r={}){if(t)for(let n in e)r[n]=e[n];else Wc(e,r);return r}function Qc(e,t,r){return r?t+":"+r+";":""}function Yc(e){let t="";for(let r=0;r<e.style.length;r++){const n=e.style.item(r);t+=Qc(0,n,e.style.getPropertyValue(n))}for(const r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=Qc(0,su(r),e.style[r]));e.setAttribute("style",t)}function Jc(e,t,r){e.style&&(Object.keys(t).forEach(n=>{const i=ou(n);r&&!r.hasOwnProperty(n)&&(r[n]=e.style[i]),e.style[i]=t[n]}),yc()&&Yc(e))}function Zc(e,t){e.style&&(Object.keys(t).forEach(t=>{const r=ou(t);e.style[r]=""}),yc()&&Yc(e))}function Xc(e){return Array.isArray(e)?1==e.length?e[0]:dc(e):e}const eu=new RegExp("{{\\s*(.+?)\\s*}}","g");function tu(e){let t=[];if("string"==typeof e){let r;for(;r=eu.exec(e);)t.push(r[1]);eu.lastIndex=0}return t}function ru(e,t,r){const n=e.toString(),i=n.replace(eu,(e,n)=>{let i=t[n];return t.hasOwnProperty(n)||(r.push(`Please provide a value for the animation param ${n}`),i=""),i.toString()});return i==n?e:i}function nu(e){const t=[];let r=e.next();for(;!r.done;)t.push(r.value),r=e.next();return t}const iu=/-+([a-z0-9])/g;function ou(e){return e.replace(iu,(...e)=>e[1].toUpperCase())}function su(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function au(e,t){return 0===e||0===t}function lu(e,t,r){const n=Object.keys(r);if(n.length&&t.length){let o=t[0],s=[];if(n.forEach(e=>{o.hasOwnProperty(e)||s.push(e),o[e]=r[e]}),s.length)for(var i=1;i<t.length;i++){let r=t[i];s.forEach(function(t){r[t]=uu(e,t)})}}return t}function cu(e,t,r){switch(t.type){case 7:return e.visitTrigger(t,r);case 0:return e.visitState(t,r);case 1:return e.visitTransition(t,r);case 2:return e.visitSequence(t,r);case 3:return e.visitGroup(t,r);case 4:return e.visitAnimate(t,r);case 5:return e.visitKeyframes(t,r);case 6:return e.visitStyle(t,r);case 8:return e.visitReference(t,r);case 9:return e.visitAnimateChild(t,r);case 10:return e.visitAnimateRef(t,r);case 11:return e.visitQuery(t,r);case 12:return e.visitStagger(t,r);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function uu(e,t){return window.getComputedStyle(e)[t]}function du(e,t){const r=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,r){if(":"==e[0]){const n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,r);if("function"==typeof n)return void t.push(n);e=n}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return r.push(`The provided transition expression "${e}" is not supported`),t;const i=n[1],o=n[2],s=n[3];t.push(fu(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&t.push(fu(s,i))}(e,r,t)):r.push(e),r}const hu=new Set(["true","1"]),pu=new Set(["false","0"]);function fu(e,t){const r=hu.has(e)||pu.has(e),n=hu.has(t)||pu.has(t);return(i,o)=>{let s="*"==e||e==i,a="*"==t||t==o;return!s&&r&&"boolean"==typeof i&&(s=i?hu.has(e):pu.has(e)),!a&&n&&"boolean"==typeof o&&(a=o?hu.has(t):pu.has(t)),s&&a}}const gu=new RegExp("s*:selfs*,?","g");function mu(e,t,r){return new yu(e).build(t,r)}class yu{constructor(e){this._driver=e}build(e,t){const r=new vu(t);return this._resetContextStyleTimingState(r),cu(this,Xc(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,n=t.depCount=0;const i=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const r=e,n=r.name;n.toString().split(/\s*,\s*/).forEach(e=>{r.name=e,i.push(this.visitState(r,t))}),r.name=n}else if(1==e.type){const i=this.visitTransition(e,t);r+=i.queryCount,n+=i.depCount,o.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:o,queryCount:r,depCount:n,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(r.containsDynamicStyles){const i=new Set,o=n||{};if(r.styles.forEach(e=>{if(wu(e)){const t=e;Object.keys(t).forEach(e=>{tu(t[e]).forEach(e=>{o.hasOwnProperty(e)||i.add(e)})})}}),i.size){const r=nu(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${r.join(", ")}`)}}return{type:0,name:e.name,style:r,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=cu(this,Xc(e.animation),t);return{type:1,matchers:du(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:bu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>cu(this,e,t)),options:bu(e.options)}}visitGroup(e,t){const r=t.currentTime;let n=0;const i=e.steps.map(e=>{t.currentTime=r;const i=cu(this,e,t);return n=Math.max(n,t.currentTime),i});return t.currentTime=n,{type:3,steps:i,options:bu(e.options)}}visitAnimate(e,t){const r=function(e,t){let r=null;if(e.hasOwnProperty("duration"))r=e;else if("number"==typeof e)return _u(Gc(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=_u(0,0,"");return e.dynamic=!0,e.strValue=n,e}return r=r||Gc(n,t),_u(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let n,i=e.styles?e.styles:hc({});if(5==i.type)n=this.visitKeyframes(i,t);else{let i=e.styles,o=!1;if(!i){o=!0;const e={};r.easing&&(e.easing=r.easing),i=hc(e)}t.currentTime+=r.duration+r.delay;const s=this.visitStyle(i,t);s.isEmptyStep=o,n=s}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==uc?r.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):r.push(e)}):r.push(e.styles);let n=!1,i=null;return r.forEach(e=>{if(wu(e)){const t=e,r=t.easing;if(r&&(i=r,delete t.easing),!n)for(let e in t)if(t[e].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:r,easing:i,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let n=t.currentTime,i=t.currentTime;r&&i>0&&(i-=r.duration+r.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(r=>{if(!this._driver.validateStyleProperty(r))return void t.errors.push(`The provided animation property "${r}" is not a supported CSS property for animations`);const o=t.collectedStyles[t.currentQuerySelector],s=o[r];let a=!0;s&&(i!=n&&i>=s.startTime&&n<=s.endTime&&(t.errors.push(`The CSS property "${r}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${n}ms"`),a=!1),i=s.startTime),a&&(o[r]={startTime:i,endTime:n}),t.options&&function(e,t,r){const n=t.params||{},i=tu(e);i.length&&i.forEach(e=>{n.hasOwnProperty(e)||r.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[r],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let n=0;const i=[];let o=!1,s=!1,a=0;const l=e.steps.map(e=>{const r=this._makeStyleAst(e,t);let l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(wu(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(wu(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}return t}(r.styles),c=0;return null!=l&&(n++,c=r.offset=l),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),r});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;n>0&&n<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(u=1/(c-1));const d=c-1,h=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,n)=>{const o=u>0?n==d?1:u*n:i[n],s=o*f;t.currentTime=h+p.delay+s,p.duration=s,this._validateStyleAst(e,t),e.offset=o,r.styles.push(e)}),r}visitReference(e,t){return{type:8,animation:cu(this,Xc(e.animation),t),options:bu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;const[i,o]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(gu,"")),[e=e.replace(/@\*/g,qc).replace(/@\w+/g,e=>qc+"-"+e.substr(1)).replace(/:animating/g,Bc),t]}(e.selector);t.currentQuerySelector=r.length?r+" "+i:i,Sc(t.collectedStyles,t.currentQuerySelector,{});const s=cu(this,Xc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:i,limit:n.limit||0,optional:!!n.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:bu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Gc(e.timings,t.errors,!0);return{type:12,animation:cu(this,Xc(e.animation),t),timings:r,options:null}}}class vu{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function wu(e){return!Array.isArray(e)&&"object"==typeof e}function bu(e){return e?(e=Wc(e)).params&&(e.params=function(e){return e?Wc(e):null}(e.params)):e={},e}function _u(e,t,r){return{duration:e,delay:t,easing:r}}function Eu(e,t,r,n,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:r,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Su{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Cu=new RegExp(":enter","g"),Tu=new RegExp(":leave","g");function Au(e,t,r,n,i,o={},s={},a,l,c=[]){return(new Ru).buildKeyframes(e,t,r,n,i,o,s,a,l,c)}class Ru{buildKeyframes(e,t,r,n,i,o,s,a,l,c=[]){l=l||new Su;const u=new Ou(e,t,l,n,i,c,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),cu(this,r,u);const d=u.timelines.filter(e=>e.containsAnimation());if(d.length&&Object.keys(s).length){const e=d[d.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,u.errors,a)}return d.length?d.map(e=>e.buildKeyframes()):[Eu(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const n=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,n,n.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let n=t.currentTimeline.currentTime;const i=null!=r.duration?Kc(r.duration):null,o=null!=r.delay?Kc(r.delay):null;return 0!==i&&e.forEach(e=>{const r=t.appendInstructionToTimeline(e,i,o);n=Math.max(n,r.duration+r.delay)}),n}visitReference(e,t){t.updateOptions(e.options,!0),cu(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let n=t;const i=e.options;if(i&&(i.params||i.delay)&&(n=t.createSubContext(i),n.transformIntoNewTimeline(),null!=i.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Iu);const e=Kc(i.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>cu(this,e,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>r&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let n=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?Kc(e.options.delay):0;e.steps.forEach(o=>{const s=t.createSubContext(e.options);i&&s.delayNextStep(i),cu(this,o,s),n=Math.max(n,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Gc(t.params?ru(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),n.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(r.duration),this.visitStyle(i,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,n=t.currentAnimateTimings;!n&&r.getCurrentStyleProperties().length&&r.forwardFrame();const i=n&&n.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(i):r.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,n=t.currentTimeline.duration,i=r.duration,o=t.createSubContext().currentTimeline;o.easing=r.easing,e.styles.forEach(e=>{o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(n+i),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,n=e.options||{},i=n.delay?Kc(n.delay):0;i&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Iu);let o=r;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((r,n)=>{t.currentQueryIndex=n;const s=t.createSubContext(e.options,r);i&&s.delayNextStep(i),r===t.element&&(a=s.currentTimeline),cu(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,n=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=r.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;cu(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=n.currentTime-c+(n.startTime-r.currentTimeline.startTime)}}const Iu={};class Ou{constructor(e,t,r,n,i,o,s,a){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=n,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Iu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ku(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let n=this.options;null!=r.duration&&(n.duration=Kc(r.duration)),null!=r.delay&&(n.delay=Kc(r.delay));const i=r.params;if(i){let e=n.params;e||(e=this.options.params={}),Object.keys(i).forEach(r=>{(!t||!e.hasOwnProperty(r))&&(e[r]=ru(i[r],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(e=>{r[e]=t[e]})}}return e}createSubContext(e=null,t,r){const n=t||this.element,i=new Ou(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,r||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=Iu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},i=new Pu(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(i),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,n,i,o){let s=[];if(n&&s.push(this.element),e.length>0){e=(e=e.replace(Cu,"."+this._enterClassName)).replace(Tu,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=r);0!==r&&(t=r<0?t.slice(t.length+r,t.length):t.slice(0,r)),s.push(...t)}return!i&&0==s.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class ku{constructor(e,t,r,n){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ku(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||uc,this._currentKeyframe[e]=uc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,n){t&&(this._previousKeyframe.easing=t);const i=n&&n.params||{},o=function(e,t){const r={};let n;return e.forEach(e=>{"*"===e?(n=n||Object.keys(t),n.forEach(e=>{r[e]=uc})):$c(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=ru(o[e],i,r);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:uc),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],n=e._styleSummary[t];(!r||n.time>r.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((i,o)=>{const s=$c(i,!0);Object.keys(s).forEach(r=>{const n=s[r];"!"==n?e.add(r):n==uc&&t.add(r)}),r||(s.offset=o/this.duration),n.push(s)});const i=e.size?nu(e.values()):[],o=t.size?nu(t.values()):[];if(r){const e=n[0],t=Wc(e);e.offset=0,t.offset=1,n=[e,t]}return Eu(this.element,n,i,o,this.duration,this.startTime,this.easing,!1)}}class Pu extends ku{constructor(e,t,r,n,i,o,s=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=n,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],o=r+t,s=t/o,a=$c(e[0],!1);a.offset=0,i.push(a);const l=$c(e[0],!1);l.offset=Vu(s),i.push(l);const c=e.length-1;for(let n=1;n<=c;n++){let s=$c(e[n],!1);s.offset=Vu((t+s.offset*r)/o),i.push(s)}r=o,t=0,n="",e=i}return Eu(this.element,e,this.preStyleProps,this.postStyleProps,r,t,n,!0)}}function Vu(e,t=3){const r=Math.pow(10,t-1);return Math.round(e*r)/r}class Nu{}class xu extends Nu{normalizePropertyName(e,t){return ou(e)}normalizeStyleValue(e,t,r,n){let i="";const o=r.toString().trim();if(Fu[t]&&0!==r&&"0"!==r)if("number"==typeof r)i="px";else{const t=r.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&n.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+i}}const Fu=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Mu(e,t,r,n,i,o,s,a,l,c,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:r,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Du={};class Uu{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,n){return function(e,t,r,n,i){return e.some(e=>e(t,r,n,i))}(this.ast.matchers,e,t,r,n)}buildStyles(e,t,r){const n=this._stateStyles["*"],i=this._stateStyles[e],o=n?n.buildStyles(t,r):{};return i?i.buildStyles(t,r):o}build(e,t,r,n,i,o,s,a,l,c){const u=[],d=this.ast.options&&this.ast.options.params||Du,h=this.buildStyles(r,s&&s.params||Du,u),p=a&&a.params||Du,f=this.buildStyles(n,p,u),g=new Set,m=new Map,y=new Map,v="void"===n,w={params:Object.assign(Object.assign({},d),p)},b=c?[]:Au(e,t,this.ast.animation,i,o,h,f,w,l,u);let _=0;if(b.forEach(e=>{_=Math.max(e.duration+e.delay,_)}),u.length)return Mu(t,this._triggerName,r,n,v,h,f,[],[],m,y,_,u);b.forEach(e=>{const r=e.element,n=Sc(m,r,{});e.preStyleProps.forEach(e=>n[e]=!0);const i=Sc(y,r,{});e.postStyleProps.forEach(e=>i[e]=!0),r!==t&&g.add(r)});const E=nu(g.values());return Mu(t,this._triggerName,r,n,v,h,f,b,E,m,y,_)}}class Lu{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},n=Wc(this.defaultParams);return Object.keys(e).forEach(t=>{const r=e[t];null!=r&&(n[t]=r)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let o=i[e];o.length>1&&(o=ru(o,n,t));const s=this.normalizer.normalizePropertyName(e,t);o=this.normalizer.normalizeStyleValue(e,s,o,t),r[s]=o})}}),r}}class ju{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Lu(e.style,e.options&&e.options.params||{},r)}),qu(this.states,"true","1"),qu(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Uu(e,t,this.states))}),this.fallbackTransition=function(e,t,r){return new Uu(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,n){return this.transitionFactories.find(i=>i.match(e,t,r,n))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function qu(e,t,r){e.hasOwnProperty(t)?e.hasOwnProperty(r)||(e[r]=e[t]):e.hasOwnProperty(r)&&(e[t]=e[r])}const Hu=new Su;class Bu{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],n=mu(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=n}_buildPlayer(e,t,r){const n=e.element,i=wc(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(n,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const n=[],i=this._animations[e];let o;const s=new Map;if(i?(o=Au(this._driver,t,i,Uc,Lc,{},{},r,Hu,n),o.forEach(e=>{const t=Sc(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),o=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);s.forEach((e,t)=>{Object.keys(e).forEach(r=>{e[r]=this._driver.computeStyle(t,r,uc)})});const a=vc(o.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,n){const i=Ec(t,"","","");return bc(this._getPlayer(e),r,i,n),()=>{}}command(e,t,r,n){if("register"==r)return void this.register(e,n[0]);if("create"==r)return void this.create(e,t,n[0]||{});const i=this._getPlayer(e);switch(r){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}const Ku="ng-animate-queued",zu="ng-animate-disabled",Gu=".ng-animate-disabled",Wu=[],$u={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yu="__ng_removed";class Ju{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(r?e.value:e),r){const t=Wc(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(r=>{null==e[r]&&(e[r]=t[r])})}}}const Zu="void",Xu=new Ju(Zu);class ed{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ld(t,this._hostClassName)}listen(e,t,r,n){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(e){return"start"==e||"done"==e}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const i=Sc(this._elementListeners,e,[]),o={name:t,phase:r,callback:n};i.push(o);const s=Sc(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(ld(e,jc),ld(e,jc+"-"+t),s[t]=Xu),()=>{this._engine.afterFlush(()=>{const e=i.indexOf(o);e>=0&&i.splice(e,1),this._triggers[t]||delete s[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,n=!0){const i=this._getTrigger(t),o=new rd(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(ld(e,jc),ld(e,jc+"-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const l=new Ju(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[t]=l,a||(a=Xu),l.value!==Zu&&a.value===l.value){if(!function(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){const n=r[i];if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}return!0}(a.params,l.params)){const t=[],r=i.matchStyles(a.value,a.params,t),n=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Zc(e,r),Jc(e,n)})}return}const c=Sc(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,l.value,e,l.params),d=!1;if(!u){if(!n)return;u=i.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:o,isFallbackTransition:d}),d||(ld(e,Ku),o.onStart(()=>{cd(e,Ku)})),o.onDone(()=>{let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1);const r=this._engine.playersByElement.get(e);if(r){let e=r.indexOf(o);e>=0&&r.splice(e,1)}}),this.players.push(o),c.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,qc,!0);r.forEach(e=>{if(e[Yu])return;const r=this._engine.fetchNamespacesByElement(e);r.size?r.forEach(r=>r.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,r,n){const i=this._engine.statesByElement.get(e);if(i){const o=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const r=this.trigger(e,t,Zu,n);r&&o.push(r)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&vc(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const o=this._triggers[i].fallbackTransition,s=r[i]||Xu,a=new Ju(Zu),l=new rd(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:o,fromState:s,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(r.totalAnimations){const t=r.players.length?r.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(r.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)r.markElementAsRemoved(this.id,e,!1,t);else{const n=e[Yu];(!n||n===$u)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ld(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const n=r.player;if(n.destroyed)return;const i=r.element,o=this._elementListeners.get(i);o&&o.forEach(t=>{if(t.name==r.triggerName){const n=Ec(i,r.triggerName,r.fromState.value,r.toState.value);n._data=e,bc(r.player,t.phase,n,t.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(r)}),this._queue=[],t.sort((e,t)=>{const r=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==r||0==n?r-n:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class td{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const r=new ed(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let n=!1;for(let i=r;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),n=!0;break}n||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let n=this._namespaceLookup[e];n&&n.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(r);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const e=Object.keys(r);for(let n=0;n<e.length;n++){const i=r[e[n]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,r,n){if(nd(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,r,n),!0}return!1}insertNode(e,t,r,n){if(!nd(t))return;const i=t[Yu];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const n=this._fetchNamespace(e);n&&n.insertNode(t,r)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ld(e,zu)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cd(e,zu))}removeNode(e,t,r,n){if(nd(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n),r){const r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,n)}}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,r,n){this.collectedLeaveElements.push(t),t[Yu]={namespaceId:e,setForRemoval:n,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,n,i){return nd(t)?this._fetchNamespace(e).listen(t,r,n,i):()=>{}}_buildInstruction(e,t,r,n,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,n,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,qc,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Bc,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Yu];if(t&&t.setForRemoval){if(e[Yu]=$u,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Gu)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Gu,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ld(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let e=0;e<r.length;e++)r[e]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?vc(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Su,n=[],i=new Map,o=[],s=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let r=0;r<t.length;r++)c.add(t[r])});const u=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=sd(d,this.collectedEnterElements),p=new Map;let f=0;h.forEach((e,t)=>{const r=Uc+f++;p.set(t,r),e.forEach(e=>ld(e,r))});const g=[],m=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const e=this.collectedLeaveElements[k],t=e[Yu];t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):y.add(e))}const v=new Map,w=sd(d,Array.from(m));w.forEach((e,t)=>{const r=Lc+f++;v.set(t,r),e.forEach(e=>ld(e,r))}),e.push(()=>{h.forEach((e,t)=>{const r=p.get(t);e.forEach(e=>cd(e,r))}),w.forEach((e,t)=>{const r=v.get(t);e.forEach(e=>cd(e,r))}),g.forEach(e=>{this.processLeaveNode(e)})});const b=[],_=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(b.push(t),this.collectedEnterElements.length){const e=i[Yu];if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,i),d=v.get(i),h=p.get(i),f=this._buildInstruction(e,r,h,d,c);if(f.errors&&f.errors.length)_.push(f);else{if(c)return t.onStart(()=>Zc(i,f.fromStyles)),t.onDestroy(()=>Jc(i,f.toStyles)),void n.push(t);if(e.isFallbackTransition)return t.onStart(()=>Zc(i,f.fromStyles)),t.onDestroy(()=>Jc(i,f.toStyles)),void n.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),r.append(i,f.timelines),o.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>Sc(s,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const r=Object.keys(e);if(r.length){let e=a.get(t);e||a.set(t,e=new Set),r.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const r=Object.keys(e);let n=l.get(t);n||l.set(t,n=new Set),r.forEach(e=>n.add(e))})}});if(_.length){const e=[];_.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const E=new Map,S=new Map;o.forEach(e=>{const t=e.element;r.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,E))}),n.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Sc(E,t,[]).push(e),e.destroy()})});const C=g.filter(e=>hd(e,a,l)),T=new Map;od(T,this.driver,y,l,uc).forEach(e=>{hd(e,a,l)&&C.push(e)});const A=new Map;h.forEach((e,t)=>{od(A,this.driver,new Set(e),a,"!")}),C.forEach(e=>{const t=T.get(e),r=A.get(e);T.set(e,Object.assign(Object.assign({},t),r))});const R=[],I=[],O={};o.forEach(e=>{const{element:t,player:o,instruction:s}=e;if(r.has(t)){if(c.has(t))return o.onDestroy(()=>Jc(t,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void n.push(o);let e=O;if(S.size>1){let r=t;const n=[];for(;r=r.parentNode;){const t=S.get(r);if(t){e=t;break}n.push(r)}n.forEach(t=>S.set(t,e))}const r=this._buildAnimation(o.namespaceId,s,E,i,A,T);if(o.setRealPlayer(r),e===O)R.push(o);else{const t=this.playersByElement.get(e);t&&t.length&&(o.parentPlayer=vc(t)),n.push(o)}}else Zc(t,s.fromStyles),o.onDestroy(()=>Jc(t,s.toStyles)),I.push(o),c.has(t)&&n.push(o)}),I.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const r=vc(t);e.setRealPlayer(r)}}),n.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let k=0;k<g.length;k++){const e=g[k],t=e[Yu];if(cd(e,Lc),t&&t.hasAnimation)continue;let r=[];if(s.size){let t=s.get(e);t&&t.length&&r.push(...t);let n=this.driver.query(e,Bc,!0);for(let e=0;e<n.length;e++){let t=s.get(n[e]);t&&t.length&&r.push(...t)}}const n=r.filter(e=>!e.destroyed);n.length?ud(this,e,n):this.processLeaveNode(e)}return g.length=0,R.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),R}elementContainsData(e,t){let r=!1;const n=t[Yu];return n&&n.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,n,i){let o=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(o=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==Zu;t.forEach(t=>{t.queued||!e&&t.triggerName!=n||o.push(t)})}}return(r||n)&&(o=o.filter(e=>!(r&&r!=e.namespaceId||n&&n!=e.triggerName))),o}_beforeAnimationBuild(e,t,r){const n=t.element,i=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==n,l=Sc(r,e,[]);this._getPreviousPlayers(e,a,i,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Zc(n,t.fromStyles)}_buildAnimation(e,t,r,n,i,o){const s=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,d=t.timelines.map(t=>{const d=t.element;c.add(d);const h=d[Yu];if(h&&h.removedBeforeQueried)return new fc(t.duration,t.delay);const p=d!==a,f=function(e){const t=[];return dd(e,t),t}((r.get(d)||Wu).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===d),g=i.get(d),m=o.get(d),y=wc(0,this._normalizer,0,t.keyframes,g,m),v=this._buildPlayer(t,y,f);if(t.subTimeline&&n&&u.add(d),p){const t=new rd(e,s,d);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{Sc(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,r){let n;if(e instanceof Map){if(n=e.get(t),n){if(n.length){const e=n.indexOf(r);n.splice(e,1)}0==n.length&&e.delete(t)}}else if(n=e[t],n){if(n.length){const e=n.indexOf(r);n.splice(e,1)}0==n.length&&delete e[t]}return n}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>ld(e,Hc));const h=vc(d);return h.onDestroy(()=>{c.forEach(e=>cd(e,Hc)),Jc(a,t.toStyles)}),u.forEach(e=>{Sc(n,e,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new fc(e.duration,e.delay)}}class rd{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new fc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>bc(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Sc(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function nd(e){return e&&1===e.nodeType}function id(e,t){const r=e.style.display;return e.style.display=null!=t?t:"none",r}function od(e,t,r,n,i){const o=[];r.forEach(e=>o.push(id(e)));const s=[];n.forEach((r,n)=>{const o={};r.forEach(e=>{const r=o[e]=t.computeStyle(n,e,i);(!r||0==r.length)&&(n[Yu]=Qu,s.push(n))}),e.set(n,o)});let a=0;return r.forEach(e=>id(e,o[a++])),s}function sd(e,t){const r=new Map;if(e.forEach(e=>r.set(e,[])),0==t.length)return r;const n=new Set(t),i=new Map;function o(e){if(!e)return 1;let t=i.get(e);if(t)return t;const s=e.parentNode;return t=r.has(s)?s:n.has(s)?1:o(s),i.set(e,t),t}return t.forEach(e=>{const t=o(e);1!==t&&r.get(t).push(e)}),r}const ad="$$classes";function ld(e,t){if(e.classList)e.classList.add(t);else{let r=e[ad];r||(r=e[ad]={}),r[t]=!0}}function cd(e,t){if(e.classList)e.classList.remove(t);else{let r=e[ad];r&&delete r[t]}}function ud(e,t,r){vc(r).onDone(()=>e.processLeaveNode(t))}function dd(e,t){for(let r=0;r<e.length;r++){const n=e[r];n instanceof gc?dd(n.players,t):t.push(n)}}function hd(e,t,r){const n=r.get(e);if(!n)return!1;let i=t.get(e);return i?n.forEach(e=>i.add(e)):t.set(e,n),r.delete(e),!0}class pd{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new td(e,t,r),this._timelineEngine=new Bu(e,t,r),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,r,n,i){const o=e+"-"+n;let s=this._triggerCache[o];if(!s){const e=[],t=mu(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t,r){return new ju(e,t,r)}(n,t,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,n,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,n){this._transitionEngine.insertNode(e,t,r,n)}onRemove(e,t,r,n){this._transitionEngine.removeNode(e,t,n||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,n){if("@"==r.charAt(0)){const[e,i]=Cc(r);this._timelineEngine.command(e,t,i,n)}else this._transitionEngine.trigger(e,t,r,n)}listen(e,t,r,n,i){if("@"==r.charAt(0)){const[e,n]=Cc(r);return this._timelineEngine.listen(e,t,n,i)}return this._transitionEngine.listen(e,t,r,n,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function fd(e,t){let r=null,n=null;return Array.isArray(t)&&t.length?(r=md(t[0]),t.length>1&&(n=md(t[t.length-1]))):t&&(r=md(t)),r||n?new gd(e,r,n):null}class gd{constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let n=gd.initialStylesByElement.get(e);n||gd.initialStylesByElement.set(e,n={}),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&Jc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jc(this._element,this._initialStyles),this._endStyles&&(Jc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(gd.initialStylesByElement.delete(this._element),this._startStyles&&(Zc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),Jc(this._element,this._initialStyles),this._state=3)}}function md(e){let t=null;const r=Object.keys(e);for(let n=0;n<r.length;n++){const i=r[n];yd(i)&&(t=t||{},t[i]=e[i])}return t}function yd(e){return"display"===e||"position"===e}gd.initialStylesByElement=new WeakMap;const vd="animation",wd="animationend";class bd{constructor(e,t,r,n,i,o,s){this._element=e,this._name=t,this._duration=r,this._delay=n,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){(function(e,t){const r=Ad(e,"").trim();let n=0;r.length&&(function(e,t){let r=0;for(let n=0;n<e.length;n++)","===e.charAt(n)&&r++;return r}(r)+1,t=`${r}, ${t}`),Td(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Cd(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){_d(this._element,this._name,"paused")}resume(){_d(this._element,this._name,"running")}setPosition(e){const t=Ed(this._element,this._name);this._position=e*this._duration,Td(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Cd(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const r=Ad(e,"").split(","),n=Sd(r,t);n>=0&&(r.splice(n,1),Td(e,"",r.join(",")))}(this._element,this._name))}}function _d(e,t,r){Td(e,"PlayState",r,Ed(e,t))}function Ed(e,t){const r=Ad(e,"");return r.indexOf(",")>0?Sd(r.split(","),t):Sd([r],t)}function Sd(e,t){for(let r=0;r<e.length;r++)if(e[r].indexOf(t)>=0)return r;return-1}function Cd(e,t,r){r?e.removeEventListener(wd,t):e.addEventListener(wd,t)}function Td(e,t,r,n){const i=vd+t;if(null!=n){const t=e.style[i];if(t.length){const e=t.split(",");e[n]=r,r=e.join(",")}}e.style[i]=r}function Ad(e,t){return e.style[vd+t]||""}class Rd{constructor(e,t,r,n,i,o,s,a){this.element=e,this.keyframes=t,this.animationName=r,this._duration=n,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=n+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new bd(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:uu(this.element,r))})}this.currentSnapshot=e}}class Id extends fc{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Fc(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Od{constructor(){this._count=0}validateStyleProperty(e){return Pc(e)}matchesElement(e,t){return Vc(e,t)}containsElement(e,t){return Nc(e,t)}query(e,t,r){return xc(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(e=>Fc(e));let n=`@keyframes ${t} {\n`,i="";r.forEach(e=>{i=" ";const t=parseFloat(e.offset);n+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const r=e[t];switch(t){case"offset":return;case"easing":return void(r&&(n+=`${i}animation-timing-function: ${r};\n`));default:return void(n+=`${i}${t}: ${r};\n`)}}),n+=`${i}}\n`}),n+="}\n";const o=document.createElement("style");return o.textContent=n,o}animate(e,t,r,n,i,o=[],s){const a=o.filter(e=>e instanceof Rd),l={};au(r,n)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(r=>{"offset"==r||"easing"==r||(t[r]=e[r])})}),t}(t=lu(e,t,l));if(0==r)return new Id(e,c);const u="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(e,u,t);(function(e){var t;const r=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot?r:document.head})(e).appendChild(d);const h=fd(e,t),p=new Rd(e,t,u,r,n,i,c,h);return p.onDestroy(()=>function(e){e.parentNode.removeChild(e)}(d)),p}}class kd{constructor(e,t,r,n){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:uu(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Pd{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Vd().toString()),this._cssKeyframesDriver=new Od}validateStyleProperty(e){return Pc(e)}matchesElement(e,t){return Vc(e,t)}containsElement(e,t){return Nc(e,t)}query(e,t,r){return xc(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,n,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,n,i,o);const a={duration:r,delay:n,fill:0==n?"both":"forwards"};i&&(a.easing=i);const l={},c=o.filter(e=>e instanceof kd);au(r,n)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=fd(e,t=lu(e,t=t.map(e=>$c(e,!1)),l));return new kd(e,t,a,u)}}function Vd(){return mc()&&Element.prototype.animate||{}}let Nd=(()=>{class e extends cc{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:Ce.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?dc(e):e;return Md(this._renderer,null,t,"register",[r]),new xd(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(zr(Mo),zr(Ya))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class xd extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Fd(this._id,e,t||{},this._renderer)}}class Fd{constructor(e,t,r,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Md(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Md(e,t,r,n,i){return e.setProperty(t,`@@${r}:${n}`,i)}const Dd="@.disabled";let Ud=(()=>{class e{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(r);return e||(e=new Ld("",r,this.engine),this._rendererCache.set(r,e)),e}const n=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const o=t=>{Array.isArray(t)?t.forEach(o):this.engine.registerTrigger(n,i,e,t.name,t)};return t.data.animation.forEach(o),new jd(this,i,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){e>=0&&e<this._microtaskId?this._zone.run(()=>t(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,r]=e;t(r)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(zr(Mo),zr(pd),zr(ya))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Ld{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,n=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,n){this.delegate.setAttribute(e,t,r,n)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,n){this.delegate.setStyle(e,t,r,n)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Dd?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jd extends Ld{constructor(e,t,r,n){super(t,r,n),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Dd?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,n,i,o,e=>{this.factory.scheduleListenerCallback(e._data||-1,r,e)})}return this.delegate.listen(e,t,r)}}let qd=(()=>{class e extends pd{constructor(e,t,r){super(e.body,t,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(zr(Ya),zr(Dc),zr(Nu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Hd=new Or("AnimationModuleType"),Bd=[{provide:cc,useClass:Nd},{provide:Nu,useFactory:function(){return new xu}},{provide:pd,useClass:qd},{provide:Mo,useFactory:function(e,t,r){return new Ud(e,t,r)},deps:[Yl,pd,ya]}],Kd=[{provide:Dc,useFactory:function(){return"function"==typeof Vd()?new Pd:new Od}},{provide:Hd,useValue:"BrowserAnimations"},...Bd],zd=[{provide:Dc,useClass:Mc},{provide:Hd,useValue:"NoopAnimations"},...Bd];let Gd=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?zd:Kd}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({providers:Kd,imports:[lc]}),e})();function Wd(...e){let t=e[e.length-1];return A(t)?(e.pop(),F(e,t)):K(e)}function $d(e,t){return j(e,t,1)}function Qd(e,t){return function(r){return r.lift(new Yd(e,t))}}class Yd{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Jd(e,this.predicate,this.thisArg))}}class Jd extends g{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}class Zd{}class Xd{}class eh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const r=e.slice(0,t),n=r.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(i):this.headers.set(n,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const n=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(n,r),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof eh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new eh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof eh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...r),this.headers.set(t,n);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class th{encodeKey(e){return rh(e)}encodeValue(e){return rh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function rh(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function nh(e){return`${e}`}class ih{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new th,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const n=e.indexOf("="),[i,o]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],s=r.get(i)||[];s.push(o),r.set(i,s)}),r}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const n=e[r];Array.isArray(n)?n.forEach(e=>{t.push({param:r,value:e,op:"a"})}):t.push({param:r,value:n,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ih({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(nh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const r=t.indexOf(nh(e.value));-1!==r&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class oh{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function sh(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ah(e){return"undefined"!=typeof Blob&&e instanceof Blob}function lh(e){return"undefined"!=typeof FormData&&e instanceof FormData}class ch{constructor(e,t,r,n){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,i=n):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new eh),this.context||(this.context=new oh),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const r=t.indexOf("?");this.urlWithParams=t+(-1===r?"?":r<t.length-1?"&":"")+e}}else this.params=new ih,this.urlWithParams=t}serializeBody(){return null===this.body?null:sh(this.body)||ah(this.body)||lh(this.body)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ih?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lh(this.body)?null:ah(this.body)?this.body.type||null:sh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ih?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,r)=>t.set(r,e.setHeaders[r]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,r)=>t.set(r,e.setParams[r]),c)),new ch(r,n,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var uh=(()=>((uh=uh||{})[uh.Sent=0]="Sent",uh[uh.UploadProgress=1]="UploadProgress",uh[uh.ResponseHeader=2]="ResponseHeader",uh[uh.DownloadProgress=3]="DownloadProgress",uh[uh.Response=4]="Response",uh[uh.User=5]="User",uh))();class dh{constructor(e,t=200,r="OK"){this.headers=e.headers||new eh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hh extends dh{constructor(e={}){super(e),this.type=uh.ResponseHeader}clone(e={}){return new hh({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ph extends dh{constructor(e={}){super(e),this.type=uh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ph({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fh extends dh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function gh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let mh=(()=>{class e{constructor(e){this.handler=e}request(e,t,r={}){let n;if(e instanceof ch)n=e;else{let i,o;i=r.headers instanceof eh?r.headers:new eh(r.headers),r.params&&(o=r.params instanceof ih?r.params:new ih({fromObject:r.params})),n=new ch(e,t,void 0!==r.body?r.body:null,{headers:i,context:r.context,params:o,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const i=Wd(n).pipe($d(e=>this.handler.handle(e)));if(e instanceof ch||"events"===r.observe)return i;const o=i.pipe(Qd(e=>e instanceof ph));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return o.pipe(R(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(R(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(R(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(R(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new ih).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,r={}){return this.request("PATCH",e,gh(r,t))}post(e,t,r={}){return this.request("POST",e,gh(r,t))}put(e,t,r={}){return this.request("PUT",e,gh(r,t))}}return e.\u0275fac=function(t){return new(t||e)(zr(Zd))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class yh{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const vh=new Or("HTTP_INTERCEPTORS");let wh=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const bh=/^\)\]\}',?\n/;let _h=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new w(t=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((e,t)=>r.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&r.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();r.responseType="json"!==t?t:"text"}const n=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===r.status?204:r.status,n=r.statusText||"OK",o=new eh(r.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return i=new hh({headers:o,status:t,statusText:n,url:s}),i},s=()=>{let{headers:n,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l=void 0===r.response?r.responseText:r.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(bh,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new ph({body:l,headers:n,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new fh({error:l,headers:n,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:n}=o(),i=new fh({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:n||void 0});t.error(i)};let l=!1;const c=n=>{l||(t.next(o()),l=!0);let i={type:uh.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(i.total=n.total),"text"===e.responseType&&!!r.responseText&&(i.partialText=r.responseText),t.next(i)},u=e=>{let r={type:uh.UploadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),t.next(r)};return r.addEventListener("load",s),r.addEventListener("error",a),r.addEventListener("timeout",a),r.addEventListener("abort",a),e.reportProgress&&(r.addEventListener("progress",c),null!==n&&r.upload&&r.upload.addEventListener("progress",u)),r.send(n),t.next({type:uh.Sent}),()=>{r.removeEventListener("error",a),r.removeEventListener("abort",a),r.removeEventListener("load",s),r.removeEventListener("timeout",a),e.reportProgress&&(r.removeEventListener("progress",c),null!==n&&r.upload&&r.upload.removeEventListener("progress",u)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(zr(Vl))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Eh=new Or("XSRF_COOKIE_NAME"),Sh=new Or("XSRF_HEADER_NAME");class Ch{}let Th=(()=>{class e{constructor(e,t,r){this.doc=e,this.platform=t,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=vl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(zr(Ya),zr(ra),zr(Eh))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Ah=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t.handle(e);const n=this.tokenService.getToken();return null!==n&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(zr(Ch),zr(Sh))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Rh=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(vh,[]);this.chain=e.reduceRight((e,t)=>new yh(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(zr(Xd),zr(Qi))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Ih=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Ah,useClass:wh}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Eh,useValue:t.cookieName}:[],t.headerName?{provide:Sh,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({providers:[Ah,{provide:vh,useExisting:Ah,multi:!0},{provide:Ch,useClass:Th},{provide:Eh,useValue:"XSRF-TOKEN"},{provide:Sh,useValue:"X-XSRF-TOKEN"}]}),e})(),Oh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({providers:[mh,{provide:Zd,useClass:Rh},_h,{provide:Xd,useExisting:_h}],imports:[[Ih.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();class kh extends C{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(e){super.next(this._value=e)}}function Ph(){}function Vh(e,t,r){return function(n){return n.lift(new Nh(e,t,r))}}class Nh{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new xh(e,this.nextOrObserver,this.error,this.complete))}}class xh extends g{constructor(e,t,r,i){super(e),this._tapNext=Ph,this._tapError=Ph,this._tapComplete=Ph,this._tapError=r||Ph,this._tapComplete=i||Ph,n(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Ph,this._tapError=t.error||Ph,this._tapComplete=t.complete||Ph)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Fh extends d{constructor(e,t){super()}schedule(e,t=0){return this}}let Mh=(()=>{class e{constructor(t,r=e.now){this.SchedulerAction=t,this.now=r}schedule(e,t=0,r){return new this.SchedulerAction(this,e).schedule(r,t)}}return e.now=()=>Date.now(),e})();class Dh extends Mh{constructor(e,t=Mh.now){super(e,()=>Dh.delegate&&Dh.delegate!==this?Dh.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return Dh.delegate&&Dh.delegate!==this?Dh.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new Dh(class extends Fh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,n=!1;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}});const Uh=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),Lh=new w(e=>e.complete());function jh(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):Lh}function qh(e){return t=>0===e?jh():t.lift(new Hh(e))}class Hh{constructor(e){if(this.total=e,this.total<0)throw new Uh}call(e,t){return t.subscribe(new Bh(e,this.total))}}class Bh extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}class Kh{constructor(e){this.notifier=e}call(e,t){const r=new zh(e),n=L(this.notifier,new D(r));return n&&!r.seenValue?(r.add(n),t.subscribe(r)):r}}class zh extends U{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Gh;try{Gh="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(h){Gh=!1}let Wh=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(e){return e===Il}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Gh)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(zr(ra))},e.\u0275prov=ce({factory:function(){return new e(zr(ra))},token:e,providedIn:"root"}),e})(),$h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({}),e})();"undefined"!=typeof Element&&Element;const Qh="cdk-high-contrast-black-on-white",Yh="cdk-high-contrast-white-on-black",Jh="cdk-high-contrast-active";let Zh=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,r=t&&t.getComputedStyle?t.getComputedStyle(e):null,n=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),n){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Jh),e.remove(Qh),e.remove(Yh),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(Jh),e.add(Qh)):2===t&&(e.add(Jh),e.add(Yh))}}}return e.\u0275fac=function(t){return new(t||e)(zr(Wh),zr(Ya))},e.\u0275prov=ce({factory:function(){return new e(zr(Wh),zr(Ya))},token:e,providedIn:"root"}),e})(),Xh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({}),e})();const ep=new Uo("12.2.1");function tp(...e){return B(1)(Wd(...e))}const rp=new Uo("12.2.1"),np=new Or("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ip,op=(()=>{class e{constructor(e,t,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!ka()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&rp.full!==ep.full&&console.warn("The Angular Material version ("+rp.full+") does not match the Angular CDK version ("+ep.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(zr(Zh),zr(np,8),zr(Ya))},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[Xh],Xh]}),e})();try{ip="undefined"!=typeof Intl}catch(h){ip=!1}let sp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[op],op]}),e})(),ap=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[op,$h],op]}),e})(),lp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[op]]}),e})(),cp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[ap,op],op]}),e})(),up=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[op],op]}),e})(),dp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[op],op]}),e})(),hp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[sp,ap,op,lp,Rl],sp,op,lp,dp]}),e})();class pp extends g{notifyNext(e,t,r,n,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class fp extends g{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function gp(e,t,r,n,i=new fp(e,r,n)){if(!i.closed)return t instanceof w?t.subscribe(i):x(t)(i)}const mp={};class yp{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new vp(e,this.resultSelector))}}class vp extends pp{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(mp),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(gp(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const n=this.values,i=this.toRespond?n[r]===mp?--this.toRespond:this.toRespond:0;n[r]=t,0===i&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const wp=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function bp(e){return new w(t=>{let r;try{r=e()}catch(n){return void t.error(n)}return(r?M(r):jh()).subscribe(t)})}function _p(e,t){return"function"==typeof t?r=>r.pipe(_p((r,n)=>M(e(r,n)).pipe(R((e,i)=>t(r,e,n,i))))):t=>t.lift(new Ep(e))}class Ep{constructor(e){this.project=e}call(e,t){return t.subscribe(new Sp(e,this.project))}}class Sp extends U{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new D(this),n=this.destination;n.add(r),this.innerSubscription=L(e,r),this.innerSubscription!==r&&n.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function Cp(e,t){let r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new Tp(e,t,r))}}class Tp{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Ap(e,this.accumulator,this.seed,this.hasSeed))}}class Ap extends g{constructor(e,t,r,n){super(e),this.accumulator=t,this._seed=r,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=r,this.destination.next(r)}}function Rp(e){return function(t){const r=new Ip(e),n=t.lift(r);return r.caught=n}}class Ip{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Op(e,this.selector,this.caught))}}class Op extends U{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let r;try{r=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new D(this);this.add(n);const i=L(r,n);i!==n&&this.add(i)}}}function kp(e){return function(t){return 0===e?jh():t.lift(new Pp(e))}}class Pp{constructor(e){if(this.total=e,this.total<0)throw new Uh}call(e,t){return t.subscribe(new Vp(e,this.total))}}class Vp extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,n=this.ring;for(let i=0;i<r;i++){const i=t++%r;e.next(n[i])}}e.complete()}}function Np(e=Mp){return t=>t.lift(new xp(e))}class xp{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Fp(e,this.errorFactory))}}class Fp extends g{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Mp(){return new wp}function Dp(e=null){return t=>t.lift(new Up(e))}class Up{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Lp(e,this.defaultValue))}}class Lp extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function jp(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Qd((t,r)=>e(t,r,n)):v,qh(1),r?Dp(t):Np(()=>new wp))}class qp{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Hp(e,this.callback))}}class Hp extends g{constructor(e,t){super(e),this.add(new d(t))}}class Bp{constructor(e,t){this.id=e,this.url=t}}class Kp extends Bp{constructor(e,t,r="imperative",n=null){super(e,t),this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zp extends Bp{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gp extends Bp{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wp extends Bp{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $p extends Bp{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qp extends Bp{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yp extends Bp{constructor(e,t,r,n,i){super(e,t),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jp extends Bp{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zp extends Bp{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ef{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tf{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rf{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nf{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class of{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const af="primary";class lf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function cf(e){return new lf(e)}const uf="ngNavigationCancelingError";function df(e){const t=Error("NavigationCancelingError: "+e);return t[uf]=!0,t}function hf(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const i={};for(let o=0;o<n.length;o++){const t=n[o],r=e[o];if(t.startsWith(":"))i[t.substring(1)]=r;else if(t!==r.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function pf(e,t){const r=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!ff(e[i],t[i]))return!1;return!0}function ff(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((e,t)=>n[t]===e)}return e===t}function gf(e){return Array.prototype.concat.apply([],e)}function mf(e){return e.length>0?e[e.length-1]:null}function yf(e,t){for(const r in e)e.hasOwnProperty(r)&&t(e[r],r)}function vf(e){return ho(e)?e:uo(e)?M(Promise.resolve(e)):Wd(e)}const wf={exact:function e(t,r,n){if(!If(t.segments,r.segments)||!Cf(t.segments,r.segments,n)||t.numberOfChildren!==r.numberOfChildren)return!1;for(const i in r.children)if(!t.children[i]||!e(t.children[i],r.children[i],n))return!1;return!0},subset:Ef},bf={exact:function(e,t){return pf(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>ff(e[r],t[r]))},ignored:()=>!0};function _f(e,t,r){return wf[r.paths](e.root,t.root,r.matrixParams)&&bf[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function Ef(e,t,r){return Sf(e,t,t.segments,r)}function Sf(e,t,r,n){if(e.segments.length>r.length){const i=e.segments.slice(0,r.length);return!(!If(i,r)||t.hasChildren()||!Cf(i,r,n))}if(e.segments.length===r.length){if(!If(e.segments,r)||!Cf(e.segments,r,n))return!1;for(const r in t.children)if(!e.children[r]||!Ef(e.children[r],t.children[r],n))return!1;return!0}{const i=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!!(If(e.segments,i)&&Cf(e.segments,i,n)&&e.children[af])&&Sf(e.children[af],t,o,n)}}function Cf(e,t,r){return t.every((t,n)=>bf[r](e[n].parameters,t.parameters))}class Tf{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cf(this.queryParams)),this._queryParamMap}toString(){return Pf.serialize(this)}}class Af{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yf(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vf(this)}}class Rf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=cf(this.parameters)),this._parameterMap}toString(){return Lf(this)}}function If(e,t){return e.length===t.length&&e.every((e,r)=>e.path===t[r].path)}class Of{}class kf{parse(e){const t=new Kf(e);return new Tf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Nf(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(e=>`${Ff(t)}=${Ff(e)}`).join("&"):`${Ff(t)}=${Ff(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(e){return encodeURI(e)}(e.fragment)}`:""}`}}const Pf=new kf;function Vf(e){return e.segments.map(e=>Lf(e)).join("/")}function Nf(e,t){if(!e.hasChildren())return Vf(e);if(t){const t=e.children[af]?Nf(e.children[af],!1):"",r=[];return yf(e.children,(e,t)=>{t!==af&&r.push(`${t}:${Nf(e,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(e,t){let r=[];return yf(e.children,(e,n)=>{n===af&&(r=r.concat(t(e,n)))}),yf(e.children,(e,n)=>{n!==af&&(r=r.concat(t(e,n)))}),r}(e,(t,r)=>r===af?[Nf(e.children[af],!1)]:[`${r}:${Nf(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[af]?`${Vf(e)}/${t[0]}`:`${Vf(e)}/(${t.join("//")})`}}function xf(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ff(e){return xf(e).replace(/%3B/gi,";")}function Mf(e){return xf(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Df(e){return decodeURIComponent(e)}function Uf(e){return Df(e.replace(/\+/g,"%20"))}function Lf(e){return`${Mf(e.path)}${function(e){return Object.keys(e).map(t=>`;${Mf(t)}=${Mf(e[t])}`).join("")}(e.parameters)}`}const jf=/^[^\/()?;=#]+/;function qf(e){const t=e.match(jf);return t?t[0]:""}const Hf=/^[^=?&#]+/,Bf=/^[^?&#]+/;class Kf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Af([],{}):new Af([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[af]=new Af(e,t)),r}parseSegment(){const e=qf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Rf(Df(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const e=qf(this.remaining);e&&(r=e,this.capture(r))}e[Df(t)]=Df(r)}parseQueryParam(e){const t=function(e){const t=e.match(Hf);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Bf);return t?t[0]:""}(this.remaining);e&&(r=e,this.capture(r))}const n=Uf(t),i=Uf(r);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(i)}else e[n]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qf(this.remaining),n=this.remaining[r.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let i;r.indexOf(":")>-1?(i=r.substr(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=af);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[af]:new Af([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class zf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gf(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Gf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Wf(e,this._root).map(e=>e.value)}}function Gf(e,t){if(e===t.value)return t;for(const r of t.children){const t=Gf(e,r);if(t)return t}return null}function Wf(e,t){if(e===t.value)return[t];for(const r of t.children){const n=Wf(e,r);if(n.length)return n.unshift(t),n}return[]}class $f{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qf(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Yf extends zf{constructor(e,t){super(e),this.snapshot=t,rg(this,e)}toString(){return this.snapshot.toString()}}function Jf(e,t){const r=function(e,t){const r=new eg([],{},{},"",{},af,t,null,e.root,-1,{});return new tg("",new $f(r,[]))}(e,t),n=new kh([new Rf("",{})]),i=new kh({}),o=new kh({}),s=new kh({}),a=new kh(""),l=new Zf(n,i,s,a,o,af,t,r.root);return l.snapshot=r.root,new Yf(new $f(l,[]),r)}class Zf{constructor(e,t,r,n,i,o,s,a){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(R(e=>cf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(R(e=>cf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xf(e,t="emptyOnly"){const r=e.pathFromRoot;let n=0;if("always"!==t)for(n=r.length-1;n>=1;){const e=r[n],t=r[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(n))}class eg{constructor(e,t,r,n,i,o,s,a,l,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tg extends zf{constructor(e,t){super(t),this.url=e,rg(this,t)}toString(){return ng(this._root)}}function rg(e,t){t.value._routerState=e,t.children.forEach(t=>rg(e,t))}function ng(e){const t=e.children.length>0?` { ${e.children.map(ng).join(", ")} } `:"";return`${e.value}${t}`}function ig(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,pf(t.queryParams,r.queryParams)||e.queryParams.next(r.queryParams),t.fragment!==r.fragment&&e.fragment.next(r.fragment),pf(t.params,r.params)||e.params.next(r.params),function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!pf(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.url.next(r.url),pf(t.data,r.data)||e.data.next(r.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function og(e,t){return pf(e.params,t.params)&&function(e,t){return If(e,t)&&e.every((e,r)=>pf(e.parameters,t[r].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||og(e.parent,t.parent))}function sg(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const i=function(e,t,r){return t.children.map(t=>{for(const n of r.children)if(e.shouldReuseRoute(t.value,n.value.snapshot))return sg(e,t,n);return sg(e,t)})}(e,t,r);return new $f(n,i)}{if(e.shouldAttach(t.value)){const r=e.retrieve(t.value);if(null!==r){const e=r.route;return ag(t,e),e}}const r=function(e){return new Zf(new kh(e.url),new kh(e.params),new kh(e.queryParams),new kh(e.fragment),new kh(e.data),e.outlet,e.component,e)}(t.value),n=t.children.map(t=>sg(e,t));return new $f(r,n)}}function ag(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)ag(e.children[r],t.children[r])}function lg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function cg(e){return"object"==typeof e&&null!=e&&e.outlets}function ug(e,t,r,n,i){let o={};return n&&yf(n,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Tf(r.root===e?t:dg(r.root,e,t),o,i)}function dg(e,t,r){const n={};return yf(e.children,(e,i)=>{n[i]=e===t?r:dg(e,t,r)}),new Af(e.segments,n)}class hg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lg(r[0]))throw new Error("Root segment cannot have matrix parameters");const n=r.find(cg);if(n&&n!==mf(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function fg(e,t,r){if(e||(e=new Af([],{})),0===e.segments.length&&e.hasChildren())return gg(e,t,r);const n=function(e,t,r){let n=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=r.length)return o;const t=e.segments[i],s=r[n];if(cg(s))break;const a=`${s}`,l=n<r.length-1?r[n+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!wg(a,l,t))return o;n+=2}else{if(!wg(a,{},t))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new Af(e.segments.slice(0,n.pathIndex),{});return t.children[af]=new Af(e.segments.slice(n.pathIndex),e.children),gg(t,0,i)}return n.match&&0===i.length?new Af(e.segments,{}):n.match&&!e.hasChildren()?mg(e,t,r):n.match?gg(e,0,i):mg(e,t,r)}function gg(e,t,r){if(0===r.length)return new Af(e.segments,{});{const n=function(e){return cg(e[0])?e[0].outlets:{[af]:e}}(r),i={};return yf(n,(r,n)=>{"string"==typeof r&&(r=[r]),null!==r&&(i[n]=fg(e.children[n],t,r))}),yf(e.children,(e,t)=>{void 0===n[t]&&(i[t]=e)}),new Af(e.segments,i)}}function mg(e,t,r){const n=e.segments.slice(0,t);let i=0;for(;i<r.length;){const o=r[i];if(cg(o)){const e=yg(o.outlets);return new Af(n,e)}if(0===i&&lg(r[0])){n.push(new Rf(e.segments[t].path,vg(r[0]))),i++;continue}const s=cg(o)?o.outlets[af]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&lg(a)?(n.push(new Rf(s,vg(a))),i+=2):(n.push(new Rf(s,{})),i++)}return new Af(n,{})}function yg(e){const t={};return yf(e,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=mg(new Af([],{}),0,e))}),t}function vg(e){const t={};return yf(e,(e,r)=>t[r]=`${e}`),t}function wg(e,t,r){return e==r.path&&pf(t,r.parameters)}class bg{constructor(e,t,r,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=n}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ig(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const n=Qf(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],r),delete n[t]}),yf(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,r)})}deactivateRoutes(e,t,r){const n=e.value,i=t?t.value:null;if(n===i)if(n.component){const i=r.getContext(n.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const t=r.outlet.detach(),n=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),n=r&&e.value.component?r.children:t,i=Qf(e);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],n);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const n=Qf(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],r),this.forwardEvent(new of(e.value.snapshot))}),e.children.length&&this.forwardEvent(new rf(e.value.snapshot))}activateRoutes(e,t,r){const n=e.value,i=t?t.value:null;if(ig(n),n===i)if(n.component){const i=r.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,r);else if(n.component){const t=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),_g(e.route)}else{const r=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),i=r?r.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=i,t.outlet&&t.outlet.activateWith(n,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,r)}}function _g(e){ig(e.value),e.children.forEach(_g)}class Eg{constructor(e,t){this.routes=e,this.module=t}}function Sg(e){return"function"==typeof e}function Cg(e){return e instanceof Tf}const Tg=Symbol("INITIAL_VALUE");function Ag(){return _p(e=>function(...e){let t,r;return A(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),K(e,r).lift(new yp(t))}(e.map(e=>e.pipe(qh(1),function(...e){const t=e[e.length-1];return A(t)?(e.pop(),r=>tp(e,r,t)):t=>tp(e,t)}(Tg)))).pipe(Cp((e,t)=>{let r=!1;return t.reduce((e,n,i)=>e!==Tg?e:(n===Tg&&(r=!0),r||!1!==n&&i!==t.length-1&&!Cg(n)?e:n),e)},Tg),Qd(e=>e!==Tg),R(e=>Cg(e)?e:!0===e),qh(1)))}let Rg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=je({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&co(0,"router-outlet")},directives:function(){return[_m]},encapsulation:2}),e})();function Ig(e,t=""){for(let r=0;r<e.length;r++){const n=e[r];Og(n,kg(t,n))}}function Og(e,t){e.children&&Ig(e.children,t)}function kg(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Pg(e){const t=e.children&&e.children.map(Pg),r=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!r.component&&(t||r.loadChildren)&&r.outlet&&r.outlet!==af&&(r.component=Rg),r}function Vg(e){return e.outlet||af}function Ng(e,t){const r=e.filter(e=>Vg(e)===t);return r.push(...e.filter(e=>Vg(e)!==t)),r}const xg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fg(e,t,r){var n;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?Object.assign({},xg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||hf)(r,e,t);if(!i)return Object.assign({},xg);const o={};yf(i.posParams,(e,t)=>{o[t]=e.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(n=i.posParams)&&void 0!==n?n:{}}}function Mg(e,t,r,n,i="corrected"){if(r.length>0&&function(e,t,r){return r.some(r=>Dg(e,t,r)&&Vg(r)!==af)}(e,r,n)){const i=new Af(t,function(e,t,r,n){const i={};i[af]=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const o of r)if(""===o.path&&Vg(o)!==af){const r=new Af([],{});r._sourceSegment=e,r._segmentIndexShift=t.length,i[Vg(o)]=r}return i}(e,t,n,new Af(r,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===r.length&&function(e,t,r){return r.some(r=>Dg(e,t,r))}(e,r,n)){const o=new Af(e.segments,function(e,t,r,n,i,o){const s={};for(const a of n)if(Dg(e,r,a)&&!i[Vg(a)]){const r=new Af([],{});r._sourceSegment=e,r._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Vg(a)]=r}return Object.assign(Object.assign({},i),s)}(e,t,r,n,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:r}}const o=new Af(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:r}}function Dg(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}function Ug(e,t,r,n){return!!(Vg(e)===n||n!==af&&Dg(t,r,e))&&("**"===e.path||Fg(t,e,r).matched)}function Lg(e,t,r){return 0===t.length&&!e.children[r]}class jg{constructor(e){this.segmentGroup=e||null}}class qg{constructor(e){this.urlTree=e}}function Hg(e){return new w(t=>t.error(new jg(e)))}function Bg(e){return new w(t=>t.error(new qg(e)))}function Kg(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class zg{constructor(e,t,r,n,i){this.configLoader=t,this.urlSerializer=r,this.urlTree=n,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(ps)}apply(){const e=Mg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Af(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,af).pipe(R(e=>this.createUrlTree(Gg(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rp(e=>{if(e instanceof qg)return this.allowRedirects=!1,this.match(e.urlTree);throw e instanceof jg?this.noMatchError(e):e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,af).pipe(R(t=>this.createUrlTree(Gg(t),e.queryParams,e.fragment))).pipe(Rp(e=>{throw e instanceof jg?this.noMatchError(e):e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const n=e.segments.length>0?new Af([],{[af]:e}):e;return new Tf(n,t,r)}expandSegmentGroup(e,t,r,n){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(R(e=>new Af([],e))):this.expandSegment(e,r,t,r.segments,n,!0)}expandChildren(e,t,r){const n=[];for(const i of Object.keys(r.children))"primary"===i?n.unshift(i):n.push(i);return M(n).pipe($d(n=>{const i=r.children[n],o=Ng(t,n);return this.expandSegmentGroup(e,o,i,n).pipe(R(e=>({segment:e,outlet:n})))}),Cp((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Qd((t,r)=>e(t,r,n)):v,kp(1),r?Dp(t):Np(()=>new wp))}())}expandSegment(e,t,r,n,i,o){return M(r).pipe($d(s=>this.expandSegmentAgainstRoute(e,t,r,s,n,i,o).pipe(Rp(e=>{if(e instanceof jg)return Wd(null);throw e}))),jp(e=>!!e),Rp((e,r)=>{if(e instanceof wp||"EmptyError"===e.name){if(Lg(t,n,i))return Wd(new Af([],{}));throw new jg(t)}throw e}))}expandSegmentAgainstRoute(e,t,r,n,i,o,s){return Ug(n,t,i,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,n,i,o):Hg(t):Hg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,n,i,o){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,n,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,n,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,n){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bg(i):this.lineralizeSegments(r,i).pipe(j(r=>{const i=new Af(r,{});return this.expandSegment(e,i,t,r,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,n,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Fg(t,n,i);if(!s)return Hg(t);const u=this.applyRedirectCommands(a,n.redirectTo,c);return n.redirectTo.startsWith("/")?Bg(u):this.lineralizeSegments(n,u).pipe(j(n=>this.expandSegment(e,t,r,n.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,r,n,i){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Wd(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(R(e=>(r._loadedConfig=e,new Af(n,{})))):Wd(new Af(n,{}));const{matched:o,consumedSegments:s,lastChild:a}=Fg(t,r,n);if(!o)return Hg(t);const l=n.slice(a);return this.getChildConfig(e,r,n).pipe(j(e=>{const n=e.module,o=e.routes,{segmentGroup:a,slicedSegments:c}=Mg(t,s,l,o),u=new Af(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(n,o,u).pipe(R(e=>new Af(s,e)));if(0===o.length&&0===c.length)return Wd(new Af(s,{}));const d=Vg(r)===i;return this.expandSegment(n,u,o,c,d?af:i,!0).pipe(R(e=>new Af(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,r){return t.children?Wd(new Eg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Wd(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(j(r=>r?this.configLoader.load(e.injector,t).pipe(R(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(df(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Wd(new Eg([],e))}runCanLoadGuards(e,t,r){const n=t.canLoad;return n&&0!==n.length?Wd(n.map(n=>{const i=e.get(n);let o;if(function(e){return e&&Sg(e.canLoad)}(i))o=i.canLoad(t,r);else{if(!Sg(i))throw new Error("Invalid CanLoad guard");o=i(t,r)}return vf(o)})).pipe(Ag(),Vh(e=>{if(!Cg(e))return;const t=df(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),R(e=>!0===e)):Wd(!0)}lineralizeSegments(e,t){let r=[],n=t.root;for(;;){if(r=r.concat(n.segments),0===n.numberOfChildren)return Wd(r);if(n.numberOfChildren>1||!n.children[af])return Kg(e.redirectTo);n=n.children[af]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,n){const i=this.createSegmentGroup(e,t.root,r,n);return new Tf(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yf(e,(e,n)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);r[n]=t[i]}else r[n]=e}),r}createSegmentGroup(e,t,r,n){const i=this.createSegments(e,t.segments,r,n);let o={};return yf(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,r,n)}),new Af(i,o)}createSegments(e,t,r,n){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,n):this.findOrReturn(t,r))}findPosParam(e,t,r){const n=r[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let r=0;for(const n of t){if(n.path===e.path)return t.splice(r),n;r++}return e}}function Gg(e){const t={};for(const r of Object.keys(e.children)){const n=Gg(e.children[r]);(n.segments.length>0||n.hasChildren())&&(t[r]=n)}return function(e){if(1===e.numberOfChildren&&e.children[af]){const t=e.children[af];return new Af(e.segments.concat(t.segments),t.children)}return e}(new Af(e.segments,t))}class Wg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $g{constructor(e,t){this.component=e,this.route=t}}function Qg(e,t,r){const n=e._root;return Jg(n,t?t._root:null,r,[n.value])}function Yg(e,t,r){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:r).get(e)}function Jg(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Qf(t);return e.children.forEach(e=>{(function(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!If(e.url,t.url);case"pathParamsOrQueryParamsChange":return!If(e.url,t.url)||!pf(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!og(e,t)||!pf(e.queryParams,t.queryParams);case"paramsChange":default:return!og(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Wg(n)):(o.data=s.data,o._resolvedData=s._resolvedData),Jg(e,t,o.component?a?a.children:null:r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $g(a.outlet.component,s))}else s&&Zg(t,a,i),i.canActivateChecks.push(new Wg(n)),Jg(e,null,o.component?a?a.children:null:r,n,i)})(e,o[e.value.outlet],r,n.concat([e.value]),i),delete o[e.value.outlet]}),yf(o,(e,t)=>Zg(e,r.getContext(t),i)),i}function Zg(e,t,r){const n=Qf(e),i=e.value;yf(n,(e,n)=>{Zg(e,i.component?t?t.children.getContext(n):null:t,r)}),r.canDeactivateChecks.push(new $g(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Xg{}function em(e){return new w(t=>t.error(e))}class tm{constructor(e,t,r,n,i,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=n,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const e=Mg(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,af);if(null===t)return null;const r=new eg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},af,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new $f(r,t),i=new tg(this.url,n);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,r=Xf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const i of Object.keys(t.children)){const n=t.children[i],o=Ng(e,i),s=this.processSegmentGroup(o,n,i);if(null===s)return null;r.push(...s)}const n=nm(r);return function(e){e.sort((e,t)=>e.value.outlet===af?-1:t.value.outlet===af?1:e.value.outlet.localeCompare(t.value.outlet))}(n),n}processSegment(e,t,r,n){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,r,n);if(null!==e)return e}return Lg(t,r,n)?[]:null}processSegmentAgainstRoute(e,t,r,n){if(e.redirectTo||!Ug(e,t,r,n))return null;let i,o=[],s=[];if("**"===e.path){const n=r.length>0?mf(r).parameters:{};i=new eg(r,n,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sm(e),Vg(e),e.component,e,im(t),om(t)+r.length,am(e))}else{const n=Fg(t,e,r);if(!n.matched)return null;o=n.consumedSegments,s=r.slice(n.lastChild),i=new eg(o,n.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sm(e),Vg(e),e.component,e,im(t),om(t)+o.length,am(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Mg(t,o,s,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new $f(i,e)]}if(0===a.length&&0===c.length)return[new $f(i,[])];const u=Vg(e)===n,d=this.processSegment(a,l,c,u?af:n);return null===d?null:[new $f(i,d)]}}function rm(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function nm(e){const t=[],r=new Set;for(const n of e){if(!rm(n)){t.push(n);continue}const e=t.find(e=>n.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...n.children),r.add(e)):t.push(n)}for(const n of r){const e=nm(n.children);t.push(new $f(n.value,e))}return t.filter(e=>!r.has(e))}function im(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function om(e){let t=e,r=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,r+=t._segmentIndexShift?t._segmentIndexShift:0;return r-1}function sm(e){return e.data||{}}function am(e){return e.resolve||{}}function lm(e){return _p(t=>{const r=e(t);return r?M(r).pipe(R(()=>t)):Wd(t)})}class cm extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const um=new Or("ROUTES");class dm{constructor(e,t,r,n){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=n}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(R(r=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=r.create(e);return new Eg(gf(n.injector.get(um,void 0,ve.Self|ve.Optional)).map(Pg),n)}),Rp(e=>{throw t._loader$=void 0,e}));return t._loader$=new $(r,()=>new C).pipe(z()),t._loader$}loadModuleFactory(e){return"string"==typeof e?M(this.loader.load(e)):vf(e()).pipe(j(e=>e instanceof fs?Wd(e):M(this.compiler.compileModuleAsync(e))))}}class hm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new pm,this.attachRef=null}}class pm{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new hm,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class fm{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function gm(e){throw e}function mm(e,t,r){return t.parse("/")}function ym(e,t){return Wd(null)}const vm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bm=(()=>{class e{constructor(e,t,r,n,i,o,s,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=r,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=gm,this.malformedUriErrorHandler=mm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ym,afterPreactivation:ym},this.urlHandlingStrategy=new fm,this.routeReuseStrategy=new cm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(ps),this.console=i.get(ia);const l=i.get(ya);this.isNgZoneEnabled=l instanceof ya&&ya.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Tf(new Af([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dm(o,s,e=>this.triggerEvent(new Xp(e)),e=>this.triggerEvent(new ef(e))),this.routerState=Jf(this.currentUrlTree,this.rootComponentType),this.transitions=new kh({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(Qd(e=>0!==e.id),R(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),_p(e=>{let r=!1,n=!1;return Wd(e).pipe(Vh(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_p(e=>{const r=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||r)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Wd(e).pipe(_p(e=>{const r=this.transitions.getValue();return t.next(new Kp(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==this.transitions.getValue()?Lh:Promise.resolve(e)}),function(e,t,r,n){return _p(i=>function(e,t,r,n,i){return new zg(e,t,r,n,i).apply()}(e,t,r,i.extractedUrl,n).pipe(R(e=>Object.assign(Object.assign({},i),{urlAfterRedirects:e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Vh(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,r,i,o){return j(s=>function(e,t,r,i,o="emptyOnly",s="legacy"){try{const n=new tm(e,t,r,i,o,s).recognize();return null===n?em(new Xg):Wd(n)}catch(n){return em(n)}}(e,t,s.urlAfterRedirects,r(s.urlAfterRedirects),i,o).pipe(R(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vh(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const r=new $p(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(r)}));if(r&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:r,extractedUrl:n,source:i,restoredState:o,extras:s}=e,a=new Kp(r,this.serializeUrl(n),i,o);t.next(a);const l=Jf(n,this.rootComponentType).snapshot;return Wd(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Lh}),lm(e=>{const{targetSnapshot:t,id:r,extractedUrl:n,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:r,appliedUrlTree:n,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Vh(e=>{const t=new Qp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),R(e=>Object.assign(Object.assign({},e),{guards:Qg(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return j(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return 0===s.length&&0===o.length?Wd(Object.assign(Object.assign({},r),{guardsResult:!0})):function(e,t,r,n){return M(e).pipe(j(e=>function(e,t,r,n,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Wd(o.map(o=>{const s=Yg(o,t,i);let a;if(function(e){return e&&Sg(e.canDeactivate)}(s))a=vf(s.canDeactivate(e,t,r,n));else{if(!Sg(s))throw new Error("Invalid CanDeactivate guard");a=vf(s(e,t,r,n))}return a.pipe(jp())})).pipe(Ag()):Wd(!0)}(e.component,e.route,r,t,n)),jp(e=>!0!==e,!0))}(s,n,i,e).pipe(j(r=>r&&function(e){return"boolean"==typeof e}(r)?function(e,t,r,n){return M(t).pipe($d(t=>tp(function(e,t){return null!==e&&t&&t(new tf(e)),Wd(!0)}(t.route.parent,n),function(e,t){return null!==e&&t&&t(new nf(e)),Wd(!0)}(t.route,n),function(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>bp(()=>Wd(t.guards.map(i=>{const o=Yg(i,t.node,r);let s;if(function(e){return e&&Sg(e.canActivateChild)}(o))s=vf(o.canActivateChild(n,e));else{if(!Sg(o))throw new Error("Invalid CanActivateChild guard");s=vf(o(n,e))}return s.pipe(jp())})).pipe(Ag())));return Wd(i).pipe(Ag())}(e,t.path,r),function(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?Wd(n.map(n=>bp(()=>{const i=Yg(n,t,r);let o;if(function(e){return e&&Sg(e.canActivate)}(i))o=vf(i.canActivate(t,e));else{if(!Sg(i))throw new Error("Invalid CanActivate guard");o=vf(i(t,e))}return o.pipe(jp())}))).pipe(Ag()):Wd(!0)}(e,t.route,r))),jp(e=>!0!==e,!0))}(n,o,e,t):Wd(r)),R(e=>Object.assign(Object.assign({},r),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),Vh(e=>{if(Cg(e.guardsResult)){const t=df(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new Yp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Qd(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),lm(e=>{if(e.guards.canActivateChecks.length)return Wd(e).pipe(Vh(e=>{const t=new Jp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),_p(e=>{let t=!1;return Wd(e).pipe(function(e,t){return j(r=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return Wd(r);let o=0;return M(i).pipe($d(r=>function(e,t,r,n){return function(e,t,r,n){const i=Object.keys(e);if(0===i.length)return Wd({});const o={};return M(i).pipe(j(i=>function(e,t,r,n){const i=Yg(e,t,n);return vf(i.resolve?i.resolve(t,r):i(t,r))}(e[i],t,r,n).pipe(Vh(e=>{o[i]=e}))),kp(1),j(()=>Object.keys(o).length===i.length?Wd(o):Lh))}(e._resolve,e,t,n).pipe(R(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Xf(e,r).resolve),null)))}(r.route,n,e,t)),Vh(()=>o++),kp(1),j(e=>o===i.length?Wd(r):Lh))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Vh({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),Vh(e=>{const t=new Zp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),lm(e=>{const{targetSnapshot:t,id:r,extractedUrl:n,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:r,appliedUrlTree:n,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),R(e=>{const t=function(e,t,r){const n=sg(e,t._root,r?r._root:void 0);return new Yf(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Vh(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),((e,t,r)=>R(n=>(new bg(t,n.targetRouterState,n.currentRouterState,r).activate(e),n)))(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),Vh({next(){r=!0},complete(){r=!0}}),function(e){return t=>t.lift(new qp(e))}(()=>{if(!r&&!n){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null}),Rp(r=>{if(n=!0,function(e){return e&&e[uf]}(r)){const n=Cg(r.url);n||(this.navigated=!0,this.restoreHistory(e,!0));const i=new Gp(e.id,this.serializeUrl(e.extractedUrl),r.message);t.next(i),n?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(r.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const n=new Wp(e.id,this.serializeUrl(e.extractedUrl),r);t.next(n);try{e.resolve(this.errorHandler(r))}catch(i){e.reject(i)}}return Lh}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:r,urlTree:n}=t,i={replaceUrl:!0};if(r){const e=Object.assign({},r);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(n,e,r,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const r=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!r||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ig(e),this.config=e.map(Pg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:r,queryParams:n,fragment:i,queryParamsHandling:o,preserveFragment:s}=t,a=r||this.routerState.root,l=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=n||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,r,n,i){if(0===r.length)return ug(t.root,t.root,t,n,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new hg(!0,0,e);let t=0,r=!1;const n=e.reduce((e,n,i)=>{if("object"==typeof n&&null!=n){if(n.outlets){const t={};return yf(n.outlets,(e,r)=>{t[r]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return"string"!=typeof n?[...e,n]:0===i?(n.split("/").forEach((n,i)=>{0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?t++:""!=n&&e.push(n))}),e):[...e,n]},[]);return new hg(r,t,n)}(r);if(o.toRoot())return ug(t.root,new Af([],{}),t,n,i);const s=function(e,t,r){if(e.isAbsolute)return new pg(t.root,!0,0);if(-1===r.snapshot._lastPathIndex){const e=r.snapshot._urlSegment;return new pg(e,e===t.root,0)}const n=lg(e.commands[0])?0:1;return function(e,t,r){let n=e,i=t,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new Error("Invalid number of '../'");i=n.segments.length}return new pg(n,!1,i-o)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?gg(s.segmentGroup,s.index,o.commands):fg(s.segmentGroup,s.index,o.commands);return ug(s.segmentGroup,a,t,n,i)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const r=Cg(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(r){t=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return t}isActive(e,t){let r;if(r=!0===t?Object.assign({},vm):!1===t?Object.assign({},wm):t,Cg(e))return _f(this.currentUrlTree,e,r);const n=this.parseUrl(e);return _f(this.currentUrlTree,n,r)}removeEmptyProps(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return null!=n&&(t[r]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new zp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,r,n,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==t&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(l&&c)return Promise.resolve(!0);let u,d,h;i?(u=i.resolve,d=i.reject,h=i.promise):h=new Promise((e,t)=>{u=e,d=t});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),f=r&&r.\u0275routerPageId?r.\u0275routerPageId:n.replaceUrl||n.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:t,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:u,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const r=this.urlSerializer.serialize(e),n=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(r)||t.extras.replaceUrl?this.location.replaceState(r,"",n):this.location.go(r,"",n)}restoreHistory(e,t=!1){var r,n;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===t?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const r=new Gp(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(zr(Pr),zr(Of),zr(pm),zr(dl),zr(Qi),zr(ja),zr(fa),zr(void 0))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),_m=(()=>{class e{constructor(e,t,r,n,i){this.parentContexts=e,this.location=t,this.resolver=r,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Fs,this.deactivateEvents=new Fs,this.name=n||af,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const r=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,i=new Em(e,n,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(io(pm),io(ms),io(ko),function(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const e=r.length;let n=0;for(;n<e;){const i=r[n];if(tr(i))break;if(0===i)n+=2;else if("number"==typeof i)for(n++;n<e&&"string"==typeof r[n];)n++;else{if(i===t)return r[n+1];n+=2}}}return null}(At(),e)}("name"),io(is))},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Em{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Zf?this.route:e===pm?this.childContexts:this.parent.get(e,t)}}class Sm{}class Cm{preload(e,t){return Wd(null)}}let Tm=(()=>{class e{constructor(e,t,r,n,i){this.router=e,this.injector=n,this.preloadingStrategy=i,this.loader=new dm(t,r,t=>e.triggerEvent(new Xp(t)),t=>e.triggerEvent(new ef(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qd(e=>e instanceof zp),$d(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ps);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const r=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;r.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?r.push(this.preloadConfig(e,n)):n.children&&r.push(this.processRoutes(e,n.children));return M(r).pipe(B(),R(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?Wd(t._loadedConfig):this.loader.load(e.injector,t)).pipe(j(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(zr(bm),zr(ja),zr(fa),zr(Qi),zr(Sm))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Am=(()=>{class e{constructor(e,t,r={}){this.router=e,this.viewportScroller=t,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Kp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sf&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new sf(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(zr(bm),zr(Ol),zr(void 0))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Rm=new Or("ROUTER_CONFIGURATION"),Im=new Or("ROUTER_FORROOT_GUARD"),Om=[dl,{provide:Of,useClass:kf},{provide:bm,useFactory:function(e,t,r,n,i,o,s,a={},l,c){const u=new bm(null,e,t,r,n,i,o,gf(s));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,r;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(r=console.groupEnd)||void 0===r||r.call(console)}),u},deps:[Of,pm,dl,Qi,ja,fa,um,Rm,[class{},new Jr],[class{},new Jr]]},pm,{provide:Zf,useFactory:function(e){return e.routerState.root},deps:[bm]},{provide:ja,useClass:Ba},Tm,Cm,class{preload(e,t){return t().pipe(Rp(()=>Wd(null)))}},{provide:Rm,useValue:{enableTracing:!1}}];function km(){return new Na("Router",bm)}let Pm=(()=>{class e{constructor(e,t){}static forRoot(t,r){return{ngModule:e,providers:[Om,Fm(t),{provide:Im,useFactory:xm,deps:[[bm,new Jr,new Zr]]},{provide:Rm,useValue:r||{}},{provide:sl,useFactory:Nm,deps:[Ja,[new Yr(ll),new Jr],Rm]},{provide:Am,useFactory:Vm,deps:[bm,Ol,Rm]},{provide:Sm,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Cm},{provide:Na,multi:!0,useFactory:km},[Mm,{provide:Ys,multi:!0,useFactory:Dm,deps:[Mm]},{provide:Lm,useFactory:Um,deps:[Mm]},{provide:na,multi:!0,useExisting:Lm}]]}}static forChild(t){return{ngModule:e,providers:[Fm(t)]}}}return e.\u0275fac=function(t){return new(t||e)(zr(Im,8),zr(bm,8))},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({}),e})();function Vm(e,t,r){return r.scrollOffset&&t.setOffset(r.scrollOffset),new Am(e,t,r)}function Nm(e,t,r={}){return r.useHash?new ul(e,t):new cl(e,t)}function xm(e){return"guarded"}function Fm(e){return[{provide:kr,multi:!0,useValue:e},{provide:um,multi:!0,useValue:e}]}let Mm=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(Xa,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),r=this.injector.get(bm),n=this.injector.get(Rm);return"disabled"===n.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===n.initialNavigation||"enabledBlocking"===n.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?Wd(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),r.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Rm),r=this.injector.get(Tm),n=this.injector.get(Am),i=this.injector.get(bm),o=this.injector.get(Ua);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&i.initialNavigation(),r.setUpPreloading(),n.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(zr(Qi))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Dm(e){return e.appInitializer.bind(e)}function Um(e){return e.bootstrapListener.bind(e)}const Lm=new Or("Router Initializer");var jm=r(7149),qm=function(e,t){return(qm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function Hm(e,t){function r(){this.constructor=e}qm(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Bm=function(){return(Bm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Km(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})}function zm(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Gm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}var Wm={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",ADFS:"adfs",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},$m=[Wm.OPENID_SCOPE,Wm.PROFILE_SCOPE,Wm.OFFLINE_ACCESS_SCOPE],Qm=Gm($m,[Wm.EMAIL_SCOPE]),Ym=(()=>(function(e){e.CONTENT_TYPE="Content-Type",e.RETRY_AFTER="Retry-After",e.CCS_HEADER="X-AnchorMailbox"}(Ym||(Ym={})),Ym))(),Jm=(()=>(function(e){e.ID_TOKEN="idtoken",e.CLIENT_INFO="client.info",e.ADAL_ID_TOKEN="adal.idtoken",e.ERROR="error",e.ERROR_DESC="error.description",e.ACTIVE_ACCOUNT="active-account"}(Jm||(Jm={})),Jm))(),Zm=(()=>(function(e){e.COMMON="common",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers"}(Zm||(Zm={})),Zm))(),Xm=(()=>(function(e){e.CLIENT_ID="client_id",e.REDIRECT_URI="redirect_uri",e.RESPONSE_TYPE="response_type",e.RESPONSE_MODE="response_mode",e.GRANT_TYPE="grant_type",e.CLAIMS="claims",e.SCOPE="scope",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.REFRESH_TOKEN="refresh_token",e.EXPIRES_IN="expires_in",e.STATE="state",e.NONCE="nonce",e.PROMPT="prompt",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info",e.CODE="code",e.CODE_CHALLENGE="code_challenge",e.CODE_CHALLENGE_METHOD="code_challenge_method",e.CODE_VERIFIER="code_verifier",e.CLIENT_REQUEST_ID="client-request-id",e.X_CLIENT_SKU="x-client-SKU",e.X_CLIENT_VER="x-client-VER",e.X_CLIENT_OS="x-client-OS",e.X_CLIENT_CPU="x-client-CPU",e.X_CLIENT_CURR_TELEM="x-client-current-telemetry",e.X_CLIENT_LAST_TELEM="x-client-last-telemetry",e.X_MS_LIB_CAPABILITY="x-ms-lib-capability",e.POST_LOGOUT_URI="post_logout_redirect_uri",e.ID_TOKEN_HINT="id_token_hint",e.DEVICE_CODE="device_code",e.CLIENT_SECRET="client_secret",e.CLIENT_ASSERTION="client_assertion",e.CLIENT_ASSERTION_TYPE="client_assertion_type",e.TOKEN_TYPE="token_type",e.REQ_CNF="req_cnf",e.OBO_ASSERTION="assertion",e.REQUESTED_TOKEN_USE="requested_token_use",e.ON_BEHALF_OF="on_behalf_of",e.FOCI="foci",e.CCS_HEADER="X-AnchorMailbox"}(Xm||(Xm={})),Xm))(),ey=(()=>(function(e){e.ACCESS_TOKEN="access_token",e.XMS_CC="xms_cc"}(ey||(ey={})),ey))(),ty={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create"},ry=(()=>(function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ID_TOKEN="id_token",e.DOMAIN_HINT="domain_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(ry||(ry={})),ry))(),ny={PLAIN:"plain",S256:"S256"},iy=(()=>(function(e){e.QUERY="query",e.FRAGMENT="fragment",e.FORM_POST="form_post"}(iy||(iy={})),iy))(),oy=(()=>(function(e){e.IMPLICIT_GRANT="implicit",e.AUTHORIZATION_CODE_GRANT="authorization_code",e.CLIENT_CREDENTIALS_GRANT="client_credentials",e.RESOURCE_OWNER_PASSWORD_GRANT="password",e.REFRESH_TOKEN_GRANT="refresh_token",e.DEVICE_CODE_GRANT="device_code",e.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(oy||(oy={})),oy))(),sy=(()=>(function(e){e.MSSTS_ACCOUNT_TYPE="MSSTS",e.ADFS_ACCOUNT_TYPE="ADFS",e.MSAV1_ACCOUNT_TYPE="MSA",e.GENERIC_ACCOUNT_TYPE="Generic"}(sy||(sy={})),sy))(),ay=(()=>(function(e){e.CACHE_KEY_SEPARATOR="-",e.CLIENT_INFO_SEPARATOR="."}(ay||(ay={})),ay))(),ly=(()=>(function(e){e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",e.REFRESH_TOKEN="RefreshToken"}(ly||(ly={})),ly))(),cy=(()=>(function(e){e.ACCOUNT="Account",e.CREDENTIAL="Credential",e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.REFRESH_TOKEN="RefreshToken",e.APP_METADATA="AppMetadata",e.TEMPORARY="TempCache",e.TELEMETRY="Telemetry",e.UNDEFINED="Undefined",e.THROTTLING="Throttling"}(cy||(cy={})),cy))(),uy=(()=>(function(e){e[e.ADFS=1001]="ADFS",e[e.MSA=1002]="MSA",e[e.MSSTS=1003]="MSSTS",e[e.GENERIC=1004]="GENERIC",e[e.ACCESS_TOKEN=2001]="ACCESS_TOKEN",e[e.REFRESH_TOKEN=2002]="REFRESH_TOKEN",e[e.ID_TOKEN=2003]="ID_TOKEN",e[e.APP_METADATA=3001]="APP_METADATA",e[e.UNDEFINED=9999]="UNDEFINED"}(uy||(uy={})),uy))(),dy="appmetadata",hy=(()=>(function(e){e.CONFIG="config",e.CACHE="cache",e.NETWORK="network"}(hy||(hy={})),hy))(),py={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},fy=(()=>(function(e){e.POP="pop",e.BEARER="Bearer"}(fy||(fy={})),fy))(),gy=(()=>(function(e){e.username="username",e.password="password"}(gy||(gy={})),gy))(),my=(()=>(function(e){e[e.httpSuccess=200]="httpSuccess",e[e.httpBadRequest=400]="httpBadRequest"}(my||(my={})),my))(),yy=(()=>(function(e){e.FAILED_AUTO_DETECTION="1",e.INTERNAL_CACHE="2",e.ENVIRONMENT_VARIABLE="3",e.IMDS="4"}(yy||(yy={})),yy))(),vy=(()=>(function(e){e.CONFIGURED_MATCHES_DETECTED="1",e.CONFIGURED_NO_AUTO_DETECTION="2",e.CONFIGURED_NOT_DETECTED="3",e.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",e.AUTO_DETECTION_REQUESTED_FAILED="5"}(vy||(vy={})),vy))(),wy=(()=>(function(e){e.NO_CACHE_HIT="0",e.FORCE_REFRESH="1",e.NO_CACHED_ACCESS_TOKEN="2",e.CACHED_ACCESS_TOKEN_EXPIRED="3",e.REFRESH_CACHED_ACCESS_TOKEN="4"}(wy||(wy={})),wy))(),by=(()=>(function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.MemoryStorage="memoryStorage"}(by||(by={})),by))(),_y=(()=>(function(e){e.GET="GET",e.POST="POST"}(_y||(_y={})),_y))(),Ey=(()=>(function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",e.SESSION_STATE="session.state",e.REQUEST_STATE="request.state",e.NONCE_IDTOKEN="nonce.id_token",e.ORIGIN_URI="request.origin",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.REQUEST_PARAMS="request.params",e.SCOPES="scopes",e.INTERACTION_STATUS_KEY="interaction.status",e.CCS_CREDENTIAL="ccs.credential"}(Ey||(Ey={})),Ey))(),Sy=(()=>(function(e){e[e.acquireTokenRedirect=861]="acquireTokenRedirect",e[e.acquireTokenPopup=862]="acquireTokenPopup",e[e.ssoSilent=863]="ssoSilent",e[e.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",e[e.handleRedirectPromise=865]="handleRedirectPromise",e[e.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",e[e.logout=961]="logout",e[e.logoutPopup=962]="logoutPopup"}(Sy||(Sy={})),Sy))(),Cy=(()=>(function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent"}(Cy||(Cy={})),Cy))(),Ty=(()=>(function(e){e.Startup="startup",e.Login="login",e.Logout="logout",e.AcquireToken="acquireToken",e.SsoSilent="ssoSilent",e.HandleRedirect="handleRedirect",e.None="none"}(Ty||(Ty={})),Ty))(),Ay={scopes:$m},Ry="jwk",Iy=(()=>(function(e){e.React="@azure/msal-react",e.Angular="@azure/msal-angular"}(Iy||(Iy={})),Iy))(),Oy=(()=>(function(e){e.LOGIN_START="msal:loginStart",e.LOGIN_SUCCESS="msal:loginSuccess",e.LOGIN_FAILURE="msal:loginFailure",e.ACQUIRE_TOKEN_START="msal:acquireTokenStart",e.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",e.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",e.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",e.SSO_SILENT_START="msal:ssoSilentStart",e.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",e.SSO_SILENT_FAILURE="msal:ssoSilentFailure",e.HANDLE_REDIRECT_START="msal:handleRedirectStart",e.HANDLE_REDIRECT_END="msal:handleRedirectEnd",e.POPUP_OPENED="msal:popupOpened",e.LOGOUT_START="msal:logoutStart",e.LOGOUT_SUCCESS="msal:logoutSuccess",e.LOGOUT_FAILURE="msal:logoutFailure",e.LOGOUT_END="msal:logoutEnd"}(Oy||(Oy={})),Oy))(),ky=function(){function e(){}return e.getInteractionStatusFromEvent=function(e){switch(e.eventType){case Oy.LOGIN_START:return Ty.Login;case Oy.SSO_SILENT_START:return Ty.SsoSilent;case Oy.ACQUIRE_TOKEN_START:if(e.interactionType===Cy.Redirect||e.interactionType===Cy.Popup)return Ty.AcquireToken;break;case Oy.HANDLE_REDIRECT_START:return Ty.HandleRedirect;case Oy.LOGOUT_START:return Ty.Logout;case Oy.LOGIN_SUCCESS:case Oy.SSO_SILENT_SUCCESS:case Oy.HANDLE_REDIRECT_END:case Oy.LOGIN_FAILURE:case Oy.SSO_SILENT_FAILURE:case Oy.LOGOUT_END:return Ty.None;case Oy.ACQUIRE_TOKEN_SUCCESS:case Oy.ACQUIRE_TOKEN_FAILURE:if(e.interactionType===Cy.Redirect||e.interactionType===Cy.Popup)return Ty.None}return null},e}(),Py=function(e,t){return(Py=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function Vy(e,t){function r(){this.constructor=e}Py(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Ny=function(){return(Ny=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function xy(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})}function Fy(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function My(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function Dy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(My(arguments[t]));return e}var Uy="unexpected_error",Ly="Unexpected error in authentication.",jy=function(e){function t(r,n,i){var o=this;return o=e.call(this,n?r+": "+n:r)||this,Object.setPrototypeOf(o,t.prototype),o.errorCode=r||Wm.EMPTY_STRING,o.errorMessage=n||"",o.subError=i||"",o.name="AuthError",o}return Hm(t,e),t.createUnexpectedError=function(e){return new t(Uy,Ly+": "+e)},t}(Error),qy="redirect_uri_empty",Hy="A redirect URI is required for all calls, and none has been set.",By="post_logout_uri_empty",Ky="A post logout redirect has not been set.",zy="storage_not_supported",Gy="Given storage configuration option was not supported.",Wy="no_redirect_callbacks",$y="No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.",Qy="stubbed_public_client_application_called",Yy="Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",Jy="in_mem_redirect_unavailable",Zy="Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.",Xy=function(e){function t(r,n){var i=e.call(this,r,n)||this;return i.name="BrowserConfigurationAuthError",Object.setPrototypeOf(i,t.prototype),i}return Vy(t,e),t.createRedirectUriEmptyError=function(){return new t(qy,Hy)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(By,Ky)},t.createStorageNotSupportedError=function(e){return new t(zy,Gy+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(Wy,$y)},t.createStubPcaInstanceCalledError=function(){return new t(Qy,Yy)},t.createInMemoryRedirectUnavailableError=function(){return new t(Jy,Zy)},t}(jy),ev="client_info_decoding_error",tv="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",rv="client_info_empty_error",nv="The client info was empty. Please review the trace to determine the root cause.",iv="token_parsing_error",ov="Token cannot be parsed. Please review stack trace to determine root cause.",sv="null_or_empty_token",av="The token is null or empty. Please review the trace to determine the root cause.",lv="endpoints_resolution_error",cv="Error: could not resolve endpoints. Please check network and try again.",uv="network_error",dv="Network request failed. Please check network trace to determine root cause.",hv="openid_config_error",pv="Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",fv="hash_not_deserialized",gv="The hash parameters could not be deserialized. Please review the trace to determine the root cause.",mv="invalid_state",yv="State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().",vv="state_mismatch",wv="State mismatch error. Please check your network. Continued requests may cause cache overflow.",bv="state_not_found",_v="State not found",Ev="nonce_mismatch",Sv="Nonce mismatch error. This may be caused by a race condition in concurrent requests.",Cv="nonce_not_found",Tv="nonce not found",Av="no_tokens_found",Rv="No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken().",Iv="multiple_matching_tokens",Ov="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",kv="multiple_matching_accounts",Pv="The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",Vv="multiple_matching_appMetadata",Nv="The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",xv="request_cannot_be_made",Fv="Token request cannot be made without authorization code or refresh token.",Mv="cannot_append_empty_scope",Dv="Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.",Uv="cannot_remove_empty_scope",Lv="Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.",jv="cannot_append_scopeset",qv="Cannot append ScopeSet due to error.",Hv="empty_input_scopeset",Bv="Empty input ScopeSet cannot be processed.",Kv="device_code_polling_cancelled",zv="Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",Gv="device_code_expired",Wv="Device code is expired.",$v="device_code_unknown_error",Qv="Device code stopped polling for unknown reasons.",Yv="no_account_in_silent_request",Jv="Please pass an account object, silent flow is not supported without account information",Zv="invalid_cache_record",Xv="Cache record object was null or undefined.",ew="invalid_cache_environment",tw="Invalid environment when attempting to create cache entry",rw="no_account_found",nw="No account found in cache for given key.",iw="no cache plugin set on CacheManager",ow="ICachePlugin needs to be set before using readFromStorage or writeFromStorage",sw="no_crypto_object",aw="No crypto object detected. This is required for the following operation: ",lw="invalid_cache_type",cw="Invalid cache type",uw="unexpected_account_type",dw="Unexpected account type.",hw="unexpected_credential_type",pw="Unexpected credential type.",fw="invalid_assertion",gw="Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",mw="invalid_client_credential",yw="Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",vw="token_refresh_required",ww="Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",bw="user_timeout_reached",_w="User defined timeout for device code polling reached",Ew="token_claims_cnf_required_for_signedjwt",Sw="Cannot generate a POP jwt if the token_claims are not populated",Cw="authorization_code_missing_from_server_response",Tw="Server response does not contain an authorization code to proceed",Aw=function(e){function t(r,n){var i=e.call(this,r,n)||this;return i.name="ClientAuthError",Object.setPrototypeOf(i,t.prototype),i}return Hm(t,e),t.createClientInfoDecodingError=function(e){return new t(ev,tv+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(rv,""+nv)},t.createTokenParsingError=function(e){return new t(iv,ov+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(sv,av+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(lv,cv+" Detail: "+e)},t.createNetworkError=function(e,r){return new t(uv,dv+" | Fetch client threw: "+r+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(hv,pv+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(fv,gv+" Given Object: "+e)},t.createInvalidStateError=function(e,r){return new t(mv,yv+" Invalid State: "+e+", Root Err: "+r)},t.createStateMismatchError=function(){return new t(vv,wv)},t.createStateNotFoundError=function(e){return new t(bv,_v+":  "+e)},t.createNonceMismatchError=function(){return new t(Ev,Sv)},t.createNonceNotFoundError=function(e){return new t(Cv,Tv+":  "+e)},t.createNoTokensFoundError=function(){return new t(Av,Rv)},t.createMultipleMatchingTokensInCacheError=function(){return new t(Iv,Ov+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(kv,Pv)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(Vv,Nv)},t.createTokenRequestCannotBeMadeError=function(){return new t(xv,Fv)},t.createAppendEmptyScopeToSetError=function(e){return new t(Mv,Dv+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(Uv,Lv+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(jv,qv+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(Hv,""+Bv)},t.createDeviceCodeCancelledError=function(){return new t(Kv,""+zv)},t.createDeviceCodeExpiredError=function(){return new t(Gv,""+Wv)},t.createDeviceCodeUnknownError=function(){return new t($v,""+Qv)},t.createNoAccountInSilentRequestError=function(){return new t(Yv,""+Jv)},t.createNullOrUndefinedCacheRecord=function(){return new t(Zv,Xv)},t.createInvalidCacheEnvironmentError=function(){return new t(ew,tw)},t.createNoAccountFoundError=function(){return new t(rw,nw)},t.createCachePluginError=function(){return new t(iw,""+ow)},t.createNoCryptoObjectError=function(e){return new t(sw,""+aw+e)},t.createInvalidCacheTypeError=function(){return new t(lw,""+cw)},t.createUnexpectedAccountTypeError=function(){return new t(uw,""+dw)},t.createUnexpectedCredentialTypeError=function(){return new t(hw,""+pw)},t.createInvalidAssertionError=function(){return new t(fw,""+gw)},t.createInvalidCredentialError=function(){return new t(mw,""+yw)},t.createRefreshRequiredError=function(){return new t(vw,ww)},t.createUserTimeoutReachedError=function(){return new t(bw,_w)},t.createTokenClaimsRequiredError=function(){return new t(Ew,Sw)},t.createNoAuthCodeInServerResponseError=function(){return new t(Cw,Tw)},t}(jy),Rw="redirect_uri_empty",Iw="A redirect URI is required for all calls, and none has been set.",Ow="post_logout_uri_empty",kw="A post logout redirect has not been set.",Pw="claims_request_parsing_error",Vw="Could not parse the given claims request object.",Nw="authority_uri_insecure",xw="Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",Fw="url_parse_error",Mw="URL could not be parsed into appropriate segments.",Dw="empty_url_error",Uw="URL was empty or null.",Lw="empty_input_scopes_error",jw="Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",qw="clientid_input_scopes_error",Hw="Client ID can only be provided as a single scope.",Bw="invalid_prompt_value",Kw="Supported prompt values are 'login', 'select_account', 'consent', 'create' and 'none'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",zw="invalid_claims",Gw="Given claims parameter must be a stringified JSON object.",Ww="token_request_empty",$w="Token request was empty and not found in cache.",Qw="logout_request_empty",Yw="The logout request was null or undefined.",Jw="invalid_code_challenge_method",Zw='code_challenge_method passed is invalid. Valid values are "plain" and "S256".',Xw="pkce_params_missing",eb="Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",tb="invalid_cloud_discovery_metadata",rb="Invalid cloudDiscoveryMetadata provided. Must be a JSON object containing tenant_discovery_endpoint and metadata fields",nb="invalid_authority_metadata",ib="Invalid authorityMetadata provided. Must by a JSON object containing authorization_endpoint, token_endpoint, end_session_endpoint, issuer fields.",ob="untrusted_authority",sb="The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",ab=function(e){function t(r,n){var i=e.call(this,r,n)||this;return i.name="ClientConfigurationError",Object.setPrototypeOf(i,t.prototype),i}return Hm(t,e),t.createRedirectUriEmptyError=function(){return new t(Rw,Iw)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Ow,kw)},t.createClaimsRequestParsingError=function(e){return new t(Pw,Vw+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(Nw,xw+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(Fw,Mw+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(Dw,Uw)},t.createEmptyScopesArrayError=function(){return new t(Lw,""+jw)},t.createClientIdSingleScopeError=function(e){return new t(qw,Hw+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(Bw,Kw+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(zw,Gw)},t.createEmptyLogoutRequestError=function(){return new t(Qw,Yw)},t.createEmptyTokenRequestError=function(){return new t(Ww,$w)},t.createInvalidCodeChallengeMethodError=function(){return new t(Jw,Zw)},t.createInvalidCodeChallengeParamsError=function(){return new t(Xw,eb)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(tb,rb)},t.createInvalidAuthorityMetadataError=function(){return new t(nb,ib)},t.createUntrustedAuthorityError=function(){return new t(ob,sb)},t}(Aw),lb=function(){function e(){}return e.decodeAuthToken=function(t){if(e.isEmpty(t))throw Aw.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw Aw.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},e.isEmpty=function(e){return void 0===e||!e||0===e.length},e.isEmptyObj=function(t){if(t&&!e.isEmpty(t))try{var r=JSON.parse(t);return 0===Object.keys(r).length}catch(n){}return!0},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},e.queryStringToObject=function(e){var t,r=/\+/g,n=/([^&=]+)=([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(r," "))},o={};for(t=n.exec(e);t;)o[i(t[1])]=i(t[2]),t=n.exec(e);return o},e.trimArrayEntries=function(e){return e.map(function(e){return e.trim()})},e.removeEmptyStringsFromArray=function(t){return t.filter(function(t){return!e.isEmpty(t)})},e.jsonParseHelper=function(e){try{return JSON.parse(e)}catch(t){return null}},e.matchPattern=function(e,t){return new RegExp(e.replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},e}(),cb=function(){function e(t){if(this._urlString=t,lb.isEmpty(this._urlString))throw ab.createUrlEmptyError();lb.isEmpty(this.getHash())&&(this._urlString=e.canonicalizeUri(t))}return Object.defineProperty(e.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),e.canonicalizeUri=function(e){if(e){var t=e.toLowerCase();return lb.endsWith(t,"?")?t=t.slice(0,-1):lb.endsWith(t,"?/")&&(t=t.slice(0,-2)),lb.endsWith(t,"/")||(t+="/"),t}return e},e.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(t){throw ab.createUrlParseError(t)}if(!e.HostNameAndPort||!e.PathSegments)throw ab.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw ab.createInsecureAuthorityUriError(this.urlString)},e.prototype.urlRemoveQueryStringParameter=function(e){var t=new RegExp("(\\&"+e+"=)[^&]+");return this._urlString=this.urlString.replace(t,""),t=new RegExp("("+e+"=)[^&]+&"),this._urlString=this.urlString.replace(t,""),t=new RegExp("("+e+"=)[^&]+"),this._urlString=this.urlString.replace(t,""),this.urlString},e.appendQueryString=function(e,t){return lb.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},e.removeHashFromUrl=function(t){return e.canonicalizeUri(t.split("#")[0])},e.prototype.replaceTenantPath=function(t){var r=this.getUrlComponents(),n=r.PathSegments;return t&&0!==n.length&&(n[0]===Zm.COMMON||n[0]===Zm.ORGANIZATIONS)&&(n[0]=t),e.constructAuthorityUriFromObject(r)},e.prototype.getHash=function(){return e.parseHash(this.urlString)},e.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw ab.createUrlParseError("Given url string: "+this.urlString);var r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},n=r.AbsolutePath.split("/");return n=n.filter(function(e){return e&&e.length>0}),r.PathSegments=n,!lb.isEmpty(r.QueryString)&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r},e.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw ab.createUrlParseError("Given url string: "+e);return r[2]},e.getAbsoluteUrl=function(t,r){if(t[0]===Wm.FORWARD_SLASH){var n=new e(r).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+t}return t},e.parseHash=function(e){var t=e.indexOf("#"),r=e.indexOf("#/");return r>-1?e.substring(r+2):t>-1?e.substring(t+1):""},e.constructAuthorityUriFromObject=function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},e.getDeserializedHash=function(t){if(lb.isEmpty(t))return{};var r=e.parseHash(t),n=lb.queryStringToObject(lb.isEmpty(r)?t:r);if(!n)throw Aw.createHashNotDeserializedError(JSON.stringify(n));return n},e.hashContainsKnownProperties=function(t){if(lb.isEmpty(t))return!1;var r=e.getDeserializedHash(t);return!!(r.code||r.error_description||r.error||r.state)},e}(),ub="pkce_not_created",db="The PKCE code challenge and verifier could not be generated.",hb="crypto_nonexistent",pb="The crypto object or function is not available.",fb="http_method_not_implemented",gb="The HTTP method given has not been implemented in this library.",mb="empty_navigate_uri",yb="Navigation URI is empty. Please check stack trace for more info.",vb="hash_empty_error",wb="Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash.",bb="no_state_in_hash",_b="Hash does not contain state. Please verify that the request originated from msal.",Eb="hash_does_not_contain_known_properties",Sb="Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.",Cb="unable_to_parse_state",Tb="Unable to parse state. Please verify that the request originated from msal.",Ab="state_interaction_type_mismatch",Rb="Hash contains state but the interaction type does not match the caller.",Ib="interaction_in_progress",Ob="Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.",kb="popup_window_error",Pb="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",Vb="empty_window_error",Nb="window.open returned null or undefined window object.",xb="user_cancelled",Fb="User cancelled the flow.",Mb="monitor_window_timeout",Db="Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",Ub="monitor_window_timeout",Lb="Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",jb="redirect_in_iframe",qb="Code flow is not supported inside an iframe. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",Hb="block_iframe_reload",Bb="Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors",Kb="block_nested_popups",zb="Request was blocked inside a popup because MSAL detected it was running in a popup.",Gb="iframe_closed_prematurely",Wb="The iframe being monitored was closed prematurely.",$b="silent_sso_error",Qb="Silent SSO could not be completed - insufficient information was provided. Please provide either a loginHint or sid.",Yb="no_account_error",Jb="No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",Zb="silent_prompt_value_error",Xb="The value given for the prompt value is not valid for silent requests - must be set to 'none'.",e_="no_token_request_cache_error",t_="No token request in found in cache.",r_="unable_to_parse_token_request_cache_error",n_="The cached token request could not be parsed.",i_="no_cached_authority_error",o_="No cached authority found.",s_="auth_request_not_set_error",a_="Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",l_="invalid_cache_type",c_="Invalid cache type",u_="non_browser_environment",d_="Login and token requests are not supported in non-browser environments.",h_="database_not_open",p_="Database is not open!",f_="no_network_connectivity",g_="No network connectivity. Check your internet connection.",m_="post_request_failed",y_="Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",v_="get_request_failed",w_="Network request failed. Please check the network trace to determine root cause.",b_="failed_to_parse_response",__="Failed to parse network response. Check network trace.",E_=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i.name="BrowserAuthError",i}return Vy(t,e),t.createPkceNotGeneratedError=function(e){return new t(ub,db+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(hb,pb+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(fb,gb+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(mb,yb)},t.createEmptyHashError=function(e){return new t(vb,wb+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(bb,_b)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(Eb,Sb)},t.createUnableToParseStateError=function(){return new t(Cb,Tb)},t.createStateInteractionTypeMismatchError=function(){return new t(Ab,Rb)},t.createInteractionInProgressError=function(){return new t(Ib,Ob)},t.createPopupWindowError=function(e){var r=Pb;return r=lb.isEmpty(e)?r:r+" Details: "+e,new t(kb,r)},t.createEmptyWindowCreatedError=function(){return new t(Vb,Nb)},t.createUserCancelledError=function(){return new t(xb,Fb)},t.createMonitorPopupTimeoutError=function(){return new t(Mb,Db)},t.createMonitorIframeTimeoutError=function(){return new t(Ub,Lb)},t.createRedirectInIframeError=function(e){return new t(jb,qb+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(Hb,Bb)},t.createBlockAcquireTokenInPopupsError=function(){return new t(Kb,zb)},t.createIframeClosedPrematurelyError=function(){return new t(Gb,Wb)},t.createSilentSSOInsufficientInfoError=function(){return new t($b,Qb)},t.createNoAccountError=function(){return new t(Yb,Jb)},t.createSilentPromptValueError=function(e){return new t(Zb,Xb+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(r_,n_)},t.createNoTokenRequestCacheError=function(){return new t(e_,t_)},t.createAuthRequestNotSetError=function(){return new t(s_,a_)},t.createNoCachedAuthorityError=function(){return new t(i_,o_)},t.createInvalidCacheTypeError=function(){return new t(l_,""+c_)},t.createNonBrowserEnvironmentError=function(){return new t(u_,d_)},t.createDatabaseNotOpenError=function(){return new t(h_,p_)},t.createNoNetworkConnectivityError=function(){return new t(f_,g_)},t.createPostRequestFailedError=function(e,r){return new t(m_,y_+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createGetRequestFailedError=function(e,r){return new t(v_,w_+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(b_,__+" | Attempted to reach: "+e.split("?")[0])},t}(jy),S_=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return xy(this,void 0,void 0,function(){var r,n,i;return Fy(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(e,{method:_y.GET,headers:this.getFetchHeaders(t)})];case 1:return r=o.sent(),[3,3];case 2:throw n=o.sent(),window.navigator.onLine?E_.createGetRequestFailedError(n,e):E_.createNoNetworkConnectivityError();case 3:return o.trys.push([3,5,,6]),i={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(i.body=o.sent(),i.status=r.status,i)];case 5:throw o.sent(),E_.createFailedToParseNetworkResponseError(e);case 6:return[2]}})})},e.prototype.sendPostRequestAsync=function(e,t){return xy(this,void 0,void 0,function(){var r,n,i,o;return Fy(this,function(s){switch(s.label){case 0:r=t&&t.body||"",s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(e,{method:_y.POST,headers:this.getFetchHeaders(t),body:r})];case 2:return n=s.sent(),[3,4];case 3:throw i=s.sent(),window.navigator.onLine?E_.createPostRequestFailedError(i,e):E_.createNoNetworkConnectivityError();case 4:return s.trys.push([4,6,,7]),o={headers:this.getHeaderDict(n.headers)},[4,n.json()];case 5:return[2,(o.body=s.sent(),o.status=n.status,o)];case 6:throw s.sent(),E_.createFailedToParseNetworkResponseError(e);case 7:return[2]}})})},e.prototype.getFetchHeaders=function(e){var t=new Headers;if(!e||!e.headers)return t;var r=e.headers;return Object.keys(r).forEach(function(e){t.append(e,r[e])}),t},e.prototype.getHeaderDict=function(e){var t={};return e.forEach(function(e,r){t[r]=e}),t},e}(),C_=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return xy(this,void 0,void 0,function(){return Fy(this,function(r){return[2,this.sendRequestAsync(e,_y.GET,t)]})})},e.prototype.sendPostRequestAsync=function(e,t){return xy(this,void 0,void 0,function(){return Fy(this,function(r){return[2,this.sendRequestAsync(e,_y.POST,t)]})})},e.prototype.sendRequestAsync=function(e,t,r){var n=this;return new Promise(function(i,o){var s=new XMLHttpRequest;if(s.open(t,e,!0),n.setXhrHeaders(s,r),s.onload=function(){(s.status<200||s.status>=300)&&o(t===_y.POST?E_.createPostRequestFailedError("Failed with status "+s.status,e):E_.createGetRequestFailedError("Failed with status "+s.status,e));try{var r=JSON.parse(s.responseText),a={headers:n.getHeaderDict(s),body:r,status:s.status};i(a)}catch(l){o(E_.createFailedToParseNetworkResponseError(e))}},s.onerror=function(){window.navigator.onLine?o(t===_y.POST?E_.createPostRequestFailedError("Failed with status "+s.status,e):E_.createGetRequestFailedError("Failed with status "+s.status,e)):o(E_.createNoNetworkConnectivityError())},t===_y.POST&&r&&r.body)s.send(r.body);else{if(t!==_y.GET)throw E_.createHttpMethodNotImplementedError(t);s.send()}})},e.prototype.setXhrHeaders=function(e,t){if(t&&t.headers){var r=t.headers;Object.keys(r).forEach(function(t){e.setRequestHeader(t,r[t])})}},e.prototype.getHeaderDict=function(e){var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),r={};return t.forEach(function(e){var t=e.split(": "),n=t.shift(),i=t.join(": ");n&&i&&(r[n]=i)}),r},e}(),T_=function(){function e(){}return e.clearHash=function(e){e.location.hash=Wm.EMPTY_STRING,"function"==typeof e.history.replaceState&&e.history.replaceState(null,Wm.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},e.replaceHash=function(e){var t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""},e.isInIframe=function(){return window.parent!==window},e.isInPopup=function(){return"undefined"!=typeof window&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal.")},e.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},e.getHomepage=function(){var e=new cb(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},e.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new S_:new C_},e.blockReloadInHiddenIframes=function(){if(cb.hashContainsKnownProperties(window.location.hash)&&e.isInIframe())throw E_.createBlockReloadInHiddenIframeError()},e.blockRedirectInIframe=function(t,r){var n=e.isInIframe();if(t===Cy.Redirect&&n&&!r)throw E_.createRedirectInIframeError(n)},e.blockAcquireTokenInPopups=function(){if(e.isInPopup())throw E_.createBlockAcquireTokenInPopupsError()},e.blockNonBrowserEnvironment=function(e){if(!e)throw E_.createNonBrowserEnvironmentError()},e.detectIEOrEdge=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),r=e.indexOf("Trident/"),n=e.indexOf("Edge/");return t>0||r>0||n>0},e}();const A_=new Or("MSAL_INSTANCE"),R_=new Or("MSAL_GUARD_CONFIG"),I_=new Or("MSAL_INTERCEPTOR_CONFIG"),O_="@azure/msal-angular",k_="2.0.2";let P_=(()=>{class e{constructor(e,t){this.instance=e,this.location=t;const r=this.location.path(!0).split("#").pop();r&&(this.redirectHash=`#${r}`),this.instance.initializeWrapperLibrary(Iy.Angular,k_)}acquireTokenPopup(e){return M(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return M(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return M(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return M(this.instance.handleRedirectPromise(e||this.redirectHash))}loginPopup(e){return M(this.instance.loginPopup(e))}loginRedirect(e){return M(this.instance.loginRedirect(e))}logout(e){return M(this.instance.logout(e))}logoutRedirect(e){return M(this.instance.logoutRedirect(e))}logoutPopup(e){return M(this.instance.logoutPopup(e))}ssoSilent(e){return M(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(O_,k_)),this.logger}setLogger(e){this.logger=e.clone(O_,k_),this.instance.setLogger(e)}}return e.\u0275fac=function(t){return new(t||e)(zr(A_),zr(dl))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),V_=(()=>{class e{constructor(e,t){this.msalInstance=e,this.authService=t,this._msalSubject=new C,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new kh(Ty.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(e=>{this._msalSubject.next(e);const t=ky.getInteractionStatusFromEvent(e);null!==t&&(this.authService.getLogger().verbose(`BroadcastService - ${e.eventType} results in setting inProgress to ${t}`),this._inProgress.next(t))})}}return e.\u0275fac=function(t){return new(t||e)(zr(A_),zr(P_))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),N_=(()=>{class e{constructor(e,t,r,n,i){this.msalGuardConfig=e,this.msalBroadcastService=t,this.authService=r,this.location=n,this.router=i,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");const t=document.getElementsByTagName("base"),r=this.location.normalize(t.length?t[0].href:window.location.origin),n=this.location.prepareExternalUrl(e);return n.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${r}/${n}`):`${r}${e}`}loginInteractively(e){const t="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===Cy.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(t).pipe(R(e=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(e.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const r=this.getDestinationUrl(e.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:r},t)).pipe(R(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==Cy.Popup&&this.msalGuardConfig.interactionType!==Cy.Redirect)throw new Xy("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),"undefined"==typeof window)return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),Wd(!0);if(cb.hashContainsKnownProperties(window.location.hash)&&T_.isInIframe())return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),Wd(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const t=this.location.path(!0);return this.authService.handleRedirectObservable().pipe($d(()=>this.authService.instance.getAllAccounts().length?(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e&&t.indexOf("code=")>-1?(this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),t.indexOf("#")>-1?Wd(this.parseUrl(this.location.path())):Wd(this.parseUrl(""))):Wd(!0)):e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),Wd(!1))),Rp(t=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${t.message}`),this.loginFailedRoute&&parseInt(Lo.major,10)>9&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),Wd(this.loginFailedRoute)):Wd(!1))))}canActivate(e,t){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(t)}canActivateChild(e,t){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(t)}canLoad(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return e.\u0275fac=function(t){return new(t||e)(zr(R_),zr(V_),zr(P_),zr(dl),zr(bm))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),x_=(()=>{class e{constructor(e,t,r,n){this.msalInterceptorConfig=e,this.authService=t,this.location=r,this._document=n}intercept(e,t){if(this.msalInterceptorConfig.interactionType!==Cy.Popup&&this.msalInterceptorConfig.interactionType!==Cy.Redirect)throw new Xy("invalid_interaction_type","Invalid interaction type provided to MSAL Interceptor. InteractionType.Popup, InteractionType.Redirect must be provided in the msalInterceptorConfiguration");this.authService.getLogger().verbose("MSAL Interceptor activated");const r=this.getScopesForEndpoint(e.url,e.method);if(!r||0===r.length)return this.authService.getLogger().verbose("Interceptor - no scopes for endpoint"),t.handle(e);let n;this.authService.instance.getActiveAccount()?(this.authService.getLogger().verbose("Interceptor - active account selected"),n=this.authService.instance.getActiveAccount()):(this.authService.getLogger().verbose("Interceptor - no active account, fallback to first account"),n=this.authService.instance.getAllAccounts()[0]);const i="function"==typeof this.msalInterceptorConfig.authRequest?this.msalInterceptorConfig.authRequest(this.authService,e,{account:n}):Object.assign(Object.assign({},this.msalInterceptorConfig.authRequest),{account:n});return this.authService.getLogger().info(`Interceptor - ${r.length} scopes found for endpoint`),this.authService.getLogger().infoPii(`Interceptor - [${r}] scopes found for ${e.url}`),this.authService.acquireTokenSilent(Object.assign(Object.assign({},i),{scopes:r,account:n})).pipe(Rp(()=>(this.authService.getLogger().error("Interceptor - acquireTokenSilent rejected with error. Invoking interaction to resolve."),this.acquireTokenInteractively(i,r))),_p(e=>e.accessToken?Wd(e):(this.authService.getLogger().error("Interceptor - acquireTokenSilent resolved with null access token. Known issue with B2C tenants, invoking interaction to resolve."),this.acquireTokenInteractively(i,r))),_p(r=>{this.authService.getLogger().verbose("Interceptor - setting authorization headers");const n=e.headers.set("Authorization",`Bearer ${r.accessToken}`),i=e.clone({headers:n});return t.handle(i)}))}acquireTokenInteractively(e,t){if(this.msalInterceptorConfig.interactionType===Cy.Popup)return this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by popup"),this.authService.acquireTokenPopup(Object.assign(Object.assign({},e),{scopes:t}));this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by redirect");const r=window.location.href;return this.authService.acquireTokenRedirect(Object.assign(Object.assign({},e),{scopes:t,redirectStartPage:r})),Lh}getScopesForEndpoint(e,t){this.authService.getLogger().verbose("Interceptor - getting scopes for endpoint");const r=this.location.normalize(e),n=Array.from(this.msalInterceptorConfig.protectedResourceMap.keys()),i=this.matchResourcesToEndpoint(n,r);return i.absoluteResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,i.absoluteResources,t):i.relativeResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,i.relativeResources,t):null}matchResourcesToEndpoint(e,t){const r={absoluteResources:[],relativeResources:[]};return e.forEach(e=>{const n=this.location.normalize(e);lb.matchPattern(n,t)&&r.absoluteResources.push(e);const i=this.getAbsoluteUrl(e),o=new cb(i).getUrlComponents(),s=this.getAbsoluteUrl(t),a=new cb(s).getUrlComponents(),l=o.QueryString?`${o.AbsolutePath}?${o.QueryString}`:this.location.normalize(o.AbsolutePath);o.HostNameAndPort===a.HostNameAndPort&&lb.matchPattern(l,s)&&""!==l&&"/*"!==l&&r.relativeResources.push(e)}),r}getAbsoluteUrl(e){const t=this._document.createElement("a");return t.href=e,t.href}matchScopesToEndpoint(e,t,r){const n=[];return t.forEach(t=>{const i=[],o=e.get(t);null!==o?(o.forEach(e=>{if("string"==typeof e)i.push(e);else{const t=r.toLowerCase();e.httpMethod.toLowerCase()===t&&(null===e.scopes?n.push(null):e.scopes.forEach(e=>{i.push(e)}))}}),i.length>0&&n.push(i)):n.push(null)}),n.length>0?(n.length>1&&this.authService.getLogger().warning("Interceptor - More than 1 matching scopes for endpoint found."),n[0]):null}}return e.\u0275fac=function(t){return new(t||e)(zr(I_),zr(P_),zr(dl),zr(Ya))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),F_=(()=>{class e{constructor(e){this.authService=e}ngOnInit(){this.authService.getLogger().verbose("MsalRedirectComponent activated"),this.authService.handleRedirectObservable().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(io(P_))},e.\u0275cmp=je({type:e,selectors:[["app-redirect"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),M_=(()=>{class e{static forRoot(t,r,n){return{ngModule:e,providers:[{provide:A_,useValue:t},{provide:R_,useValue:r},{provide:I_,useValue:n},P_]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({providers:[N_,V_],imports:[[Rl]]}),e})(),D_=(()=>{class e{constructor(e){this.http=e}loadProfile(){this.http.get("https://graph.microsoft.com/v1.0/me").subscribe(e=>{this.profile=e})}}return e.\u0275fac=function(t){return new(t||e)(zr(mh))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const U_=["container"];function L_(e,t){if(1&e&&(ao(0,"option",43),mo(1),lo()),2&e){const e=t.$implicit;oo("value",e.key),Wn(1),yo(e.value.name)}}function j_(e,t){if(1&e&&(ao(0,"option",43),mo(1),lo()),2&e){const e=t.$implicit;oo("value",e.key),Wn(1),yo(e.value.name)}}function q_(e,t){if(1&e&&(ao(0,"option",43),mo(1),lo()),2&e){const e=t.$implicit;oo("value",e.key),Wn(1),yo(e.value.displayName)}}function H_(e,t){if(1&e&&(ao(0,"option",43),mo(1),lo()),2&e){const e=t.$implicit;oo("value",e.key),Wn(1),yo(e.value.title)}}const B_="https://api.powerbi.com/v1.0/myorg";var K_=(()=>(function(e){e.REPORT="report",e.TILE="tile",e.DASHBOARD="dashboard"}(K_||(K_={})),K_))();class z_{constructor(){this.id="",this.isOnDedicatedCapacity=!1,this.isReadOnly=!0,this.type="",this.name=""}}class G_{constructor(){this.id="",this.name="",this.displayName="",this.embedUrl="",this.isReadOnly=!0,this.webUrl=""}}class W_{constructor(){this.id="",this.datasetId="",this.name="",this.webUrl="",this.embedUrl=""}}class $_{constructor(){this.id="",this.embedUrl="",this.subTitle="",this.title=""}}const Q_=[{path:"home",component:(()=>{class e{constructor(e,t,r,n){this.authService=e,this.msalBroadcastService=t,this.profile=r,this.http=n,this.selectedWorkspace=new z_,this.selectedDashboard=new G_,this.selectedReport=new W_,this.selectedTile=new $_,this.embedType=K_.REPORT,this.embedEnabled=!1,this.workspaces={},this.dashboards={},this.reports={},this.tiles={},this.renderTileConfig={type:"tile",dashboardId:"",embedUrl:void 0,accessToken:void 0,tokenType:jm.models.TokenType.Embed,settings:{panes:{filters:{expanded:!1,visible:!0}},background:jm.models.BackgroundType.Transparent}}}ngOnInit(){this.powerbi=new jm.service.Service(jm.factories.hpmFactory,jm.factories.wpmpFactory,jm.factories.routerFactory),this.profile.loadProfile(),this.loadWorkspaces()}resetWorkspaces(){this.workspaces={},this.selectedWorkspace=new z_}resetDashboards(){this.dashboards={},this.selectedDashboard=new G_}resetTiles(){this.tiles={},this.selectedTile=new $_}resetReports(){this.reports={},this.selectedReport=new W_}loadWorkspaces(){this.resetWorkspaces(),this.resetDashboards(),this.resetReports(),this.resetTiles(),this.http.get(`${B_}/groups`).subscribe(e=>{for(let t of e.value)this.workspaces[t.id]=t})}loadDashboards(){this.resetDashboards(),this.resetTiles(),this.http.get(`${B_}/groups/${this.selectedWorkspace.id}/dashboards`).subscribe(e=>{for(let t of e.value)this.dashboards[t.id]=t})}loadReports(){this.resetReports(),this.http.get(`${B_}/groups/${this.selectedWorkspace.id}/reports`).subscribe(e=>{for(let t of e.value)this.reports[t.id]=t})}loadTiles(){this.resetTiles(),this.http.get(`${B_}/groups/${this.selectedWorkspace.id}/dashboards/${this.selectedDashboard.id}/tiles`).subscribe(e=>{for(let t of e.value)this.tiles[t.id]=t})}selectedWorkspaceChanged(e){this.selectedWorkspace=this.workspaces[e.target.value],console.log("Changed the workspace into: "+this.selectedWorkspace.name),this.loadDashboards(),this.loadReports(),this.updateEmbedEnable()}selectedDashboardChanged(e){this.selectedDashboard=this.dashboards[e.target.value],console.log("Changed the dashboard into: "+this.selectedDashboard.displayName),this.loadTiles(),this.updateEmbedEnable()}selectedReportChanged(e){this.selectedReport=this.reports[e.target.value],this.updateEmbedEnable()}selectedTileChanged(e){this.selectedTile=this.tiles[e.target.value],this.updateEmbedEnable()}embedTypeChanged(e){try{this.embedType=e,this.updateEmbedEnable()}catch(t){return}}logout(){this.authService.logoutPopup({mainWindowRedirectUri:"/"})}updateEmbedEnable(){switch(this.embedType){case K_.DASHBOARD:this.embedEnabled=this.selectedWorkspace.id.length>0&&this.selectedDashboard.id.length>0;break;case K_.REPORT:this.embedEnabled=this.selectedWorkspace.id.length>0&&this.selectedReport.id.length>0;break;case K_.TILE:this.embedEnabled=this.selectedWorkspace.id.length>0&&this.selectedDashboard.id.length>0&&this.selectedTile.id.length>0;break;default:this.embedEnabled=!1}}doEmbedPowerBiItem(){this.authService.acquireTokenSilent({scopes:["https://analysis.windows.net/powerbi/api/.default"]}).subscribe(e=>{let t;switch(this.embedType){case K_.DASHBOARD:t={type:"dashboard",accessToken:e.accessToken,embedUrl:this.selectedDashboard.embedUrl,id:this.selectedDashboard.id,tokenType:jm.models.TokenType.Aad};break;case K_.REPORT:t={type:"report",accessToken:e.accessToken,embedUrl:this.selectedReport.embedUrl,id:this.selectedReport.id,tokenType:jm.models.TokenType.Aad};break;case K_.TILE:t={type:"tile",accessToken:e.accessToken,embedUrl:this.selectedTile.embedUrl,id:this.selectedTile.id,dashboardId:this.selectedDashboard.id,tokenType:jm.models.TokenType.Aad};break;default:console.log("Nothing to render")}this.powerbi.reset(this.container.nativeElement),this.powerbi.embed(this.container.nativeElement,t)})}}return e.\u0275fac=function(t){return new(t||e)(io(P_),io(V_),io(D_),io(mh))},e.\u0275cmp=je({type:e,selectors:[["app-home"]],viewQuery:function(e,t){if(1&e&&$s(U_,5),2&e){let e;Ws(e=function(e,t){return e[19].queries[t].queryList}(Ct(),Ft()))&&(t.container=e.first)}},decls:80,vars:24,consts:[[1,"outer-div"],[1,"row"],[1,"heading","col-lg-6","col-md-6"],[1,"user-info","col-lg-6","col-md-6"],[3,"click"],[1,"row","config-container"],["id","text-container",1,"row","col-lg-11","col-md-12"],[1,"col-lg-4","col-md-12"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","id","report",1,"custom-control-input",3,"checked","change"],["for","report",1,"custom-control-label"],["type","radio","id","dashboard",1,"custom-control-input",3,"checked","change"],["for","dashboard",1,"custom-control-label"],["type","radio","id","tile",1,"custom-control-input",3,"checked","change"],["for","tile",1,"custom-control-label"],[1,"row","col-lg-8","col-md-12"],[1,"row","col-lg-4","col-md-12"],["for","workspace-select"],["id","workspace-select",1,"select-list","col-lg-10","col-md-12",3,"change"],["value","","disabled","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["id","report-div",1,"row","col-lg-4","col-md-12",3,"hidden"],["for","report-select"],["id","report-select",1,"select-list","col-lg-10","col-md-12",3,"change"],["id","dashboard-div",1,"row","col-lg-4","col-md-12",3,"hidden"],["for","dashboard-select"],["id","dashboard-select",1,"select-list","col-lg-10","col-md-12",3,"change"],["id","tile-div",1,"row","col-lg-4","col-md-12",3,"hidden"],["for","tile-select"],["id","tile-select",1,"select-list","col-lg-10","col-md-12",3,"change"],[1,"button-container","col-lg-1","col-md-12"],[1,"embed-button",3,"disabled","click"],["id","error-container"],["hidden","",1,"report-wrapper","col-lg-12","col-md-12","mt-12"],["src","/assets/img/spinner.svg","id","report-spinner","alt","loader",1,"spinner","col-lg-12","col-md-12"],["id","report-container",1,"report-container","col-lg-12","col-md-12","mt-12"],[1,"report-display-text","col-lg-12","col-md-12"],["hidden","",1,"dashboard-wrapper","col-lg-12","col-md-12","mt-12"],["src","/assets/img/spinner.svg","id","dashboard-spinner","alt","loader",1,"spinner","col-lg-12","col-md-12"],["id","dashboard-container",1,"dashboard-container","col-lg-12","col-md-12","mt-12"],[1,"dashboard-display-text","col-lg-12","col-md-12"],[1,"col-lg-12","col-md-12","mt-12",2,"height","600px"],["container",""],[3,"value"]],template:function(e,t){1&e&&(ao(0,"div",0),ao(1,"header",1),ao(2,"div",2),mo(3,"Power BI Embedded Sample"),lo(),ao(4,"div",3),mo(5,"Welcome "),ao(6,"strong"),ao(7,"a",4),po("click",function(){return t.logout()}),mo(8),lo(),lo(),lo(),lo(),ao(9,"div",5),ao(10,"div",6),ao(11,"div",7),ao(12,"label"),mo(13,"Choose embed type"),lo(),co(14,"br"),ao(15,"div",8),ao(16,"input",9),po("change",function(){return t.embedTypeChanged("report")}),lo(),ao(17,"label",10),mo(18,"Report"),lo(),lo(),ao(19,"div",8),ao(20,"input",11),po("change",function(){return t.embedTypeChanged("dashboard")}),lo(),ao(21,"label",12),mo(22,"Dashboard"),lo(),lo(),ao(23,"div",8),ao(24,"input",13),po("change",function(){return t.embedTypeChanged("tile")}),lo(),ao(25,"label",14),mo(26,"Tile"),lo(),lo(),lo(),ao(27,"div",15),ao(28,"div",16),ao(29,"label",17),mo(30,"Choose workspace"),lo(),co(31,"br"),ao(32,"select",18),po("change",function(e){return t.selectedWorkspaceChanged(e)}),ao(33,"option",19),mo(34,"Choose workspace"),lo(),no(35,L_,2,2,"option",20),Vs(36,"keyvalue"),lo(),lo(),ao(37,"div",21),ao(38,"label",22),mo(39,"Choose report"),lo(),co(40,"br"),ao(41,"select",23),po("change",function(e){return t.selectedReportChanged(e)}),ao(42,"option",19),mo(43,"Choose report"),lo(),no(44,j_,2,2,"option",20),Vs(45,"keyvalue"),lo(),lo(),ao(46,"div",24),ao(47,"label",25),mo(48,"Choose dashboard"),lo(),co(49,"br"),ao(50,"select",26),po("change",function(e){return t.selectedDashboardChanged(e)}),ao(51,"option",19),mo(52,"Choose dashboard"),lo(),no(53,q_,2,2,"option",20),Vs(54,"keyvalue"),lo(),lo(),ao(55,"div",27),ao(56,"label",28),mo(57,"Choose tile"),lo(),co(58,"br"),ao(59,"select",29),po("change",function(e){return t.selectedTileChanged(e)}),ao(60,"option",19),mo(61,"Choose tile"),lo(),no(62,H_,2,2,"option",20),Vs(63,"keyvalue"),lo(),lo(),lo(),lo(),ao(64,"div",30),ao(65,"button",31),po("click",function(){return t.doEmbedPowerBiItem()}),mo(66,"Embed"),lo(),lo(),lo(),co(67,"div",32),ao(68,"div",33),co(69,"img",34),co(70,"div",35),ao(71,"div",36),mo(72,"Select workspace and report"),lo(),lo(),ao(73,"div",37),co(74,"img",38),co(75,"div",39),ao(76,"div",40),mo(77,"Select workspace and dashboard"),lo(),lo(),co(78,"div",41,42),lo()),2&e&&(Wn(8),yo(null==t.profile||null==t.profile.profile?null:t.profile.profile.givenName),Wn(8),oo("checked","report"==t.embedType),Wn(4),oo("checked","dashboard"==t.embedType),Wn(4),oo("checked","tile"==t.embedType),Wn(9),oo("selected",""===t.selectedWorkspace.id),Wn(2),oo("ngForOf",Ns(36,16,t.workspaces)),Wn(2),oo("hidden","report"!==t.embedType),Wn(5),oo("selected",""===t.selectedReport.id),Wn(2),oo("ngForOf",Ns(45,18,t.reports)),Wn(2),oo("hidden","dashboard"!==t.embedType&&"tile"!==t.embedType),Wn(5),oo("selected",""===t.selectedDashboard.id),Wn(2),oo("ngForOf",Ns(54,20,t.dashboards)),Wn(2),oo("hidden","tile"!==t.embedType),Wn(5),oo("selected",""===t.selectedTile.id),Wn(2),oo("ngForOf",Ns(63,22,t.tiles)),Wn(3),oo("disabled",!t.embedEnabled))},directives:[bl],pipes:[Tl],styles:[""]}),e})(),canActivate:[N_]},{path:"",component:(()=>{class e{constructor(e,t){this.router=e,this.authService=t}ngOnInit(){this.authService.instance.getAllAccounts().length>0&&this.goToHome()}goToHome(){this.router.navigate(["/home"])}}return e.\u0275fac=function(t){return new(t||e)(io(bm),io(P_))},e.\u0275cmp=je({type:e,selectors:[["app-login"]],decls:6,vars:0,consts:[[1,"overlay"],[1,"signin-container"],[1,"sign-in",3,"click"]],template:function(e,t){1&e&&(ao(0,"div",0),ao(1,"div",1),ao(2,"p"),mo(3,"Sign in to Power BI"),lo(),ao(4,"button",2),po("click",function(){return t.goToHome()}),mo(5,"Sign in"),lo(),lo(),lo())},styles:[""]}),e})()}],Y_=window!==window.parent&&!window.opener;let J_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[Pm.forRoot(Q_,{initialNavigation:Y_?"disabled":"enabled"})],Pm]}),e})();function Z_(e,t){1&e&&co(0,"router-outlet")}let X_=(()=>{class e{constructor(e,t,r){this.msalGuardConfig=e,this.broadcastService=t,this.authService=r,this.title="msal-angular-tutorial",this.isIframe=!1,this.loginDisplay=!1,this._destroying$=new C}ngOnInit(){this.isIframe=window!==window.parent&&!window.opener,this.broadcastService.inProgress$.pipe(Qd(e=>e===Ty.None),function(e){return t=>t.lift(new Kh(e))}(this._destroying$)).subscribe(()=>{this.setLoginDisplay()})}login(){this.msalGuardConfig.authRequest?this.authService.loginPopup(Object.assign({},this.msalGuardConfig.authRequest)).subscribe({next:e=>{console.log(e),this.setLoginDisplay()},error:e=>console.log(e)}):this.authService.loginPopup().subscribe({next:e=>{console.log(e),this.setLoginDisplay()},error:e=>console.log(e)})}logout(){this.authService.logoutPopup({mainWindowRedirectUri:"/"})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}}return e.\u0275fac=function(t){return new(t||e)(io(R_),io(V_),io(P_))},e.\u0275cmp=je({type:e,selectors:[["app-root"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"]],template:function(e,t){1&e&&(ao(0,"div",0),no(1,Z_,1,0,"router-outlet",1),lo()),2&e&&(Wn(1),oo("ngIf",!t.isIframe))},directives:[El,_m],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a.title[_ngcontent-%COMP%]{color:#fff}"]}),e})();var eE=function(){function e(){}return e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e}(),tE=function(){function e(e){this.cryptoObj=e}return e.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,eE.decimalToHex(e[0])+eE.decimalToHex(e[1])+eE.decimalToHex(e[2])+eE.decimalToHex(e[3])+"-"+eE.decimalToHex(e[4])+eE.decimalToHex(e[5])+"-"+eE.decimalToHex(e[6])+eE.decimalToHex(e[7])+"-"+eE.decimalToHex(e[8])+eE.decimalToHex(e[9])+"-"+eE.decimalToHex(e[10])+eE.decimalToHex(e[11])+eE.decimalToHex(e[12])+eE.decimalToHex(e[13])+eE.decimalToHex(e[14])+eE.decimalToHex(e[15])}catch(s){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",n=0,i="",o=0;o<36;o++)"-"!==t[o]&&"4"!==t[o]&&(n=16*Math.random()|0),"x"===t[o]?i+=r[n]:"y"===t[o]?(n&=3,i+=r[n|=8]):i+=t[o];return i}},e.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e}(),rE=function(){function e(){}return e.stringToUtf8Arr=function(e){for(var t,r=0,n=e.length,i=0;i<n;i++)r+=(t=e.charCodeAt(i))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var o=new Uint8Array(r),s=0,a=0;s<r;a++)(t=e.charCodeAt(a))<128?o[s++]=t:t<2048?(o[s++]=192+(t>>>6),o[s++]=128+(63&t)):t<65536?(o[s++]=224+(t>>>12),o[s++]=128+(t>>>6&63),o[s++]=128+(63&t)):t<2097152?(o[s++]=240+(t>>>18),o[s++]=128+(t>>>12&63),o[s++]=128+(t>>>6&63),o[s++]=128+(63&t)):t<67108864?(o[s++]=248+(t>>>24),o[s++]=128+(t>>>18&63),o[s++]=128+(t>>>12&63),o[s++]=128+(t>>>6&63),o[s++]=128+(63&t)):(o[s++]=252+(t>>>30),o[s++]=128+(t>>>24&63),o[s++]=128+(t>>>18&63),o[s++]=128+(t>>>12&63),o[s++]=128+(t>>>6&63),o[s++]=128+(63&t));return o},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return t},e.utf8ArrToString=function(e){for(var t="",r=void 0,n=e.length,i=0;i<n;i++)r=e[i],t+=String.fromCharCode(r>251&&r<254&&i+5<n?1073741824*(r-252)+(e[++i]-128<<24)+(e[++i]-128<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:r>247&&r<252&&i+4<n?(r-248<<24)+(e[++i]-128<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:r>239&&r<248&&i+3<n?(r-240<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:r>223&&r<240&&i+2<n?(r-224<<12)+(e[++i]-128<<6)+e[++i]-128:r>191&&r<224&&i+1<n?(r-192<<6)+e[++i]-128:r);return t},e}(),nE=function(){function e(){}return e.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))},e.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.encode=function(e){var t=rE.stringToUtf8Arr(e);return this.base64EncArr(t)},e.prototype.base64EncArr=function(e){for(var t=(3-e.length%3)%3,r="",n=void 0,i=e.length,o=0,s=0;s<i;s++)o|=e[s]<<(16>>>(n=s%3)&24),(2===n||e.length-s==1)&&(r+=String.fromCharCode(this.uint6ToB64(o>>>18&63),this.uint6ToB64(o>>>12&63),this.uint6ToB64(o>>>6&63),this.uint6ToB64(63&o)),o=0);return 0===t?r:r.substring(0,r.length-t)+(1===t?"=":"==")},e.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},e}(),iE=function(){function e(){}return e.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}var r=this.base64DecToArr(t);return rE.utf8ArrToString(r)},e.prototype.base64DecToArr=function(e,t){for(var r=e.replace(/[^A-Za-z0-9\+\/]/g,""),n=r.length,i=t?Math.ceil((3*n+1>>>2)/t)*t:3*n+1>>>2,o=new Uint8Array(i),s=void 0,a=void 0,l=0,c=0,u=0;u<n;u++)if(a=3&u,l|=this.b64ToUint6(r.charCodeAt(u))<<18-6*a,3===a||n-u==1){for(s=0;s<3&&c<i;s++,c++)o[c]=l>>>(16>>>s&24)&255;l=0}return o},e.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},e}(),oE=function(){function e(e){this.base64Encode=new nE,this.cryptoObj=e}return e.prototype.generateCodes=function(){return xy(this,void 0,void 0,function(){var e,t;return Fy(this,function(r){switch(r.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=r.sent(),[2,{verifier:e,challenge:t}]}})})},e.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(t){throw E_.createPkceNotGeneratedError(t)}},e.prototype.generateCodeChallengeFromVerifier=function(e){return xy(this,void 0,void 0,function(){var t,r;return Fy(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=n.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw r=n.sent(),E_.createPkceNotGeneratedError(r);case 3:return[2]}})})},e}(),sE="SHA-256",aE=new Uint8Array([1,0,1]),lE=function(){function e(){if(!this.hasCryptoAPI())throw E_.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:sE,modulusLength:2048,publicExponent:aE}}return e.prototype.sha256Digest=function(e){return xy(this,void 0,void 0,function(){var t;return Fy(this,function(r){return t=rE.stringToUtf8Arr(e),[2,this.hasIECrypto()?this.getMSCryptoDigest(sE,t):this.getSubtleCryptoDigest(sE,t)]})})},e.prototype.getRandomValues=function(e){var t=window.msCrypto||window.crypto;if(!t.getRandomValues)throw E_.createCryptoNotAvailableError("getRandomValues does not exist.");t.getRandomValues(e)},e.prototype.generateKeyPair=function(e,t){return xy(this,void 0,void 0,function(){return Fy(this,function(r){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(e,t):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,e,t)]})})},e.prototype.exportJwk=function(e){return xy(this,void 0,void 0,function(){return Fy(this,function(t){return[2,this.hasIECrypto()?this.msCryptoExportJwk(e):window.crypto.subtle.exportKey(Ry,e)]})})},e.prototype.importJwk=function(t,r,n){return xy(this,void 0,void 0,function(){var i,o;return Fy(this,function(s){return i=e.getJwkString(t),o=rE.stringToArrayBuffer(i),[2,this.hasIECrypto()?this.msCryptoImportKey(o,r,n):window.crypto.subtle.importKey(Ry,t,this._keygenAlgorithmOptions,r,n)]})})},e.prototype.sign=function(e,t){return xy(this,void 0,void 0,function(){return Fy(this,function(r){return[2,this.hasIECrypto()?this.msCryptoSign(e,t):window.crypto.subtle.sign(this._keygenAlgorithmOptions,e,t)]})})},e.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},e.prototype.hasIECrypto=function(){return"msCrypto"in window},e.prototype.hasBrowserCrypto=function(){return"crypto"in window},e.prototype.getSubtleCryptoDigest=function(e,t){return xy(this,void 0,void 0,function(){return Fy(this,function(r){return[2,window.crypto.subtle.digest(e,t)]})})},e.prototype.getMSCryptoDigest=function(e,t){return xy(this,void 0,void 0,function(){return Fy(this,function(r){return[2,new Promise(function(r,n){var i=window.msCrypto.subtle.digest(e,t.buffer);i.addEventListener("complete",function(e){r(e.target.result)}),i.addEventListener("error",function(e){n(e)})})]})})},e.prototype.msCryptoGenerateKey=function(e,t){return xy(this,void 0,void 0,function(){var r=this;return Fy(this,function(n){return[2,new Promise(function(n,i){var o=window.msCrypto.subtle.generateKey(r._keygenAlgorithmOptions,e,t);o.addEventListener("complete",function(e){n(e.target.result)}),o.addEventListener("error",function(e){i(e)})})]})})},e.prototype.msCryptoExportJwk=function(e){return xy(this,void 0,void 0,function(){return Fy(this,function(t){return[2,new Promise(function(t,r){var n=window.msCrypto.subtle.exportKey(Ry,e);n.addEventListener("complete",function(e){var n=rE.utf8ArrToString(new Uint8Array(e.target.result)).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").split(" ").join("").replace("\0","");try{t(JSON.parse(n))}catch(i){r(i)}}),n.addEventListener("error",function(e){r(e)})})]})})},e.prototype.msCryptoImportKey=function(e,t,r){return xy(this,void 0,void 0,function(){var n=this;return Fy(this,function(i){return[2,new Promise(function(i,o){var s=window.msCrypto.subtle.importKey(Ry,e,n._keygenAlgorithmOptions,t,r);s.addEventListener("complete",function(e){i(e.target.result)}),s.addEventListener("error",function(e){o(e)})})]})})},e.prototype.msCryptoSign=function(e,t){return xy(this,void 0,void 0,function(){var r=this;return Fy(this,function(n){return[2,new Promise(function(n,i){var o=window.msCrypto.subtle.sign(r._keygenAlgorithmOptions,e,t);o.addEventListener("complete",function(e){n(e.target.result)}),o.addEventListener("error",function(e){i(e)})})]})})},e.getJwkString=function(e){return JSON.stringify(e,Object.keys(e).sort())},e}(),cE=function(){function e(e,t,r){this.dbName=e,this.tableName=t,this.version=r,this.dbOpen=!1}return e.prototype.open=function(){return xy(this,void 0,void 0,function(){var e=this;return Fy(this,function(t){return[2,new Promise(function(t,r){var n=window.indexedDB.open(e.dbName,e.version);n.addEventListener("upgradeneeded",function(t){t.target.result.createObjectStore(e.tableName)}),n.addEventListener("success",function(r){e.db=r.target.result,e.dbOpen=!0,t()}),n.addEventListener("error",function(e){return r(e)})})]})})},e.prototype.get=function(e){return xy(this,void 0,void 0,function(){var t=this;return Fy(this,function(r){switch(r.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:r.sent(),r.label=2;case 2:return[2,new Promise(function(r,n){if(!t.db)return n(E_.createDatabaseNotOpenError());var i=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);i.addEventListener("success",function(e){r(e.target.result)}),i.addEventListener("error",function(e){return n(e)})})]}})})},e.prototype.put=function(e,t){return xy(this,void 0,void 0,function(){var r=this;return Fy(this,function(n){switch(n.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:n.sent(),n.label=2;case 2:return[2,new Promise(function(n,i){if(!r.db)return i(E_.createDatabaseNotOpenError());var o=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(t,e);o.addEventListener("success",function(e){n(e.target.result)}),o.addEventListener("error",function(e){return i(e)})})]}})})},e}(),uE=function(){function e(){this.browserCrypto=new lE,this.b64Encode=new nE,this.b64Decode=new iE,this.guidGenerator=new tE(this.browserCrypto),this.pkceGenerator=new oE(this.browserCrypto),this.cache=new cE(e.DB_NAME,e.TABLE_NAME,e.DB_VERSION)}return e.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},e.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},e.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},e.prototype.generatePkceCodes=function(){return xy(this,void 0,void 0,function(){return Fy(this,function(e){return[2,this.pkceGenerator.generateCodes()]})})},e.prototype.getPublicKeyThumbprint=function(t){return xy(this,void 0,void 0,function(){var r,n,i,o,s,a,l;return Fy(this,function(c){switch(c.label){case 0:return[4,this.browserCrypto.generateKeyPair(e.EXTRACTABLE,e.POP_KEY_USAGES)];case 1:return r=c.sent(),[4,this.browserCrypto.exportJwk(r.publicKey)];case 2:return n=c.sent(),i=lE.getJwkString({e:n.e,kty:n.kty,n:n.n}),[4,this.browserCrypto.sha256Digest(i)];case 3:return o=c.sent(),s=this.b64Encode.urlEncodeArr(new Uint8Array(o)),[4,this.browserCrypto.exportJwk(r.privateKey)];case 4:return a=c.sent(),[4,this.browserCrypto.importJwk(a,!1,["sign"])];case 5:return l=c.sent(),this.cache.put(s,{privateKey:l,publicKey:r.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),[2,s]}})})},e.prototype.signJwt=function(e,t){return xy(this,void 0,void 0,function(){var r,n,i,o,s,a,l,c,u;return Fy(this,function(d){switch(d.label){case 0:return[4,this.cache.get(t)];case 1:return r=d.sent(),[4,this.browserCrypto.exportJwk(r.publicKey)];case 2:return n=d.sent(),i=lE.getJwkString(n),o=this.b64Encode.urlEncode(JSON.stringify({alg:n.alg,type:Ry})),e.cnf={jwk:JSON.parse(i)},s=this.b64Encode.urlEncode(JSON.stringify(e)),l=rE.stringToArrayBuffer(a=o+"."+s),[4,this.browserCrypto.sign(r.privateKey,l)];case 3:return c=d.sent(),u=this.b64Encode.urlEncodeArr(new Uint8Array(c)),[2,a+"."+u]}})})},e.POP_KEY_USAGES=["sign","verify"],e.EXTRACTABLE=!0,e.DB_VERSION=1,e.TABLE_NAME=(e.DB_NAME="msal.db")+".keys",e}(),dE=(()=>(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(dE||(dE={})),dE))(),hE=function(){function e(e,t,r){this.level=dE.Info,this.localCallback=e.loggerCallback||function(){},this.piiLoggingEnabled=e.piiLoggingEnabled||!1,this.level=e.logLevel||dE.Info,this.correlationId=e.correlationId||"",this.packageName=t||Wm.EMPTY_STRING,this.packageVersion=r||Wm.EMPTY_STRING}return e.prototype.clone=function(t,r,n){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},t,r)},e.prototype.logMessage=function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var r,n=(new Date).toUTCString();r=lb.isEmpty(t.correlationId)?lb.isEmpty(this.correlationId)?"["+n+"]":"["+n+"] : ["+this.correlationId+"]":"["+n+"] : ["+t.correlationId+"]",this.executeCallback(t.logLevel,r+" : "+this.packageName+"@"+this.packageVersion+" : "+dE[t.logLevel]+" - "+e,t.containsPii||!1)}},e.prototype.executeCallback=function(e,t,r){this.localCallback&&this.localCallback(e,t,r)},e.prototype.error=function(e,t){this.logMessage(e,{logLevel:dE.Error,containsPii:!1,correlationId:t||""})},e.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:dE.Error,containsPii:!0,correlationId:t||""})},e.prototype.warning=function(e,t){this.logMessage(e,{logLevel:dE.Warning,containsPii:!1,correlationId:t||""})},e.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:dE.Warning,containsPii:!0,correlationId:t||""})},e.prototype.info=function(e,t){this.logMessage(e,{logLevel:dE.Info,containsPii:!1,correlationId:t||""})},e.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:dE.Info,containsPii:!0,correlationId:t||""})},e.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:dE.Verbose,containsPii:!1,correlationId:t||""})},e.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:dE.Verbose,containsPii:!0,correlationId:t||""})},e.prototype.trace=function(e,t){this.logMessage(e,{logLevel:dE.Trace,containsPii:!1,correlationId:t||""})},e.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:dE.Trace,containsPii:!0,correlationId:t||""})},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},e}(),pE={createNewGuid:function(){throw jy.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw jy.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw jy.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return Km(this,void 0,void 0,function(){return zm(this,function(e){throw jy.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return Km(this,void 0,void 0,function(){return zm(this,function(e){throw jy.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},signJwt:function(){return Km(this,void 0,void 0,function(){return zm(this,function(e){throw jy.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})}},fE=function(e){function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.name="ServerError",Object.setPrototypeOf(o,t.prototype),o}return Hm(t,e),t}(jy),gE=function(){function e(){}return e.generateThrottlingStorageKey=function(e){return"throttling."+JSON.stringify(e)},e.preProcess=function(t,r){var n,i=e.generateThrottlingStorageKey(r),o=t.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now())return void t.removeItem(i,cy.THROTTLING);throw new fE((null===(n=o.errorCodes)||void 0===n?void 0:n.join(" "))||Wm.EMPTY_STRING,o.errorMessage,o.subError)}},e.postProcess=function(t,r,n){if(e.checkResponseStatus(n)||e.checkResponseForRetryAfter(n)){var i={throttleTime:e.calculateThrottleTime(parseInt(n.headers[Ym.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};t.setThrottlingCache(e.generateThrottlingStorageKey(r),i)}},e.checkResponseStatus=function(e){return 429===e.status||e.status>=500&&e.status<600},e.checkResponseForRetryAfter=function(e){return!!e.headers&&e.headers.hasOwnProperty(Ym.RETRY_AFTER)&&(e.status<200||e.status>=300)},e.calculateThrottleTime=function(e){var t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||60),r+3600))},e.removeThrottle=function(e,t,r,n,i){var o=this.generateThrottlingStorageKey({clientId:t,authority:r,scopes:n,homeAccountIdentifier:i});return e.removeItem(o,cy.THROTTLING)},e}(),mE=["interaction_required","consent_required","login_required"],yE=["message_only","additional_action","basic_action","user_password_expired","consent_required"],vE=function(e){function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.name="InteractionRequiredAuthError",Object.setPrototypeOf(o,t.prototype),o}return Hm(t,e),t.isInteractionRequiredError=function(e,t,r){var n=!!e&&mE.indexOf(e)>-1,i=!!r&&yE.indexOf(r)>-1,o=!!t&&mE.some(function(e){return t.indexOf(e)>-1});return n||o||i},t}(fE);function wE(e,t){if(lb.isEmpty(e))throw Aw.createClientInfoEmptyError();try{var r=t.base64Decode(e);return JSON.parse(r)}catch(n){throw Aw.createClientInfoDecodingError(n)}}function bE(e){if(lb.isEmpty(e))throw Aw.createClientInfoDecodingError("Home account ID was empty.");var t=e.split(ay.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?Wm.EMPTY_STRING:t[1]}}var _E=(()=>(function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs"}(_E||(_E={})),_E))(),EE=function(){function e(){}return e.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(ay.CACHE_KEY_SEPARATOR).toLowerCase()},e.prototype.generateAccountKey=function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},e.prototype.generateType=function(){switch(this.authorityType){case sy.ADFS_ACCOUNT_TYPE:return uy.ADFS;case sy.MSAV1_ACCOUNT_TYPE:return uy.MSA;case sy.MSSTS_ACCOUNT_TYPE:return uy.MSSTS;case sy.GENERIC_ACCOUNT_TYPE:return uy.GENERIC;default:throw Aw.createUnexpectedAccountTypeError()}},e.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims}},e.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||"",e.tenantId||""].join(ay.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAccount=function(t,r,n,i,o,s,a){var l,c,u,d,h,p,f=new e;f.authorityType=sy.MSSTS_ACCOUNT_TYPE,f.clientInfo=t,f.homeAccountId=r;var g=n.getPreferredCache();if(lb.isEmpty(g))throw Aw.createInvalidCacheEnvironmentError();return f.environment=g,f.realm=(null===(l=null==i?void 0:i.claims)||void 0===l?void 0:l.tid)||"",f.oboAssertion=o,i&&(f.idTokenClaims=i.claims,f.localAccountId=(null===(c=null==i?void 0:i.claims)||void 0===c?void 0:c.oid)||(null===(u=null==i?void 0:i.claims)||void 0===u?void 0:u.sub)||"",f.username=(null===(d=null==i?void 0:i.claims)||void 0===d?void 0:d.preferred_username)||((null===(h=null==i?void 0:i.claims)||void 0===h?void 0:h.emails)?i.claims.emails[0]:""),f.name=null===(p=null==i?void 0:i.claims)||void 0===p?void 0:p.name),f.cloudGraphHostName=s,f.msGraphHost=a,f},e.createGenericAccount=function(t,r,n,i,o,s){var a,l,c,u,d=new e;d.authorityType=t.authorityType===_E.Adfs?sy.ADFS_ACCOUNT_TYPE:sy.GENERIC_ACCOUNT_TYPE,d.homeAccountId=r,d.realm="",d.oboAssertion=i;var h=t.getPreferredCache();if(lb.isEmpty(h))throw Aw.createInvalidCacheEnvironmentError();return n&&(d.localAccountId=(null===(a=null==n?void 0:n.claims)||void 0===a?void 0:a.oid)||(null===(l=null==n?void 0:n.claims)||void 0===l?void 0:l.sub)||"",d.username=(null===(c=null==n?void 0:n.claims)||void 0===c?void 0:c.upn)||"",d.name=(null===(u=null==n?void 0:n.claims)||void 0===u?void 0:u.name)||"",d.idTokenClaims=null==n?void 0:n.claims),d.environment=h,d.cloudGraphHostName=o,d.msGraphHost=s,d},e.generateHomeAccountId=function(e,t,r,n,i){var o,s=(null===(o=null==i?void 0:i.claims)||void 0===o?void 0:o.sub)?i.claims.sub:Wm.EMPTY_STRING;if(t===_E.Adfs)return s;if(e)try{var a=wE(e,n);if(!lb.isEmpty(a.uid)&&!lb.isEmpty(a.utid))return""+a.uid+ay.CLIENT_INFO_SEPARATOR+a.utid}catch(l){}return r.verbose("No client info in response"),s},e.isAccountEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")},e.accountInfoIsEqual=function(e,t,r){if(!e||!t)return!1;var n=!0;if(r){var i=e.idTokenClaims||{},o=t.idTokenClaims||{};n=i.iat===o.iat&&i.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&n},e}();function SE(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("end_session_endpoint")&&e.hasOwnProperty("issuer")}var CE=(()=>(function(e){e.AAD="AAD",e.OIDC="OIDC"}(CE||(CE={})),CE))(),TE=function(){function e(){}return e.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},e.isTokenExpired=function(t,r){var n=Number(t)||0;return e.nowSeconds()+r>n},e.wasClockTurnedBack=function(t){return Number(t)>e.nowSeconds()},e.delay=function(e,t){return new Promise(function(r){return setTimeout(function(){return r(t)},e)})},e}(),AE=function(){function e(){this.expiresAt=TE.nowSeconds()+86400}return e.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},e.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t},e.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},e.prototype.resetExpiresAt=function(){this.expiresAt=TE.nowSeconds()+86400},e.prototype.isExpired=function(){return this.expiresAt<=TE.nowSeconds()},e.isAuthorityMetadataEntity=function(e,t){return!!t&&0===e.indexOf("authority-metadata")&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("end_session_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")},e}(),RE=function(){function e(e){this.networkInterface=e}return e.prototype.detectRegion=function(e,t){return Km(this,void 0,void 0,function(){var r,n,i,o;return zm(this,function(s){switch(s.label){case 0:if(r=e)return[3,8];s.label=1;case 1:return s.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(Wm.IMDS_VERSION)];case 2:return(n=s.sent()).status===my.httpSuccess&&(r=n.body,t.region_source=yy.IMDS),n.status!==my.httpBadRequest?[3,5]:[4,this.getCurrentVersion()];case 3:return(i=s.sent())?[4,this.getRegionFromIMDS(i)]:(t.region_source=yy.FAILED_AUTO_DETECTION,[2,null]);case 4:(o=s.sent()).status===my.httpSuccess&&(r=o.body,t.region_source=yy.IMDS),s.label=5;case 5:return[3,7];case 6:return s.sent(),t.region_source=yy.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:t.region_source=yy.ENVIRONMENT_VARIABLE,s.label=9;case 9:return r||(t.region_source=yy.FAILED_AUTO_DETECTION),[2,r||null]}})})},e.prototype.getRegionFromIMDS=function(t){return Km(this,void 0,void 0,function(){return zm(this,function(r){return[2,this.networkInterface.sendGetRequestAsync(Wm.IMDS_ENDPOINT+"?api-version="+t+"&format=text",e.IMDS_OPTIONS,Wm.IMDS_TIMEOUT)]})})},e.prototype.getCurrentVersion=function(){return Km(this,void 0,void 0,function(){var t;return zm(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(Wm.IMDS_ENDPOINT+"?format=json",e.IMDS_OPTIONS)];case 1:return(t=r.sent()).status===my.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?[2,t.body["newest-versions"][0]]:[2,null];case 2:return r.sent(),[2,null];case 3:return[2]}})})},e.IMDS_OPTIONS={headers:{Metadata:"true"}},e}(),IE=function(){function e(e,t,r,n){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscovery=new RE(t),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0}}return Object.defineProperty(e.prototype,"authorityType",{get:function(){var e=this.canonicalAuthorityUrlComponents.PathSegments;return e.length&&e[0].toLowerCase()===Wm.ADFS?_E.Adfs:_E.Default},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new cb(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(e)}throw Aw.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(e)}throw Aw.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(e)}throw Aw.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(e)}throw Aw.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.issuer);return this.replaceTenant(e)}throw Aw.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),e.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},e.prototype.replacePath=function(e){var t=e,r=new cb(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(e,n){var i=r[n];e!==i&&(t=t.replace("/"+i+"/","/"+e+"/"))}),t},Object.defineProperty(e.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===_E.Adfs||this.protocolMode===CE.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),e.prototype.discoveryComplete=function(){return!!this.metadata},e.prototype.resolveEndpointsAsync=function(){return Km(this,void 0,void 0,function(){var e,t,r,n;return zm(this,function(i){switch(i.label){case 0:return(e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(e=new AE).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(e)];case 1:return t=i.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network),[4,this.updateEndpointMetadata(e)];case 2:return r=i.sent(),t!==hy.CACHE&&r!==hy.CACHE&&(e.resetExpiresAt(),e.updateCanonicalAuthority(this.canonicalAuthority)),n=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache),this.cacheManager.setAuthorityMetadata(n,e),this.metadata=e,[2]}})})},e.prototype.updateEndpointMetadata=function(t){var r;return Km(this,void 0,void 0,function(){var n,i,o;return zm(this,function(s){switch(s.label){case 0:return(n=this.getEndpointMetadataFromConfig())?(t.updateEndpointMetadata(n,!1),[2,hy.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,hy.CACHE]:[4,this.getEndpointMetadataFromNetwork()];case 1:return(n=s.sent())?(null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion)?[4,this.regionDiscovery.detectRegion(this.authorityOptions.azureRegionConfiguration.environmentRegion,this.regionDiscoveryMetadata)]:[3,3]:[3,4];case 2:i=s.sent(),o=this.authorityOptions.azureRegionConfiguration.azureRegion===Wm.AZURE_REGION_AUTO_DISCOVER_FLAG?i:this.authorityOptions.azureRegionConfiguration.azureRegion,this.regionDiscoveryMetadata.region_outcome=this.authorityOptions.azureRegionConfiguration.azureRegion===Wm.AZURE_REGION_AUTO_DISCOVER_FLAG?i?vy.AUTO_DETECTION_REQUESTED_SUCCESSFUL:vy.AUTO_DETECTION_REQUESTED_FAILED:i?this.authorityOptions.azureRegionConfiguration.azureRegion===i?vy.CONFIGURED_MATCHES_DETECTED:vy.CONFIGURED_NOT_DETECTED:vy.CONFIGURED_NO_AUTO_DETECTION,o&&(this.regionDiscoveryMetadata.region_used=o,n=e.replaceWithRegionalInformation(n,o)),s.label=3;case 3:return t.updateEndpointMetadata(n,!0),[2,hy.NETWORK];case 4:throw Aw.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},e.prototype.isAuthoritySameType=function(e){return new cb(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},e.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw ab.createInvalidAuthorityMetadataError()}return null},e.prototype.getEndpointMetadataFromNetwork=function(){return Km(this,void 0,void 0,function(){var e;return zm(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint)];case 1:return[2,SE((e=t.sent()).body)?e.body:null];case 2:return t.sent(),[2,null];case 3:return[2]}})})},e.prototype.updateCloudDiscoveryMetadata=function(e){return Km(this,void 0,void 0,function(){var t;return zm(this,function(r){switch(r.label){case 0:return(t=this.getCloudDiscoveryMetadataFromConfig())?(e.updateCloudDiscoveryMetadata(t,!1),[2,hy.CONFIG]):this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!e.isExpired()?[2,hy.CACHE]:[4,this.getCloudDiscoveryMetadataFromNetwork()];case 1:if(t=r.sent())return e.updateCloudDiscoveryMetadata(t,!0),[2,hy.NETWORK];throw ab.createUntrustedAuthorityError()}})})},e.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=e.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(r)return r}catch(n){throw ab.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},e.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return Km(this,void 0,void 0,function(){var t,r,n,i;return zm(this,function(o){switch(o.label){case 0:t=""+Wm.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",r=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t)];case 2:return n=o.sent(),0===(i=function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(n.body)?n.body.metadata:[]).length?[2,null]:(r=e.getCloudDiscoveryMetadataFromNetworkResponse(i,this.hostnameAndPort),[3,4]);case 3:return o.sent(),[2,null];case 4:return r||(r=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,r]}})})},e.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter(function(t){return cb.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort}).length>0},e.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},e.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.aliases.indexOf(t)>-1)return n}return null},e.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw Aw.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},e.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},e.isPublicCloudAuthority=function(e){return Wm.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0},e.buildRegionalAuthorityString=function(e,t,r){var n=new cb(e);n.validateAsUri();var i=n.getUrlComponents(),o=t+"."+i.HostNameAndPort;this.isPublicCloudAuthority(i.HostNameAndPort)&&(o=t+"."+Wm.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var s=cb.constructAuthorityUriFromObject(Bm(Bm({},n.getUrlComponents()),{HostNameAndPort:o})).urlString;return r?s+"?"+r:s},e.replaceWithRegionalInformation=function(t,r){return t.authorization_endpoint=e.buildRegionalAuthorityString(t.authorization_endpoint,r),t.token_endpoint=e.buildRegionalAuthorityString(t.token_endpoint,r,"allowestsrnonmsi=true"),t.end_session_endpoint=e.buildRegionalAuthorityString(t.end_session_endpoint,r),t},e}(),OE=function(){function e(){}return e.createDiscoveredInstance=function(t,r,n,i){return Km(this,void 0,void 0,function(){var o,s;return zm(this,function(a){switch(a.label){case 0:o=e.createInstance(t,r,n,i),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.resolveEndpointsAsync()];case 2:return a.sent(),[2,o];case 3:throw s=a.sent(),Aw.createEndpointDiscoveryIncompleteError(s);case 4:return[2]}})})},e.createInstance=function(e,t,r,n){if(lb.isEmpty(e))throw ab.createUrlEmptyError();return new IE(e,t,r,n)},e}(),kE=function(){function e(){}return e.prototype.generateAccountId=function(){return e.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},e.prototype.generateCredentialId=function(){return e.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},e.prototype.generateTarget=function(){return e.generateTargetForCacheKey(this.target)},e.prototype.generateCredentialKey=function(){return e.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId)},e.prototype.generateType=function(){switch(this.credentialType){case ly.ID_TOKEN:return uy.ID_TOKEN;case ly.ACCESS_TOKEN:return uy.ACCESS_TOKEN;case ly.REFRESH_TOKEN:return uy.REFRESH_TOKEN;default:throw Aw.createUnexpectedCredentialTypeError()}},e.getCredentialType=function(e){return-1!==e.indexOf(ly.ACCESS_TOKEN.toLowerCase())?-1!==e.indexOf(ly.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?ly.ACCESS_TOKEN_WITH_AUTH_SCHEME:ly.ACCESS_TOKEN:-1!==e.indexOf(ly.ID_TOKEN.toLowerCase())?ly.ID_TOKEN:-1!==e.indexOf(ly.REFRESH_TOKEN.toLowerCase())?ly.REFRESH_TOKEN:Wm.NOT_DEFINED},e.generateCredentialCacheKey=function(e,t,r,n,i,o,s){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(r,n,i,s),this.generateTargetForCacheKey(o)].join(ay.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateAccountIdForCacheKey=function(e,t){return[e,t].join(ay.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateCredentialIdForCacheKey=function(e,t,r,n){return[e,e===ly.REFRESH_TOKEN&&n||t,r||""].join(ay.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateTargetForCacheKey=function(e){return(e||"").toLowerCase()},e}(),PE=function(){function e(e){var t=this,r=e?lb.trimArrayEntries(Gm(e)):[],n=r?lb.removeEmptyStringsFromArray(r):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(function(e){return t.scopes.add(e)})}return e.fromString=function(t){return new e((t||"").split(" "))},e.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw ab.createEmptyScopesArrayError()},e.prototype.containsScope=function(t){var r=new e(this.printScopesLowerCase().split(" "));return!lb.isEmpty(t)&&r.scopes.has(t.toLowerCase())},e.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(function(e){return t.containsScope(e)})},e.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return Qm.forEach(function(r){e.containsScope(r)&&(t+=1)}),this.scopes.size===t},e.prototype.appendScope=function(e){lb.isEmpty(e)||this.scopes.add(e.trim())},e.prototype.appendScopes=function(e){var t=this;try{e.forEach(function(e){return t.appendScope(e)})}catch(r){throw Aw.createAppendScopeSetError(r)}},e.prototype.removeScope=function(e){if(lb.isEmpty(e))throw Aw.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},e.prototype.removeOIDCScopes=function(){var e=this;Qm.forEach(function(t){e.scopes.delete(t)})},e.prototype.unionScopeSets=function(e){if(!e)throw Aw.createEmptyInputScopeSetError();var t=new Set;return e.scopes.forEach(function(e){return t.add(e.toLowerCase())}),this.scopes.forEach(function(e){return t.add(e.toLowerCase())}),t},e.prototype.intersectingScopeSets=function(e){if(!e)throw Aw.createEmptyInputScopeSetError();e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r},e.prototype.getScopeCount=function(){return this.scopes.size},e.prototype.asArray=function(){var e=[];return this.scopes.forEach(function(t){return e.push(t)}),e},e.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):""},e.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},e}(),VE=function(){function e(t,r){if(lb.isEmpty(t))throw Aw.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=e.extractTokenClaims(t,r)}return e.extractTokenClaims=function(e,t){var r=lb.decodeAuthToken(e);try{var n=t.base64Decode(r.JWSPayload);return JSON.parse(n)}catch(i){throw Aw.createTokenParsingError(i)}},e}(),NE=function(){function e(e,t){this.clientId=e,this.cryptoImpl=t}return e.prototype.getAllAccounts=function(){var t=this,r=this.getAccountsFilteredBy(),n=Object.keys(r).map(function(e){return r[e]});return n.length<1?[]:n.map(function(r){var n=e.toObject(new EE,r).getAccountInfo(),i=t.readIdTokenFromCache(t.clientId,n);return i&&!n.idTokenClaims&&(n.idTokenClaims=new VE(i.secret,t.cryptoImpl).claims),n})},e.prototype.saveCacheRecord=function(e){if(!e)throw Aw.createNullOrUndefinedCacheRecord();e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&this.saveAccessToken(e.accessToken),e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)},e.prototype.saveAccessToken=function(e){var t=this,r=this.getCredentialsFilteredBy({clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm}),n=PE.fromString(e.target),i=Object.keys(r.accessTokens).map(function(e){return r.accessTokens[e]});i&&i.forEach(function(e){PE.fromString(e.target).intersectingScopeSets(n)&&t.removeCredential(e)}),this.setAccessTokenCredential(e)},e.prototype.getAccountsFilteredBy=function(e){return this.getAccountsFilteredByInternal(e?e.homeAccountId:"",e?e.environment:"",e?e.realm:"")},e.prototype.getAccountsFilteredByInternal=function(e,t,r){var n=this,i=this.getKeys(),o={};return i.forEach(function(i){var s=n.getAccount(i);!s||e&&!n.matchHomeAccountId(s,e)||t&&!n.matchEnvironment(s,t)||r&&!n.matchRealm(s,r)||(o[i]=s)}),o},e.prototype.getCredentialsFilteredBy=function(e){return this.getCredentialsFilteredByInternal(e.homeAccountId,e.environment,e.credentialType,e.clientId,e.familyId,e.realm,e.target,e.oboAssertion)},e.prototype.getCredentialsFilteredByInternal=function(e,t,r,n,i,o,s,a){var l=this,c=this.getKeys(),u={idTokens:{},accessTokens:{},refreshTokens:{}};return c.forEach(function(c){var d=kE.getCredentialType(c);if(d!==Wm.NOT_DEFINED){var h=l.getSpecificCredential(c,d);if(h&&(!a||l.matchOboAssertion(h,a))&&(!e||l.matchHomeAccountId(h,e))&&(!t||l.matchEnvironment(h,t))&&(!o||l.matchRealm(h,o))&&(!r||l.matchCredentialType(h,r))&&(!n||l.matchClientId(h,n))&&(!i||l.matchFamilyId(h,i))&&(!s||l.matchTarget(h,s)))switch(d){case ly.ID_TOKEN:u.idTokens[c]=h;break;case ly.ACCESS_TOKEN:case ly.ACCESS_TOKEN_WITH_AUTH_SCHEME:u.accessTokens[c]=h;break;case ly.REFRESH_TOKEN:u.refreshTokens[c]=h}}}),u},e.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},e.prototype.getAppMetadataFilteredByInternal=function(e,t){var r=this,n=this.getKeys(),i={};return n.forEach(function(n){if(r.isAppMetadata(n)){var o=r.getAppMetadata(n);!o||e&&!r.matchEnvironment(o,e)||t&&!r.matchClientId(o,t)||(i[n]=o)}}),i},e.prototype.getAuthorityMetadataByAlias=function(e){var t=this,r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(function(r){if(t.isAuthorityMetadata(r)&&-1!==r.indexOf(t.clientId)){var i=t.getAuthorityMetadata(r);!i||-1!==i.aliases.indexOf(e)&&(n=i)}}),n},e.prototype.removeAllAccounts=function(){var e=this;return this.getKeys().forEach(function(t){!e.getAccount(t)||e.removeAccount(t)}),!0},e.prototype.removeAccount=function(e){var t=this.getAccount(e);if(!t)throw Aw.createNoAccountFoundError();return this.removeAccountContext(t)&&this.removeItem(e,cy.ACCOUNT)},e.prototype.removeAccountContext=function(e){var t=this,r=this.getKeys(),n=e.generateAccountId();return r.forEach(function(e){var r=kE.getCredentialType(e);if(r!==Wm.NOT_DEFINED){var i=t.getSpecificCredential(e,r);i&&n===i.generateAccountId()&&t.removeCredential(i)}}),!0},e.prototype.removeCredential=function(e){var t=e.generateCredentialKey();return this.removeItem(t,cy.CREDENTIAL)},e.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach(function(t){e.isAppMetadata(t)&&e.removeItem(t,cy.APP_METADATA)}),!0},e.prototype.readCacheRecord=function(e,t,r,n,i){var o=this.readAccountFromCache(e),s=this.readIdTokenFromCache(t,e),a=this.readAccessTokenFromCache(t,e,r,i),l=this.readRefreshTokenFromCache(t,e,!1),c=this.readAppMetadataFromCache(n,t);return o&&s&&(o.idTokenClaims=new VE(s.secret,this.cryptoImpl).claims),{account:o,idToken:s,accessToken:a,refreshToken:l,appMetadata:c}},e.prototype.readAccountFromCache=function(e){var t=EE.generateAccountCacheKey(e);return this.getAccount(t)},e.prototype.readIdTokenFromCache=function(e,t){var r=this.getCredentialsFilteredBy({homeAccountId:t.homeAccountId,environment:t.environment,credentialType:ly.ID_TOKEN,clientId:e,realm:t.tenantId}),n=Object.keys(r.idTokens).map(function(e){return r.idTokens[e]}),i=n.length;if(i<1)return null;if(i>1)throw Aw.createMultipleMatchingTokensInCacheError();return n[0]},e.prototype.readAccessTokenFromCache=function(e,t,r,n){var i={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:n===fy.POP?ly.ACCESS_TOKEN_WITH_AUTH_SCHEME:ly.ACCESS_TOKEN,clientId:e,realm:t.tenantId,target:r.printScopesLowerCase()},o=this.getCredentialsFilteredBy(i),s=Object.keys(o.accessTokens).map(function(e){return o.accessTokens[e]}),a=s.length;if(a<1)return null;if(a>1)throw Aw.createMultipleMatchingTokensInCacheError();return s[0]},e.prototype.readRefreshTokenFromCache=function(e,t,r){var n=this.getCredentialsFilteredBy({homeAccountId:t.homeAccountId,environment:t.environment,credentialType:ly.REFRESH_TOKEN,clientId:e,familyId:r?"1":void 0}),i=Object.keys(n.refreshTokens).map(function(e){return n.refreshTokens[e]});return i.length<1?null:i[0]},e.prototype.readAppMetadataFromCache=function(e,t){var r=this.getAppMetadataFilteredBy({environment:e,clientId:t}),n=Object.keys(r).map(function(e){return r[e]}),i=n.length;if(i<1)return null;if(i>1)throw Aw.createMultipleMatchingAppMetadataInCacheError();return n[0]},e.prototype.isAppMetadataFOCI=function(e,t){var r=this.readAppMetadataFromCache(e,t);return!(!r||"1"!==r.familyId)},e.prototype.matchHomeAccountId=function(e,t){return!(!e.homeAccountId||t!==e.homeAccountId)},e.prototype.matchOboAssertion=function(e,t){return!(!e.oboAssertion||t!==e.oboAssertion)},e.prototype.matchEnvironment=function(e,t){var r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)},e.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},e.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},e.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},e.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},e.prototype.matchTarget=function(e,t){if(e.credentialType!==ly.ACCESS_TOKEN&&e.credentialType!==ly.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;var r=PE.fromString(e.target),n=PE.fromString(t);return n.containsOnlyOIDCScopes()?n.removeScope(Wm.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),r.containsScopeSet(n)},e.prototype.isAppMetadata=function(e){return-1!==e.indexOf(dy)},e.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf("authority-metadata")},e.prototype.generateAuthorityMetadataCacheKey=function(e){return"authority-metadata-"+this.clientId+"-"+e},e.prototype.getSpecificCredential=function(e,t){switch(t){case ly.ID_TOKEN:return this.getIdTokenCredential(e);case ly.ACCESS_TOKEN:case ly.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(e);case ly.REFRESH_TOKEN:return this.getRefreshTokenCredential(e);default:return null}},e.toObject=function(e,t){for(var r in t)e[r]=t[r];return e},e}(),xE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hm(t,e),t.prototype.setAccount=function(){throw jy.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw jy.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw jy.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw jy.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw jy.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw jy.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw jy.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw jy.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw jy.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw jy.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw jy.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw jy.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw jy.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw jy.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw jy.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw jy.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw jy.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw jy.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw jy.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw jy.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){throw jy.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")},t}(NE),FE={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},ME={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:dE.Info,correlationId:""},DE={sendGetRequestAsync:function(){return Km(this,void 0,void 0,function(){return zm(this,function(e){throw jy.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return Km(this,void 0,void 0,function(){return zm(this,function(e){throw jy.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},UE={sku:Wm.SKU,version:"4.5.1",cpu:"",os:""},LE={clientSecret:"",clientAssertion:void 0};function jE(e){return Bm({clientCapabilities:[]},e)}var qE=function(){function e(e,t){this.networkClient=e,this.cacheManager=t}return e.prototype.sendPostRequest=function(e,t,r){return Km(this,void 0,void 0,function(){var n,i;return zm(this,function(o){switch(o.label){case 0:gE.preProcess(this.cacheManager,e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,r)];case 2:return n=o.sent(),[3,4];case 3:throw(i=o.sent())instanceof jy?i:Aw.createNetworkError(t,i);case 4:return gE.postProcess(this.cacheManager,e,n),[2,n]}})})},e}(),HE=(()=>(function(e){e.HOME_ACCOUNT_ID="home_account_id",e.UPN="UPN"}(HE||(HE={})),HE))(),BE=function(){function e(e){this.config=function(e){var t=e.authOptions,r=e.systemOptions,n=e.loggerOptions,i=e.storageInterface,o=e.networkInterface,s=e.cryptoInterface,a=e.clientCredentials,l=e.libraryInfo,c=e.serverTelemetryManager,u=e.persistencePlugin,d=e.serializableCache;return{authOptions:jE(t),systemOptions:Bm(Bm({},FE),r),loggerOptions:Bm(Bm({},ME),n),storageInterface:i||new xE(t.clientId,pE),networkInterface:o||DE,cryptoInterface:s||pE,clientCredentials:a||LE,libraryInfo:Bm(Bm({},UE),l),serverTelemetryManager:c||null,persistencePlugin:u||null,serializableCache:d||null}}(e),this.logger=new hE(this.config.loggerOptions,"@azure/msal-common","4.5.1"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new qE(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return e.prototype.createTokenRequestHeaders=function(e){var t={};if(t[Ym.CONTENT_TYPE]=Wm.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case HE.HOME_ACCOUNT_ID:try{var r=bE(e.credential);t[Ym.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case HE.UPN:t[Ym.CCS_HEADER]="UPN: "+e.credential}return t},e.prototype.executePostToTokenEndpoint=function(e,t,r,n){return Km(this,void 0,void 0,function(){var i;return zm(this,function(o){switch(o.label){case 0:return[4,this.networkManager.sendPostRequest(n,e,{body:t,headers:r})];case 1:return i=o.sent(),this.config.serverTelemetryManager&&i.status<500&&429!==i.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,i]}})})},e.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw Aw.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},e}(),KE=function(){function e(){}return e.validateRedirectUri=function(e){if(lb.isEmpty(e))throw ab.createRedirectUriEmptyError()},e.validatePrompt=function(e){var t=[];for(var r in ty)t.push(ty[r]);if(t.indexOf(e)<0)throw ab.createInvalidPromptError(e)},e.validateClaims=function(e){try{JSON.parse(e)}catch(t){throw ab.createInvalidClaimsRequestError()}},e.validateCodeChallengeParams=function(e,t){if(lb.isEmpty(e)||lb.isEmpty(t))throw ab.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},e.validateCodeChallengeMethod=function(e){if([ny.PLAIN,ny.S256].indexOf(e)<0)throw ab.createInvalidCodeChallengeMethodError()},e.sanitizeEQParams=function(e,t){return e?(t.forEach(function(t,r){e[r]&&delete e[r]}),e):{}},e}(),zE=function(){function e(){this.parameters=new Map}return e.prototype.addResponseTypeCode=function(){this.parameters.set(Xm.RESPONSE_TYPE,encodeURIComponent(Wm.CODE_RESPONSE_TYPE))},e.prototype.addResponseMode=function(e){this.parameters.set(Xm.RESPONSE_MODE,encodeURIComponent(e||iy.QUERY))},e.prototype.addScopes=function(e,t){void 0===t&&(t=!0);var r=t?Gm(e||[],$m):e||[],n=new PE(r);this.parameters.set(Xm.SCOPE,encodeURIComponent(n.printScopes()))},e.prototype.addClientId=function(e){this.parameters.set(Xm.CLIENT_ID,encodeURIComponent(e))},e.prototype.addRedirectUri=function(e){KE.validateRedirectUri(e),this.parameters.set(Xm.REDIRECT_URI,encodeURIComponent(e))},e.prototype.addPostLogoutRedirectUri=function(e){KE.validateRedirectUri(e),this.parameters.set(Xm.POST_LOGOUT_URI,encodeURIComponent(e))},e.prototype.addIdTokenHint=function(e){this.parameters.set(Xm.ID_TOKEN_HINT,encodeURIComponent(e))},e.prototype.addDomainHint=function(e){this.parameters.set(ry.DOMAIN_HINT,encodeURIComponent(e))},e.prototype.addLoginHint=function(e){this.parameters.set(ry.LOGIN_HINT,encodeURIComponent(e))},e.prototype.addCcsUpn=function(e){this.parameters.set(Ym.CCS_HEADER,encodeURIComponent("UPN:"+e))},e.prototype.addCcsOid=function(e){this.parameters.set(Ym.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},e.prototype.addSid=function(e){this.parameters.set(ry.SID,encodeURIComponent(e))},e.prototype.addClaims=function(e,t){var r=this.addClientCapabilitiesToClaims(e,t);KE.validateClaims(r),this.parameters.set(Xm.CLAIMS,encodeURIComponent(r))},e.prototype.addCorrelationId=function(e){this.parameters.set(Xm.CLIENT_REQUEST_ID,encodeURIComponent(e))},e.prototype.addLibraryInfo=function(e){this.parameters.set(Xm.X_CLIENT_SKU,e.sku),this.parameters.set(Xm.X_CLIENT_VER,e.version),this.parameters.set(Xm.X_CLIENT_OS,e.os),this.parameters.set(Xm.X_CLIENT_CPU,e.cpu)},e.prototype.addPrompt=function(e){KE.validatePrompt(e),this.parameters.set(""+Xm.PROMPT,encodeURIComponent(e))},e.prototype.addState=function(e){lb.isEmpty(e)||this.parameters.set(Xm.STATE,encodeURIComponent(e))},e.prototype.addNonce=function(e){this.parameters.set(Xm.NONCE,encodeURIComponent(e))},e.prototype.addCodeChallengeParams=function(e,t){if(KE.validateCodeChallengeParams(e,t),!e||!t)throw ab.createInvalidCodeChallengeParamsError();this.parameters.set(Xm.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(Xm.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},e.prototype.addAuthorizationCode=function(e){this.parameters.set(Xm.CODE,encodeURIComponent(e))},e.prototype.addDeviceCode=function(e){this.parameters.set(Xm.DEVICE_CODE,encodeURIComponent(e))},e.prototype.addRefreshToken=function(e){this.parameters.set(Xm.REFRESH_TOKEN,encodeURIComponent(e))},e.prototype.addCodeVerifier=function(e){this.parameters.set(Xm.CODE_VERIFIER,encodeURIComponent(e))},e.prototype.addClientSecret=function(e){this.parameters.set(Xm.CLIENT_SECRET,encodeURIComponent(e))},e.prototype.addClientAssertion=function(e){this.parameters.set(Xm.CLIENT_ASSERTION,encodeURIComponent(e))},e.prototype.addClientAssertionType=function(e){this.parameters.set(Xm.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},e.prototype.addOboAssertion=function(e){this.parameters.set(Xm.OBO_ASSERTION,encodeURIComponent(e))},e.prototype.addRequestTokenUse=function(e){this.parameters.set(Xm.REQUESTED_TOKEN_USE,encodeURIComponent(e))},e.prototype.addGrantType=function(e){this.parameters.set(Xm.GRANT_TYPE,encodeURIComponent(e))},e.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},e.prototype.addExtraQueryParameters=function(e){var t=this;KE.sanitizeEQParams(e,this.parameters),Object.keys(e).forEach(function(r){t.parameters.set(r,e[r])})},e.prototype.addClientCapabilitiesToClaims=function(e,t){var r;if(e)try{r=JSON.parse(e)}catch(n){throw ab.createInvalidClaimsRequestError()}else r={};return t&&t.length>0&&(r.hasOwnProperty(ey.ACCESS_TOKEN)||(r[ey.ACCESS_TOKEN]={}),r[ey.ACCESS_TOKEN][ey.XMS_CC]={values:t}),JSON.stringify(r)},e.prototype.addUsername=function(e){this.parameters.set(gy.username,e)},e.prototype.addPassword=function(e){this.parameters.set(gy.password,e)},e.prototype.addPopToken=function(e){lb.isEmpty(e)||(this.parameters.set(Xm.TOKEN_TYPE,fy.POP),this.parameters.set(Xm.REQ_CNF,encodeURIComponent(e)))},e.prototype.addServerTelemetry=function(e){this.parameters.set(Xm.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(Xm.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},e.prototype.addThrottling=function(){this.parameters.set(Xm.X_MS_LIB_CAPABILITY,"retry-after, h429")},e.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach(function(t,r){e.push(r+"="+t)}),e.join("&")},e}(),GE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hm(t,e),t.createIdTokenEntity=function(e,r,n,i,o,s){var a=new t;return a.credentialType=ly.ID_TOKEN,a.homeAccountId=e,a.environment=r,a.clientId=i,a.secret=n,a.realm=o,a.oboAssertion=s,a},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===ly.ID_TOKEN},t}(kE),WE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hm(t,e),t.createAccessTokenEntity=function(e,r,n,i,o,s,a,l,c,u,d,h){var p,f=new t;f.homeAccountId=e,f.credentialType=ly.ACCESS_TOKEN,f.secret=n;var g=TE.nowSeconds();if(f.cachedAt=g.toString(),f.expiresOn=a.toString(),f.extendedExpiresOn=l.toString(),u&&(f.refreshOn=u.toString()),f.environment=r,f.clientId=i,f.realm=o,f.target=s,f.oboAssertion=h,f.tokenType=lb.isEmpty(d)?fy.BEARER:d,f.tokenType===fy.POP){f.credentialType=ly.ACCESS_TOKEN_WITH_AUTH_SCHEME;var m=VE.extractTokenClaims(n,c);if(!(null===(p=null==m?void 0:m.cnf)||void 0===p?void 0:p.kid))throw Aw.createTokenClaimsRequiredError();f.keyId=m.cnf.kid}return f},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===ly.ACCESS_TOKEN||e.credentialType===ly.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}(kE),$E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hm(t,e),t.createRefreshTokenEntity=function(e,r,n,i,o,s){var a=new t;return a.clientId=i,a.credentialType=ly.REFRESH_TOKEN,a.environment=r,a.homeAccountId=e,a.secret=n,a.oboAssertion=s,o&&(a.familyId=o),a},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===ly.REFRESH_TOKEN},t}(kE),QE=function(e,t,r,n,i){this.account=e||null,this.idToken=t||null,this.accessToken=r||null,this.refreshToken=n||null,this.appMetadata=i||null},YE=function(){function e(){}return e.setRequestState=function(t,r,n){var i=e.generateLibraryState(t,n);return lb.isEmpty(r)?i:""+i+Wm.RESOURCE_DELIM+r},e.generateLibraryState=function(e,t){if(!e)throw Aw.createNoCryptoObjectError("generateLibraryState");var r={id:e.createNewGuid()};t&&(r.meta=t);var n=JSON.stringify(r);return e.base64Encode(n)},e.parseRequestState=function(e,t){if(!e)throw Aw.createNoCryptoObjectError("parseRequestState");if(lb.isEmpty(t))throw Aw.createInvalidStateError(t,"Null, undefined or empty state");try{var r=t.split(Wm.RESOURCE_DELIM),n=r[0],i=r.length>1?r.slice(1).join(Wm.RESOURCE_DELIM):"",o=e.base64Decode(n),s=JSON.parse(o);return{userRequestState:lb.isEmpty(i)?"":i,libraryState:s}}catch(a){throw Aw.createInvalidStateError(t,a)}},e}(),JE=(()=>(function(e){e.SW="sw",e.UHW="uhw"}(JE||(JE={})),JE))(),ZE=function(){function e(e){this.cryptoUtils=e}return e.prototype.generateCnf=function(e){return Km(this,void 0,void 0,function(){var t;return zm(this,function(r){switch(r.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return t=r.sent(),[2,this.cryptoUtils.base64Encode(JSON.stringify({kid:t,xms_ksl:JE.SW}))]}})})},e.prototype.signPopToken=function(e,t){var r;return Km(this,void 0,void 0,function(){var n,i,o,s,a,l;return zm(this,function(c){switch(c.label){case 0:if(n=VE.extractTokenClaims(e,this.cryptoUtils),i=t.resourceRequestMethod,s=t.shrClaims,a=(o=t.resourceRequestUri)?new cb(o):void 0,l=null==a?void 0:a.getUrlComponents(),!(null===(r=null==n?void 0:n.cnf)||void 0===r?void 0:r.kid))throw Aw.createTokenClaimsRequiredError();return[4,this.cryptoUtils.signJwt({at:e,ts:TE.nowSeconds(),m:null==i?void 0:i.toUpperCase(),u:null==l?void 0:l.HostNameAndPort,nonce:this.cryptoUtils.createNewGuid(),p:null==l?void 0:l.AbsolutePath,q:(null==l?void 0:l.QueryString)?[[],l.QueryString]:void 0,client_claims:s||void 0},n.cnf.kid)];case 1:return[2,c.sent()]}})})},e}(),XE=function(){function e(){}return e.prototype.generateAppMetadataKey=function(){return e.generateAppMetadataCacheKey(this.environment,this.clientId)},e.generateAppMetadataCacheKey=function(e,t){return[dy,e,t].join(ay.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAppMetadataEntity=function(t,r,n){var i=new e;return i.clientId=t,i.environment=r,n&&(i.familyId=n),i},e.isAppMetadataEntity=function(e,t){return!!t&&0===e.indexOf(dy)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")},e}(),eS=function(){function e(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(e.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),e}(),tS=function(){function e(e,t,r,n,i,o){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=i,this.persistencePlugin=o}return e.prototype.validateServerAuthorizationCodeResponse=function(e,t,r){if(!e.state||!t)throw Aw.createStateNotFoundError(e.state?"Cached State":"Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw Aw.createStateMismatchError();if(e.error||e.error_description||e.suberror)throw vE.isInteractionRequiredError(e.error,e.error_description,e.suberror)?new vE(e.error||Wm.EMPTY_STRING,e.error_description,e.suberror):new fE(e.error||Wm.EMPTY_STRING,e.error_description,e.suberror);e.client_info&&wE(e.client_info,r)},e.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(vE.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new vE(e.error,e.error_description,e.suberror);throw new fE(e.error,e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id,e.suberror)}},e.prototype.handleServerTokenResponse=function(t,r,n,i,o,s,a){return Km(this,void 0,void 0,function(){var l,c,u,d,h;return zm(this,function(p){switch(p.label){case 0:if(t.id_token&&(l=new VE(t.id_token||Wm.EMPTY_STRING,this.cryptoObj),o&&!lb.isEmpty(o.nonce)&&l.claims.nonce!==o.nonce))throw Aw.createNonceMismatchError();this.homeAccountIdentifier=EE.generateHomeAccountId(t.client_info||Wm.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,l),!!o&&!!o.state&&(c=YE.parseRequestState(this.cryptoObj,o.state)),u=this.generateCacheRecord(t,r,n,l,i.scopes,s,o),p.label=1;case 1:return p.trys.push([1,,4,7]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),d=new eS(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(d)]):[3,3];case 2:p.sent(),p.label=3;case 3:return a&&u.account&&(h=u.account.generateAccountKey(),!this.cacheStorage.getAccount(h))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,e.generateAuthenticationResult(this.cryptoObj,r,u,!1,i,l,c)]):(this.cacheStorage.saveCacheRecord(u),[3,7]);case 4:return this.persistencePlugin&&this.serializableCache&&d?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(d)]):[3,6];case 5:p.sent(),p.label=6;case 6:return[7];case 7:return[2,e.generateAuthenticationResult(this.cryptoObj,r,u,!1,i,l,c)]}})})},e.prototype.generateCacheRecord=function(e,t,r,n,i,o,s){var a,l,c=t.getPreferredCache();if(lb.isEmpty(c))throw Aw.createInvalidCacheEnvironmentError();!lb.isEmpty(e.id_token)&&n&&(a=GE.createIdTokenEntity(this.homeAccountIdentifier,c,e.id_token||Wm.EMPTY_STRING,this.clientId,n.claims.tid||Wm.EMPTY_STRING,o),l=this.generateAccountEntity(e,n,t,o,s));var u=null;if(!lb.isEmpty(e.access_token)){var d=e.scope?PE.fromString(e.scope):new PE(i||[]),h=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,p=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,f=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,g=r+h,m=g+p,y=f&&f>0?r+f:void 0;u=WE.createAccessTokenEntity(this.homeAccountIdentifier,c,e.access_token||Wm.EMPTY_STRING,this.clientId,n?n.claims.tid||Wm.EMPTY_STRING:t.tenant,d.printScopes(),g,m,this.cryptoObj,y,e.token_type,o)}var v=null;lb.isEmpty(e.refresh_token)||(v=$E.createRefreshTokenEntity(this.homeAccountIdentifier,c,e.refresh_token||Wm.EMPTY_STRING,this.clientId,e.foci,o));var w=null;return lb.isEmpty(e.foci)||(w=XE.createAppMetadataEntity(this.clientId,c,e.foci)),new QE(l,a,u,v,w)},e.prototype.generateAccountEntity=function(e,t,r,n,i){var o=i?i.cloud_graph_host_name:"",s=i?i.msgraph_host:"";if(r.authorityType===_E.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),EE.createGenericAccount(r,this.homeAccountIdentifier,t,n,o,s);if(lb.isEmpty(e.client_info)&&"AAD"===r.protocolMode)throw Aw.createClientInfoEmptyError();return e.client_info?EE.createAccount(e.client_info,this.homeAccountIdentifier,r,t,n,o,s):EE.createGenericAccount(r,this.homeAccountIdentifier,t,n,o,s)},e.generateAuthenticationResult=function(e,t,r,n,i,o,s){var a,l,c;return Km(this,void 0,void 0,function(){var u,d,h,p,f;return zm(this,function(g){switch(g.label){case 0:return u="",d=[],h=null,f=Wm.EMPTY_STRING,r.accessToken?r.accessToken.tokenType!==fy.POP?[3,2]:[4,new ZE(e).signPopToken(r.accessToken.secret,i)]:[3,4];case 1:return u=g.sent(),[3,3];case 2:u=r.accessToken.secret,g.label=3;case 3:d=PE.fromString(r.accessToken.target).asArray(),h=new Date(1e3*Number(r.accessToken.expiresOn)),p=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),g.label=4;case 4:return r.appMetadata&&(f="1"===r.appMetadata.familyId?"1":Wm.EMPTY_STRING),[2,{authority:t.canonicalAuthority,uniqueId:(null==o?void 0:o.claims.oid)||(null==o?void 0:o.claims.sub)||Wm.EMPTY_STRING,tenantId:(null==o?void 0:o.claims.tid)||Wm.EMPTY_STRING,scopes:d,account:r.account?r.account.getAccountInfo():null,idToken:o?o.rawToken:Wm.EMPTY_STRING,idTokenClaims:o?o.claims:{},accessToken:u,fromCache:n,expiresOn:h,extExpiresOn:p,familyId:f,tokenType:(null===(a=r.accessToken)||void 0===a?void 0:a.tokenType)||Wm.EMPTY_STRING,state:s?s.userRequestState:Wm.EMPTY_STRING,cloudGraphHostName:(null===(l=r.account)||void 0===l?void 0:l.cloudGraphHostName)||Wm.EMPTY_STRING,msGraphHost:(null===(c=r.account)||void 0===c?void 0:c.msGraphHost)||Wm.EMPTY_STRING}]}})})},e}(),rS=function(e){function t(t){return e.call(this,t)||this}return Hm(t,e),t.prototype.getAuthCodeUrl=function(e){return Km(this,void 0,void 0,function(){var t;return zm(this,function(r){return t=this.createAuthCodeUrlQueryString(e),[2,cb.appendQueryString(this.authority.authorizationEndpoint,t)]})})},t.prototype.acquireToken=function(e,t){return Km(this,void 0,void 0,function(){var r,n,i;return zm(this,function(o){switch(o.label){case 0:if(this.logger.info("in acquireToken call"),!e||lb.isEmpty(e.code))throw Aw.createTokenRequestCannotBeMadeError();return r=TE.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return n=o.sent(),(i=new tS(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(n.body),[4,i.handleServerTokenResponse(n.body,this.authority,r,e,t)];case 2:return[2,o.sent()]}})})},t.prototype.handleFragmentResponse=function(e,t){var r=new tS(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),n=new cb(e),i=cb.getDeserializedHash(n.getHash());if(r.validateServerAuthorizationCodeResponse(i,t,this.cryptoUtils),!i.code)throw Aw.createNoAuthCodeInServerResponseError();return Bm(Bm({},i),{code:i.code})},t.prototype.getLogoutUri=function(e){if(!e)throw ab.createEmptyLogoutRequestError();e.account?this.cacheManager.removeAccount(EE.generateAccountCacheKey(e.account)):this.cacheManager.clear();var t=this.createLogoutUrlQueryString(e);return cb.appendQueryString(this.authority.endSessionEndpoint,t)},t.prototype.executeTokenRequest=function(e,t){return Km(this,void 0,void 0,function(){var r,n,i,o,s,a,l;return zm(this,function(c){switch(c.label){case 0:return r={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes},[4,this.createTokenRequestBody(t)];case 1:if(n=c.sent(),i=this.createTokenQueryParameters(t),o=void 0,t.clientInfo)try{s=wE(t.clientInfo,this.cryptoUtils),o={credential:""+s.uid+ay.CLIENT_INFO_SEPARATOR+s.utid,type:HE.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}return a=this.createTokenRequestHeaders(o||t.ccsCredential),l=lb.isEmpty(i)?e.tokenEndpoint:e.tokenEndpoint+"?"+i,[2,this.executePostToTokenEndpoint(l,n,a,r)]}})})},t.prototype.createTokenQueryParameters=function(e){var t=new zE;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return Km(this,void 0,void 0,function(){var t,r,n,i,o,s;return zm(this,function(a){switch(a.label){case 0:return(t=new zE).addClientId(this.config.authOptions.clientId),t.addRedirectUri(e.redirectUri),t.addScopes(e.scopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(t.addClientAssertion((r=this.config.clientCredentials.clientAssertion).assertion),t.addClientAssertionType(r.assertionType)),t.addGrantType(oy.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme!==fy.POP?[3,2]:[4,new ZE(this.cryptoUtils).generateCnf(e)];case 1:n=a.sent(),t.addPopToken(n),a.label=2;case 2:if(i=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(i),(!lb.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),o=void 0,e.clientInfo)try{s=wE(e.clientInfo,this.cryptoUtils),o={credential:""+s.uid+ay.CLIENT_INFO_SEPARATOR+s.utid,type:HE.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case HE.HOME_ACCOUNT_ID:try{s=bE(o.credential),t.addCcsOid(s)}catch(l){this.logger.verbose("Could not parse home account ID for CCS Header: "+l)}break;case HE.UPN:t.addCcsUpn(o.credential)}return[2,t.createQueryString()]}})})},t.prototype.createAuthCodeUrlQueryString=function(e){var t=new zE;t.addClientId(this.config.authOptions.clientId);var r=Gm(e.scopes||[],e.extraScopesToConsent||[]);t.addScopes(r),t.addRedirectUri(e.redirectUri);var n=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(n),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==ty.SELECT_ACCOUNT)if(e.sid&&e.prompt===ty.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){var i=this.extractAccountSid(e.account);if(i&&e.prompt===ty.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(i);try{var o=bE(e.account.homeAccountId);t.addCcsOid(o)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{o=bE(e.account.homeAccountId),t.addCcsOid(o)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(!lb.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.createLogoutUrlQueryString=function(e){var t=new zE;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),t.createQueryString()},t.prototype.extractAccountSid=function(e){return e.idTokenClaims&&e.idTokenClaims.sid||null},t}(BE),nS=function(e){function t(t){return e.call(this,t)||this}return Hm(t,e),t.prototype.acquireToken=function(e){return Km(this,void 0,void 0,function(){var t,r,n;return zm(this,function(i){switch(i.label){case 0:return t=TE.nowSeconds(),[4,this.executeTokenRequest(e,this.authority)];case 1:return r=i.sent(),(n=new tS(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(r.body),[2,n.handleServerTokenResponse(r.body,this.authority,t,e,void 0,void 0,!0)]}})})},t.prototype.acquireTokenByRefreshToken=function(e){return Km(this,void 0,void 0,function(){var t;return zm(this,function(r){if(!e)throw ab.createEmptyTokenRequestError();if(!e.account)throw Aw.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(n){if(t=n instanceof fE&&"invalid_grant"===n.errorCode&&"client_mismatch"===n.subError,n instanceof Aw&&n.errorCode===Av||t)return[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw n}return[2,this.acquireTokenWithCachedRefreshToken(e,!1)]})})},t.prototype.acquireTokenWithCachedRefreshToken=function(e,t){return Km(this,void 0,void 0,function(){var r,n;return zm(this,function(i){if(!(r=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,t)))throw Aw.createNoTokensFoundError();return n=Bm(Bm({},e),{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||fy.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:HE.HOME_ACCOUNT_ID}}),[2,this.acquireToken(n)]})})},t.prototype.executeTokenRequest=function(e,t){return Km(this,void 0,void 0,function(){var r,n,i,o,s;return zm(this,function(a){switch(a.label){case 0:return[4,this.createTokenRequestBody(e)];case 1:return r=a.sent(),n=this.createTokenQueryParameters(e),i=this.createTokenRequestHeaders(e.ccsCredential),o={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes},s=cb.appendQueryString(t.tokenEndpoint,n),[2,this.executePostToTokenEndpoint(s,r,i,o)]}})})},t.prototype.createTokenQueryParameters=function(e){var t=new zE;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return Km(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return zm(this,function(l){switch(l.label){case 0:return(t=new zE).addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(oy.REFRESH_TOKEN_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager),r=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(r),t.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(t.addClientAssertion((n=this.config.clientCredentials.clientAssertion).assertion),t.addClientAssertionType(n.assertionType)),e.authenticationScheme!==fy.POP?[3,2]:(i=new ZE(this.cryptoUtils),s=(o=t).addPopToken,[4,i.generateCnf(e)]);case 1:s.apply(o,[l.sent()]),l.label=2;case 2:if((!lb.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case HE.HOME_ACCOUNT_ID:try{a=bE(e.ccsCredential.credential),t.addCcsOid(a)}catch(c){this.logger.verbose("Could not parse home account ID for CCS Header: "+c)}break;case HE.UPN:t.addCcsUpn(e.ccsCredential.credential)}return[2,t.createQueryString()]}})})},t}(BE),iS=function(e){function t(t){return e.call(this,t)||this}return Hm(t,e),t.prototype.acquireToken=function(e){return Km(this,void 0,void 0,function(){var t;return zm(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,r.sent()];case 2:if((t=r.sent())instanceof Aw&&t.errorCode===vw)return[2,new nS(this.config).acquireTokenByRefreshToken(e)];throw t;case 3:return[2]}})})},t.prototype.acquireCachedToken=function(e){var t,r,n,i;return Km(this,void 0,void 0,function(){var o,s,a;return zm(this,function(l){switch(l.label){case 0:if(!e)throw ab.createEmptyTokenRequestError();if(!e.account)throw Aw.createNoAccountInSilentRequestError();if(o=new PE(e.scopes||[]),s=e.authority||this.authority.getPreferredCache(),a=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,o,s,e.authenticationScheme||fy.BEARER),e.forceRefresh)throw null===(t=this.serverTelemetryManager)||void 0===t||t.setCacheOutcome(wy.FORCE_REFRESH),Aw.createRefreshRequiredError();if(!a.accessToken)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(wy.NO_CACHED_ACCESS_TOKEN),Aw.createRefreshRequiredError();if(TE.wasClockTurnedBack(a.accessToken.cachedAt)||TE.isTokenExpired(a.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(wy.CACHED_ACCESS_TOKEN_EXPIRED),Aw.createRefreshRequiredError();if(a.accessToken.refreshOn&&TE.isTokenExpired(a.accessToken.refreshOn,0))throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(wy.REFRESH_CACHED_ACCESS_TOKEN),Aw.createRefreshRequiredError();if(!lb.isEmptyObj(e.claims))throw Aw.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(a,e)];case 1:return[2,l.sent()]}})})},t.prototype.generateResultFromCacheRecord=function(e,t){return Km(this,void 0,void 0,function(){var r;return zm(this,function(n){switch(n.label){case 0:return e.idToken&&(r=new VE(e.idToken.secret,this.config.cryptoInterface)),[4,tS.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)];case 1:return[2,n.sent()]}})})},t}(BE),oS=function(){function e(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return e.isServerTelemetryEntity=function(e,t){var r=0===e.indexOf(py.CACHE_KEY),n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&n},e}(),sS=function(){function e(e,t){this.cacheOutcome=wy.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Wm.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Wm.EMPTY_STRING,this.telemetryCacheKey=py.CACHE_KEY+ay.CACHE_KEY_SEPARATOR+e.clientId}return e.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+py.VALUE_SEPARATOR+this.cacheOutcome,t=[this.wrapperSKU,this.wrapperVer].join(py.VALUE_SEPARATOR),r=[e,this.getRegionDiscoveryFields()].join(py.VALUE_SEPARATOR);return[py.SCHEMA_VERSION,r,t].join(py.CATEGORY_SEPARATOR)},e.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t),n=t.failedRequests.slice(0,2*r).join(py.VALUE_SEPARATOR),i=t.errors.slice(0,r).join(py.VALUE_SEPARATOR),o=t.errors.length,s=[o,r<o?py.OVERFLOW_TRUE:py.OVERFLOW_FALSE].join(py.VALUE_SEPARATOR);return[py.SCHEMA_VERSION,t.cacheHits,n,i,s].join(py.CATEGORY_SEPARATOR)},e.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=py.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),lb.isEmpty(e.subError)?lb.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(py.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},e.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},e.prototype.getLastRequests=function(){var e=new oS;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},e.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t);if(r===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var n=new oS;n.failedRequests=t.failedRequests.slice(2*r),n.errors=t.errors.slice(r),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}},e.maxErrorsToSend=function(e){var t,r=0,n=0,i=e.errors.length;for(t=0;t<i;t++){var o=e.failedRequests[2*t+1]||Wm.EMPTY_STRING,s=e.errors[t]||Wm.EMPTY_STRING;if(!((n+=(e.failedRequests[2*t]||Wm.EMPTY_STRING).toString().length+o.toString().length+s.length+3)<py.MAX_LAST_HEADER_BYTES))break;r+=1}return r},e.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||""),e.push(this.regionSource||""),e.push(this.regionOutcome||""),e.join(",")},e.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},e.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},e}(),aS=function(){function e(){}return e.isThrottlingEntity=function(e,t){var r=!1;e&&(r=0===e.indexOf("throttling"));var n=!0;return t&&(n=t.hasOwnProperty("throttleTime")),r&&n},e}(),lS=function(){function e(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return e.prototype.validateWindowStorage=function(e){if(e!==by.LocalStorage&&e!==by.SessionStorage)throw Xy.createStorageNotSupportedError(e);if(!window[e])throw Xy.createStorageNotSupportedError(e)},e.prototype.getItem=function(e){return this.windowStorage.getItem(e)},e.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},e.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(this.windowStorage)},e.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},e}(),cS=function(){function e(){this.cache=new Map}return e.prototype.getItem=function(e){return this.cache.get(e)||null},e.prototype.setItem=function(e,t){this.cache.set(e,t)},e.prototype.removeItem=function(e){this.cache.delete(e)},e.prototype.getKeys=function(){var e=[];return this.cache.forEach(function(t,r){e.push(r)}),e},e.prototype.containsKey=function(e){return this.cache.has(e)},e.prototype.clear=function(){this.cache.clear()},e}(),uS=function(){function e(){}return e.extractBrowserRequestState=function(e,t){if(lb.isEmpty(t))return null;try{return YE.parseRequestState(e,t).libraryState.meta}catch(r){throw Aw.createInvalidStateError(t,r)}},e.parseServerResponseFromHash=function(e){if(!e)return{};var t=new cb(e);return cb.getDeserializedHash(t.getHash())},e}(),dS=function(e){function t(t,r,n,i){var o=e.call(this,t,n)||this;return o.COOKIE_LIFE_MULTIPLIER=864e5,o.cacheConfig=r,o.logger=i,o.internalStorage=new cS,o.browserStorage=o.setupBrowserStorage(o.cacheConfig.cacheLocation),o.temporaryCacheStorage=o.setupTemporaryCacheStorage(o.cacheConfig.cacheLocation),o.migrateCacheEntries(),o}return Vy(t,e),t.prototype.setupBrowserStorage=function(e){switch(e){case by.LocalStorage:case by.SessionStorage:try{return new lS(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=by.MemoryStorage,new cS},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case by.LocalStorage:case by.SessionStorage:try{return new lS(by.SessionStorage)}catch(t){return this.logger.verbose(t),this.internalStorage}case by.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,t=Wm.CACHE_PREFIX+"."+Jm.CLIENT_INFO,r=Wm.CACHE_PREFIX+"."+Jm.ERROR,n=Wm.CACHE_PREFIX+"."+Jm.ERROR_DESC,i=[this.browserStorage.getItem(Wm.CACHE_PREFIX+"."+Jm.ID_TOKEN),this.browserStorage.getItem(t),this.browserStorage.getItem(r),this.browserStorage.getItem(n)];[Jm.ID_TOKEN,Jm.CLIENT_INFO,Jm.ERROR,Jm.ERROR_DESC].forEach(function(t,r){return e.migrateCacheEntry(t,i[r])})},t.prototype.migrateCacheEntry=function(e,t){t&&this.setTemporaryCache(e,t,!0)},t.prototype.validateAndParseJson=function(e){try{var t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(r){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,t){this.browserStorage.setItem(e,t)},t.prototype.getAccount=function(e){var t=this.getItem(e);if(!t)return null;var r=this.validateAndParseJson(t);return r&&EE.isAccountEntity(r)?NE.toObject(new EE,r):null},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var t=e.generateAccountKey();this.setItem(t,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&GE.isIdTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),NE.toObject(new GE,r)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&WE.isAccessTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),NE.toObject(new WE,r)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&$E.isRefreshTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),NE.toObject(new $E,r)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&XE.isAppMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),NE.toObject(new XE,r)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var t=e.generateAppMetadataKey();this.setItem(t,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&oS.isServerTelemetryEntity(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),NE.toObject(new oS,r)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))},t.prototype.getAuthorityMetadata=function(e){var t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&AE.isAuthorityMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),NE.toObject(new AE,r)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter(function(t){return e.isAuthorityMetadata(t)})},t.prototype.setAuthorityMetadata=function(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(Jm.ACTIVE_ACCOUNT),t=this.browserStorage.getItem(e);return t&&this.getAccountInfoByFilter({localAccountId:t})[0]||null},t.prototype.setActiveAccount=function(e){var t=this.generateCacheKey(Jm.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(t,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t))},t.prototype.getAccountInfoByFilter=function(e){return this.getAllAccounts().filter(function(t){return!(e.username&&e.username.toLowerCase()!==t.username.toLowerCase()||e.homeAccountId&&e.homeAccountId!==t.homeAccountId||e.localAccountId&&e.localAccountId!==t.localAccountId||e.tenantId&&e.tenantId!==t.tenantId||e.environment&&e.environment!==t.environment)})},t.prototype.getThrottlingCache=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&aS.isThrottlingEntity(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),NE.toObject(new aS,r)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))},t.prototype.getTemporaryCache=function(e,t){var r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var n=this.getItemCookie(r);if(n)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),n}var i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===by.LocalStorage){var o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i},t.prototype.setTemporaryCache=function(e,t,r){var n=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(n,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(n,t))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return Dy(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){var e=this;this.removeAllAccounts(),this.removeAppMetadata(),this.getKeys().forEach(function(t){(e.browserStorage.containsKey(t)||e.temporaryCacheStorage.containsKey(t))&&(-1!==t.indexOf(Wm.CACHE_PREFIX)||-1!==t.indexOf(e.clientId))&&e.removeItem(t)}),this.internalStorage.clear()},t.prototype.setItemCookie=function(e,t,r){var n=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;";r&&(n+="expires="+this.getCookieExpirationTime(r)+";"),this.cacheConfig.secureCookies&&(n+="Secure;"),document.cookie=n},t.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return""},t.prototype.clearMsalCookies=function(){var e=this,t=Wm.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(r){for(;" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t)){var n=r.split("=")[0];e.clearItemCookie(n)}})},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,"",-1)},t.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):lb.startsWith(e,Wm.CACHE_PREFIX)||lb.startsWith(e,Jm.ADAL_ID_TOKEN)?e:Wm.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var t=YE.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ey.AUTHORITY+"."+t)},t.prototype.generateNonceKey=function(e){var t=YE.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ey.NONCE_IDTOKEN+"."+t)},t.prototype.generateStateKey=function(e){var t=YE.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ey.REQUEST_STATE+"."+t)},t.prototype.getCachedAuthority=function(e){var t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;var n=this.generateAuthorityKey(r);return this.getTemporaryCache(n)},t.prototype.updateCacheEntries=function(e,t,r,n,i){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var o=this.generateStateKey(e);this.setTemporaryCache(o,e,!1);var s=this.generateNonceKey(e);this.setTemporaryCache(s,t,!1);var a=this.generateAuthorityKey(e);if(this.setTemporaryCache(a,r,!1),i){var l={credential:i.homeAccountId,type:HE.HOME_ACCOUNT_ID};this.setTemporaryCache(Ey.CCS_CREDENTIAL,JSON.stringify(l),!0)}else lb.isEmpty(n)||(l={credential:n,type:HE.UPN},this.setTemporaryCache(Ey.CCS_CREDENTIAL,JSON.stringify(l),!0))},t.prototype.resetRequestCache=function(e){var t=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),lb.isEmpty(e)||this.getKeys().forEach(function(r){-1!==r.indexOf(e)&&t.removeItem(r)}),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(Ey.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(Ey.ORIGIN_URI)),this.removeItem(this.generateCacheKey(Ey.URL_HASH)),this.removeItem(this.generateCacheKey(Ey.INTERACTION_STATUS_KEY)),this.removeItem(this.generateCacheKey(Ey.CCS_CREDENTIAL))},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+r),this.resetRequestCache(r||"")}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var t=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(r){if(-1!==r.indexOf(Ey.REQUEST_STATE)){var n=t.temporaryCacheStorage.getItem(r);if(n){var i=uS.extractBrowserRequestState(t.cryptoImpl,n);i&&i.interactionType===e&&(t.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+n),t.resetRequestCache(n))}}}),this.clearMsalCookies()},t.prototype.cacheCodeRequest=function(e,t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var r=t.base64Encode(JSON.stringify(e));this.setTemporaryCache(Ey.REQUEST_PARAMS,r,!0)},t.prototype.getCachedRequest=function(e,t){this.logger.trace("BrowserCacheManager.getCachedRequest called");var r=this.getTemporaryCache(Ey.REQUEST_PARAMS,!0);if(!r)throw E_.createNoTokenRequestCacheError();var n=this.validateAndParseJson(t.base64Decode(r));if(!n)throw E_.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(Ey.REQUEST_PARAMS)),lb.isEmpty(n.authority)){var i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw E_.createNoCachedAuthorityError();n.authority=o}return n},t}(NE),hS={sendGetRequestAsync:function(){return Promise.reject(jy.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(jy.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},pS=function(){function e(){}return e.prototype.navigateInternal=function(t,r){return e.defaultNavigateWindow(t,r)},e.prototype.navigateExternal=function(t,r){return e.defaultNavigateWindow(t,r)},e.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(function(e){setTimeout(function(){e(!0)},t.timeout)})},e}(),fS=function(){function e(e,t,r,n){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.browserRequestLogger=n}return e.prototype.handleCodeResponse=function(e,t,r,n){return xy(this,void 0,void 0,function(){var i,o,s,a,l,c,u;return Fy(this,function(d){switch(d.label){case 0:if(this.browserRequestLogger.verbose("InteractionHandler.handleCodeResponse called"),lb.isEmpty(e))throw E_.createEmptyHashError(e);if(i=this.browserStorage.generateStateKey(t),!(o=this.browserStorage.getTemporaryCache(i)))throw Aw.createStateNotFoundError("Cached State");return s=this.authModule.handleFragmentResponse(e,o),a=this.browserStorage.generateNonceKey(o),l=this.browserStorage.getTemporaryCache(a),this.authCodeRequest.code=s.code,s.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(s.cloud_instance_host_name,r,n)]:[3,2];case 1:d.sent(),d.label=2;case 2:return s.nonce=l||void 0,s.state=o,s.client_info?this.authCodeRequest.clientInfo=s.client_info:(c=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=c),[4,this.authModule.acquireToken(this.authCodeRequest,s)];case 3:return u=d.sent(),this.browserStorage.cleanRequestByState(t),[2,u]}})})},e.prototype.updateTokenEndpointAuthority=function(e,t,r){return xy(this,void 0,void 0,function(){var n;return Fy(this,function(i){switch(i.label){case 0:return[4,OE.createDiscoveredInstance("https://"+e+"/"+t.tenant+"/",r,this.browserStorage,t.options)];case 1:return n=i.sent(),this.authModule.updateAuthority(n),[2]}})})},e.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(Ey.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},e}(),gS=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.browserCrypto=o,s}return Vy(t,e),t.prototype.initiateAuthRequest=function(e,t){return xy(this,void 0,void 0,function(){var r;return Fy(this,function(n){switch(n.label){case 0:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest called"),lb.isEmpty(e)?[3,7]:(t.redirectStartPage&&(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Ey.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Ey.INTERACTION_STATUS_KEY,"interaction_in_progress",!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.browserRequestLogger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),r={apiId:Sy.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1},"function"!=typeof t.onRedirectNavigate?[3,4]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===t.onRedirectNavigate(e)?[3,2]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,t.navigationClient.navigateExternal(e,r)])));case 1:return n.sent(),[2];case 2:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,t.navigationClient.navigateExternal(e,r)];case 5:return n.sent(),[2];case 6:return[3,8];case 7:throw this.browserRequestLogger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),E_.createEmptyNavigationUriError();case 8:return[2]}})})},t.prototype.handleCodeResponse=function(e,t,r,n,i){return xy(this,void 0,void 0,function(){var o,s,a,l,c,u,d;return Fy(this,function(h){switch(h.label){case 0:if(this.browserRequestLogger.verbose("RedirectHandler.handleCodeResponse called"),lb.isEmpty(e))throw E_.createEmptyHashError(e);if(this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ey.INTERACTION_STATUS_KEY)),o=this.browserStorage.generateStateKey(t),!(s=this.browserStorage.getTemporaryCache(o)))throw Aw.createStateNotFoundError("Cached State");return a=this.authModule.handleFragmentResponse(e,s),l=this.browserStorage.generateNonceKey(s),c=this.browserStorage.getTemporaryCache(l),this.authCodeRequest.code=a.code,a.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(a.cloud_instance_host_name,r,n)]:[3,2];case 1:h.sent(),h.label=2;case 2:return a.nonce=c||void 0,a.state=s,a.client_info?this.authCodeRequest.clientInfo=a.client_info:(u=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=u),i&&gE.removeThrottle(this.browserStorage,i,this.authCodeRequest.authority,this.authCodeRequest.scopes),[4,this.authModule.acquireToken(this.authCodeRequest,a)];case 3:return d=h.sent(),this.browserStorage.cleanRequestByState(t),[2,d]}})})},t}(fS),mS=function(){function e(e,t){this.browserStorage=e,this.logger=t,this.unloadWindow=this.unloadWindow.bind(this)}return e.prototype.openPopup=function(t,r,n){try{var i=void 0;if(n?(i=n,this.logger.verbosePii("Navigating popup window to: "+t),i.location.assign(t)):void 0===n&&(this.logger.verbosePii("Opening popup window to: "+t),i=e.openSizedPopup(t,r)),!i)throw E_.createEmptyWindowCreatedError();return i.focus&&i.focus(),this.currentWindow=i,window.addEventListener("beforeunload",this.unloadWindow),i}catch(o){throw this.logger.error("error opening popup "+o.message),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ey.INTERACTION_STATUS_KEY)),E_.createPopupWindowError(o.toString())}},e.openSizedPopup=function(e,t){var r=window.screenLeft?window.screenLeft:window.screenX,n=window.screenTop?window.screenTop:window.screenY,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=Math.max(0,i/2-241.5+r),a=Math.max(0,o/2-300+n);return window.open(e,t,"width=483, height=600, top="+a+", left="+s+", scrollbars=yes")},e.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(Cy.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},e.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ey.INTERACTION_STATUS_KEY))},e.prototype.monitorPopupForSameOrigin=function(e){var t=this;return new Promise(function(r,n){var i=setInterval(function(){if(e.closed)return t.cleanPopup(),clearInterval(i),void n(E_.createUserCancelledError());var o=Wm.EMPTY_STRING;try{o=e.location.href}catch(s){}lb.isEmpty(o)||"about:blank"===o||(clearInterval(i),r())},50)})},e.generatePopupName=function(e,t){return"msal."+e+"."+t.scopes.join("-")+"."+t.authority+"."+t.correlationId},e.generateLogoutPopupName=function(e,t){return"msal."+e+"."+(t.account&&t.account.homeAccountId)+"."+t.correlationId},e}(),yS=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.popupUtils=new mS(r,i),o}return Vy(t,e),t.prototype.initiateAuthRequest=function(e,t){if(lb.isEmpty(e))throw this.browserRequestLogger.error("Navigate url is empty"),E_.createEmptyNavigationUriError();return this.browserStorage.setTemporaryCache(Ey.INTERACTION_STATUS_KEY,"interaction_in_progress",!0),this.browserRequestLogger.infoPii("Navigate to: "+e),this.popupUtils.openPopup(e,t.popupName,t.popup)},t.prototype.monitorPopupForHash=function(e){var t=this;return this.popupUtils.monitorPopupForSameOrigin(e).then(function(){var r=e.location.hash;if(T_.clearHash(e),t.popupUtils.cleanPopup(e),!r)throw E_.createEmptyHashError(e.location.href);if(cb.hashContainsKnownProperties(r))return r;throw E_.createHashDoesNotContainKnownPropertiesError()})},t}(fS),vS=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.navigateFrameWait=o,s}return Vy(t,e),t.prototype.initiateAuthRequest=function(e){return xy(this,void 0,void 0,function(){var t;return Fy(this,function(r){switch(r.label){case 0:if(lb.isEmpty(e))throw this.browserRequestLogger.info("Navigate url is empty"),E_.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(e)]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=this.loadFrameSync(e),r.label=3;case 3:return[2,t]}})})},t.prototype.monitorIframeForHash=function(e,t){var r=this;return new Promise(function(n,i){t<6e3&&r.browserRequestLogger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+t+"ms) than the default (6000ms). This may result in timeouts.");var o=window.performance.now()+t,s=setInterval(function(){if(window.performance.now()>o)return r.removeHiddenIframe(e),clearInterval(s),void i(E_.createMonitorIframeTimeoutError());var t=Wm.EMPTY_STRING,a=e.contentWindow;try{t=a?a.location.href:Wm.EMPTY_STRING}catch(c){}if(!lb.isEmpty(t)){var l=a?a.location.hash:Wm.EMPTY_STRING;if(cb.hashContainsKnownProperties(l))return r.removeHiddenIframe(e),clearInterval(s),void n(l)}},50)})},t.prototype.loadFrame=function(e){var t=this;return new Promise(function(r,n){var i=t.createHiddenIframe();setTimeout(function(){i?(i.src=e,r(i)):n("Unable to load iframe")},t.navigateFrameWait)})},t.prototype.loadFrameSync=function(e){var t=this.createHiddenIframe();return t.src=e,t},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(fS),wS="@azure/msal-browser",bS="2.16.1",_S=function(){function e(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t}return e.prototype.addEventCallback=function(e){if("undefined"!=typeof window){var t=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t}return null},e.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},e.prototype.emitEvent=function(e,t,r,n){var i=this;if("undefined"!=typeof window){var o={eventType:e,interactionType:t||null,payload:r||null,error:n||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach(function(t,r){i.logger.verbose("Emitting event to callback "+r+": "+e),t.apply(null,[o])})}},e}(),ES=function(e){function t(t){var r=e.call(this,t)||this;return r.activeSilentTokenRequests=new Map,r}return Vy(t,e),t.prototype.loginRedirect=function(e){return xy(this,void 0,void 0,function(){return Fy(this,function(t){return this.logger.verbose("loginRedirect called"),[2,this.acquireTokenRedirect(e||Ay)]})})},t.prototype.loginPopup=function(e){return this.logger.verbose("loginPopup called"),this.acquireTokenPopup(e||Ay)},t.prototype.acquireTokenSilent=function(e){return xy(this,void 0,void 0,function(){var t,r,n,i,o=this;return Fy(this,function(s){if(this.preflightBrowserEnvironmentCheck(Cy.Silent),this.logger.verbose("acquireTokenSilent called",e.correlationId),!(t=e.account||this.getActiveAccount()))throw E_.createNoAccountError();return r=JSON.stringify({clientId:this.config.auth.clientId,authority:e.authority||"",scopes:e.scopes,homeAccountIdentifier:t.homeAccountId}),void 0===(n=this.activeSilentTokenRequests.get(r))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",e.correlationId),i=this.acquireTokenSilentAsync(e,t).then(function(e){return o.activeSilentTokenRequests.delete(r),e}).catch(function(e){throw o.activeSilentTokenRequests.delete(r),e}),this.activeSilentTokenRequests.set(r,i),[2,i]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",e.correlationId),[2,n])})})},t.prototype.acquireTokenSilentAsync=function(e,t){return xy(this,void 0,void 0,function(){var r,n,i,o,s,a,l;return Fy(this,function(c){switch(c.label){case 0:r=Ny(Ny(Ny({},e),this.initializeBaseRequest(e)),{account:t,forceRefresh:e.forceRefresh||!1}),n=this.logger.clone(wS,bS,r.correlationId),this.eventHandler.emitEvent(Oy.ACQUIRE_TOKEN_START,Cy.Silent,e),c.label=1;case 1:return c.trys.push([1,4,,9]),i=this.initializeServerTelemetryManager(Sy.acquireTokenSilent_silentFlow,r.correlationId),[4,this.createSilentFlowClient(i,r.authority,r.correlationId)];case 2:return o=c.sent(),n.verbose("Silent auth client created"),[4,o.acquireCachedToken(r)];case 3:return s=c.sent(),this.eventHandler.emitEvent(Oy.ACQUIRE_TOKEN_SUCCESS,Cy.Silent,s),[2,s];case 4:c.sent(),c.label=5;case 5:return c.trys.push([5,7,,8]),[4,this.acquireTokenByRefreshToken(r)];case 6:return a=c.sent(),this.eventHandler.emitEvent(Oy.ACQUIRE_TOKEN_SUCCESS,Cy.Silent,a),[2,a];case 7:throw l=c.sent(),this.eventHandler.emitEvent(Oy.ACQUIRE_TOKEN_FAILURE,Cy.Silent,null,l),l;case 8:return[3,9];case 9:return[2]}})})},t}(function(){function e(e){this.isBrowserEnvironment="undefined"!=typeof window,this.config=function(e,t){var r=e.auth,n=e.cache,i=e.system,o={clientId:"",authority:""+Wm.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:"",postLogoutRedirectUri:"",navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:CE.AAD},s={cacheLocation:by.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},a={loggerCallback:function(){},logLevel:dE.Info,piiLoggingEnabled:!1},l=Ny(Ny({},FE),{loggerOptions:a,networkClient:t?T_.getBrowserNetworkClient():hS,navigationClient:new pS,loadFrameTimeout:0,windowHashTimeout:i&&i.loadFrameTimeout||6e4,iframeHashTimeout:i&&i.loadFrameTimeout||6e3,navigateFrameWait:t&&T_.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1});return{auth:Ny(Ny({},o),r),cache:Ny(Ny({},s),n),system:Ny(Ny({},l),i)}}(e,this.isBrowserEnvironment),this.logger=new hE(this.config.system.loggerOptions,wS,bS),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.browserCrypto=this.isBrowserEnvironment?new uE:pE,this.eventHandler=new _S(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new dS(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(e,t){return new dS(e,{cacheLocation:by.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},pE,t)}(this.config.auth.clientId,this.logger)}return e.prototype.handleRedirectPromise=function(e){return xy(this,void 0,void 0,function(){var t,r,n,i=this;return Fy(this,function(o){return this.eventHandler.emitEvent(Oy.HANDLE_REDIRECT_START,Cy.Redirect),this.logger.verbose("handleRedirectPromise called"),t=this.getAllAccounts(),this.isBrowserEnvironment?(void 0===(n=this.redirectResponse.get(r=e||Wm.EMPTY_STRING))?(this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),n=this.handleRedirectResponse(e).then(function(e){return e&&(t.length<i.getAllAccounts().length?(i.eventHandler.emitEvent(Oy.LOGIN_SUCCESS,Cy.Redirect,e),i.logger.verbose("handleRedirectResponse returned result, login success")):(i.eventHandler.emitEvent(Oy.ACQUIRE_TOKEN_SUCCESS,Cy.Redirect,e),i.logger.verbose("handleRedirectResponse returned result, acquire token success"))),i.eventHandler.emitEvent(Oy.HANDLE_REDIRECT_END,Cy.Redirect),e}).catch(function(e){throw i.eventHandler.emitEvent(t.length>0?Oy.ACQUIRE_TOKEN_FAILURE:Oy.LOGIN_FAILURE,Cy.Redirect,null,e),i.eventHandler.emitEvent(Oy.HANDLE_REDIRECT_END,Cy.Redirect),e}),this.redirectResponse.set(r,n)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,n]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},e.prototype.handleRedirectResponse=function(e){return xy(this,void 0,void 0,function(){var t,r,n,i,o,s,a,l,c;return Fy(this,function(u){switch(u.label){case 0:if(!this.interactionInProgress())return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(t=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(Cy.Redirect),[2,null];try{r=this.validateAndExtractStateFromHash(t,Cy.Redirect),T_.clearHash(window),this.logger.verbose("State extracted from hash")}catch(d){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+d),this.browserStorage.cleanRequestByInteractionType(Cy.Redirect),[2,null]}return n=this.browserStorage.getTemporaryCache(Ey.ORIGIN_URI,!0)||"",i=cb.removeHashFromUrl(n),o=cb.removeHashFromUrl(window.location.href),i===o&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(t,r)]):[3,2];case 1:return s=u.sent(),n.indexOf("#")>-1&&T_.replaceHash(n),[2,s];case 2:return this.config.auth.navigateToLoginRequestUrl?[3,3]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(t,r)]);case 3:return T_.isInIframe()?[3,8]:(this.browserStorage.setTemporaryCache(Ey.URL_HASH,t,!0),a={apiId:Sy.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},l=!0,n&&"null"!==n?[3,5]:(c=T_.getHomepage(),this.browserStorage.setTemporaryCache(Ey.ORIGIN_URI,c,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(c,a)]));case 4:return l=u.sent(),[3,7];case 5:return this.logger.verbose("Navigating to loginRequestUrl: "+n),[4,this.navigationClient.navigateInternal(n,a)];case 6:l=u.sent(),u.label=7;case 7:if(!l)return[2,this.handleHash(t,r)];u.label=8;case 8:return[2,null]}})})},e.prototype.getRedirectResponseHash=function(e){this.logger.verbose("getRedirectResponseHash called");var t=cb.hashContainsKnownProperties(e),r=this.browserStorage.getTemporaryCache(Ey.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ey.URL_HASH)),t?(this.logger.verbose("Hash contains known properties, returning response hash"),e):(this.logger.verbose("Hash does not contain known properties, returning cached hash"),r)},e.prototype.validateAndExtractStateFromHash=function(e,t,r){this.logger.verbose("validateAndExtractStateFromHash called",r);var n=cb.getDeserializedHash(e);if(!n.state)throw E_.createHashDoesNotContainStateError();var i=uS.extractBrowserRequestState(this.browserCrypto,n.state);if(!i)throw E_.createUnableToParseStateError();if(i.interactionType!==t)throw E_.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",r),n.state},e.prototype.handleHash=function(e,t){return xy(this,void 0,void 0,function(){var r,n,i,o,s,a;return Fy(this,function(l){switch(l.label){case 0:r=this.browserStorage.getCachedRequest(t,this.browserCrypto),(n=this.logger.clone(wS,bS,r.correlationId)).verbose("handleHash called, retrieved cached request"),i=this.initializeServerTelemetryManager(Sy.handleRedirectPromise,r.correlationId),l.label=1;case 1:if(l.trys.push([1,4,,5]),!(o=this.browserStorage.getCachedAuthority(t)))throw E_.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(i,o,r.correlationId)];case 2:return s=l.sent(),n.verbose("Auth code client created"),[4,new gS(s,this.browserStorage,r,n,this.browserCrypto).handleCodeResponse(e,t,s.authority,this.networkClient,this.config.auth.clientId)];case 3:return[2,l.sent()];case 4:throw a=l.sent(),i.cacheFailedRequest(a),this.browserStorage.cleanRequestByInteractionType(Cy.Redirect),a;case 5:return[2]}})})},e.prototype.acquireTokenRedirect=function(e){return xy(this,void 0,void 0,function(){var t,r,n,i,o,s,a,l,c,u;return Fy(this,function(d){switch(d.label){case 0:this.preflightBrowserEnvironmentCheck(Cy.Redirect),this.logger.verbose("acquireTokenRedirect called"),t=this.getAllAccounts().length>0,this.eventHandler.emitEvent(t?Oy.ACQUIRE_TOKEN_START:Oy.LOGIN_START,Cy.Redirect,e),r=this.preflightInteractiveRequest(e,Cy.Redirect),n=this.logger.clone(wS,bS,r.correlationId),i=this.initializeServerTelemetryManager(Sy.acquireTokenRedirect,r.correlationId),d.label=1;case 1:return d.trys.push([1,5,,6]),[4,this.initializeAuthorizationCodeRequest(r)];case 2:return o=d.sent(),[4,this.createAuthCodeClient(i,r.authority,r.correlationId)];case 3:return s=d.sent(),n.verbose("Auth code client created"),a=new gS(s,this.browserStorage,o,n,this.browserCrypto),[4,s.getAuthCodeUrl(r)];case 4:return l=d.sent(),c=this.getRedirectStartPage(e.redirectStartPage),n.verbosePii("Redirect start page: "+c),[2,a.initiateAuthRequest(l,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate})];case 5:throw u=d.sent(),this.eventHandler.emitEvent(t?Oy.ACQUIRE_TOKEN_FAILURE:Oy.LOGIN_FAILURE,Cy.Redirect,null,u),i.cacheFailedRequest(u),this.browserStorage.cleanRequestByState(r.state),u;case 6:return[2]}})})},e.prototype.acquireTokenPopup=function(e){var t;try{this.preflightBrowserEnvironmentCheck(Cy.Popup),this.logger.verbose("acquireTokenPopup called",e.correlationId),t=this.preflightInteractiveRequest(e,Cy.Popup)}catch(i){return Promise.reject(i)}var r=mS.generatePopupName(this.config.auth.clientId,t);if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token",t.correlationId),this.acquireTokenPopupAsync(t,r);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token",t.correlationId);var n=mS.openSizedPopup("about:blank",r);return this.acquireTokenPopupAsync(t,r,n)},e.prototype.acquireTokenPopupAsync=function(e,t,r){return xy(this,void 0,void 0,function(){var n,i,o,s,a,l,c,u,d,h,p,f,g;return Fy(this,function(m){switch(m.label){case 0:this.logger.verbose("acquireTokenPopupAsync called",e.correlationId),n=this.getAllAccounts(),this.eventHandler.emitEvent(n.length>0?Oy.ACQUIRE_TOKEN_START:Oy.LOGIN_START,Cy.Popup,e),i=this.logger.clone(wS,bS,e.correlationId),o=this.initializeServerTelemetryManager(Sy.acquireTokenPopup,e.correlationId),m.label=1;case 1:return m.trys.push([1,7,,8]),[4,this.initializeAuthorizationCodeRequest(e)];case 2:return s=m.sent(),[4,this.createAuthCodeClient(o,e.authority,e.correlationId)];case 3:return a=m.sent(),i.verbose("Auth code client created"),[4,a.getAuthCodeUrl(e)];case 4:return l=m.sent(),c=new yS(a,this.browserStorage,s,i),u=c.initiateAuthRequest(l,{popup:r,popupName:t}),this.eventHandler.emitEvent(Oy.POPUP_OPENED,Cy.Popup,{popupWindow:u},null),[4,c.monitorPopupForHash(u)];case 5:return d=m.sent(),h=this.validateAndExtractStateFromHash(d,Cy.Popup,e.correlationId),gE.removeThrottle(this.browserStorage,this.config.auth.clientId,s.authority,s.scopes),[4,c.handleCodeResponse(d,h,a.authority,this.networkClient)];case 6:return p=m.sent(),f=n.length<this.getAllAccounts().length,this.eventHandler.emitEvent(f?Oy.LOGIN_SUCCESS:Oy.ACQUIRE_TOKEN_SUCCESS,Cy.Popup,p),[2,p];case 7:throw g=m.sent(),this.eventHandler.emitEvent(n.length>0?Oy.ACQUIRE_TOKEN_FAILURE:Oy.LOGIN_FAILURE,Cy.Popup,null,g),r&&r.close(),o.cacheFailedRequest(g),this.browserStorage.cleanRequestByState(e.state),g;case 8:return[2]}})})},e.prototype.ssoSilent=function(e){return xy(this,void 0,void 0,function(){var t,r;return Fy(this,function(n){switch(n.label){case 0:this.preflightBrowserEnvironmentCheck(Cy.Silent),this.logger.verbose("ssoSilent called",e.correlationId),this.eventHandler.emitEvent(Oy.SSO_SILENT_START,Cy.Silent,e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.acquireTokenByIframe(e,Sy.ssoSilent)];case 2:return t=n.sent(),this.eventHandler.emitEvent(Oy.SSO_SILENT_SUCCESS,Cy.Silent,t),[2,t];case 3:throw r=n.sent(),this.eventHandler.emitEvent(Oy.SSO_SILENT_FAILURE,Cy.Silent,null,r),r;case 4:return[2]}})})},e.prototype.acquireTokenByIframe=function(e,t){return xy(this,void 0,void 0,function(){var r,n,i,o,s,a,l;return Fy(this,function(c){switch(c.label){case 0:if(this.logger.verbose("acquireTokenByIframe called",e.correlationId),lb.isEmpty(e.loginHint)&&lb.isEmpty(e.sid)&&(!e.account||lb.isEmpty(e.account.username)))throw E_.createSilentSSOInsufficientInfoError();if(e.prompt&&e.prompt!==ty.NONE)throw E_.createSilentPromptValueError(e.prompt);r=this.initializeAuthorizationRequest(Ny(Ny({},e),{prompt:ty.NONE}),Cy.Silent),n=this.logger.clone(wS,bS,r.correlationId),i=this.initializeServerTelemetryManager(t,r.correlationId),c.label=1;case 1:return c.trys.push([1,6,,7]),[4,this.initializeAuthorizationCodeRequest(r)];case 2:return o=c.sent(),[4,this.createAuthCodeClient(i,r.authority,r.correlationId)];case 3:return s=c.sent(),n.verbose("Auth code client created"),[4,s.getAuthCodeUrl(r)];case 4:return a=c.sent(),[4,this.silentTokenHelper(a,o,s,n)];case 5:return[2,c.sent()];case 6:throw l=c.sent(),i.cacheFailedRequest(l),this.browserStorage.cleanRequestByState(r.state),l;case 7:return[2]}})})},e.prototype.acquireTokenByRefreshToken=function(e){return xy(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return Fy(this,function(l){switch(l.label){case 0:this.eventHandler.emitEvent(Oy.ACQUIRE_TOKEN_NETWORK_START,Cy.Silent,e),T_.blockReloadInHiddenIframes(),t=Ny(Ny({},e),this.initializeBaseRequest(e)),r=this.logger.clone(wS,bS,t.correlationId),n=this.initializeServerTelemetryManager(Sy.acquireTokenSilent_silentFlow,t.correlationId),l.label=1;case 1:return l.trys.push([1,4,,7]),[4,this.createRefreshTokenClient(n,t.authority,t.correlationId)];case 2:return i=l.sent(),r.verbose("Refresh token client created"),[4,i.acquireTokenByRefreshToken(t)];case 3:return[2,l.sent()];case 4:return o=l.sent(),n.cacheFailedRequest(o),s=o instanceof vE,a="invalid_grant"===o.errorCode,o instanceof fE&&a&&!s?(r.verbose("Refresh token expired or invalid, attempting acquire token by iframe"),[4,this.acquireTokenByIframe(e,Sy.acquireTokenSilent_authCode)]):[3,6];case 5:return[2,l.sent()];case 6:throw o;case 7:return[2]}})})},e.prototype.silentTokenHelper=function(e,t,r,n){return xy(this,void 0,void 0,function(){var i,o,s,a;return Fy(this,function(l){switch(l.label){case 0:return[4,(i=new vS(r,this.browserStorage,t,n,this.config.system.navigateFrameWait)).initiateAuthRequest(e)];case 1:return o=l.sent(),[4,i.monitorIframeForHash(o,this.config.system.iframeHashTimeout)];case 2:return s=l.sent(),a=this.validateAndExtractStateFromHash(s,Cy.Silent,t.correlationId),[2,i.handleCodeResponse(s,a,r.authority,this.networkClient)]}})})},e.prototype.logout=function(e){return xy(this,void 0,void 0,function(){return Fy(this,function(t){return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead."),[2,this.logoutRedirect(e)]})})},e.prototype.logoutRedirect=function(e){return xy(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return Fy(this,function(l){switch(l.label){case 0:this.preflightBrowserEnvironmentCheck(Cy.Redirect),this.logger.verbose("logoutRedirect called",null==e?void 0:e.correlationId),t=this.initializeLogoutRequest(e),r=this.logger.clone(wS,bS,t.correlationId),n=this.initializeServerTelemetryManager(Sy.logout,t.correlationId),l.label=1;case 1:return l.trys.push([1,9,,10]),this.eventHandler.emitEvent(Oy.LOGOUT_START,Cy.Redirect,e),[4,this.createAuthCodeClient(n,e&&e.authority,null==t?void 0:t.correlationId)];case 2:return i=l.sent(),r.verbose("Auth code client created"),o=i.getLogoutUri(t),(!t.account||EE.accountInfoIsEqual(t.account,this.getActiveAccount(),!1))&&(r.verbose("Setting active account to null"),this.setActiveAccount(null)),s={apiId:Sy.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.eventHandler.emitEvent(Oy.LOGOUT_SUCCESS,Cy.Redirect,t),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(o)?[3,4]:(r.verbose("Logout onRedirectNavigate did not return false, navigating"),[4,this.navigationClient.navigateExternal(o,s)]):[3,6];case 3:return l.sent(),[2];case 4:r.verbose("Logout onRedirectNavigate returned false, stopping navigation"),l.label=5;case 5:return[3,8];case 6:return[4,this.navigationClient.navigateExternal(o,s)];case 7:return l.sent(),[2];case 8:return[3,10];case 9:throw a=l.sent(),n.cacheFailedRequest(a),this.eventHandler.emitEvent(Oy.LOGOUT_FAILURE,Cy.Redirect,null,a),a;case 10:return this.eventHandler.emitEvent(Oy.LOGOUT_END,Cy.Redirect),[2]}})})},e.prototype.logoutPopup=function(e){var t;try{this.preflightBrowserEnvironmentCheck(Cy.Popup),this.logger.verbose("logoutPopup called",null==e?void 0:e.correlationId),t=this.initializeLogoutRequest(e)}catch(i){return Promise.reject(i)}var r,n=mS.generateLogoutPopupName(this.config.auth.clientId,t);return this.config.system.asyncPopups?this.logger.verbose("asyncPopups set to true",t.correlationId):(this.logger.verbose("asyncPopup set to false, opening popup",t.correlationId),r=mS.openSizedPopup("about:blank",n)),this.logoutPopupAsync(t,n,e&&e.authority,r,e&&e.mainWindowRedirectUri)},e.prototype.logoutPopupAsync=function(e,t,r,n,i){return xy(this,void 0,void 0,function(){var o,s,a,l,c,u,d,h,p,f;return Fy(this,function(g){switch(g.label){case 0:this.logger.verbose("logoutPopupAsync called",e.correlationId),this.eventHandler.emitEvent(Oy.LOGOUT_START,Cy.Popup,e),o=this.logger.clone(wS,bS,e.correlationId),s=this.initializeServerTelemetryManager(Sy.logoutPopup,e.correlationId),g.label=1;case 1:return g.trys.push([1,7,,8]),this.browserStorage.setTemporaryCache(Ey.INTERACTION_STATUS_KEY,"interaction_in_progress",!0),[4,this.createAuthCodeClient(s,r,e.correlationId)];case 2:a=g.sent(),o.verbose("Auth code client created"),l=a.getLogoutUri(e),(!e.account||EE.accountInfoIsEqual(e.account,this.getActiveAccount(),!1))&&(o.verbose("Setting active account to null"),this.setActiveAccount(null)),this.eventHandler.emitEvent(Oy.LOGOUT_SUCCESS,Cy.Popup,e),c=new mS(this.browserStorage,this.logger),u=c.openPopup(l,t,n),this.eventHandler.emitEvent(Oy.POPUP_OPENED,Cy.Popup,{popupWindow:u},null),g.label=3;case 3:return g.trys.push([3,5,,6]),[4,c.monitorPopupForSameOrigin(u)];case 4:return g.sent(),o.verbose("Popup successfully redirected to postLogoutRedirectUri"),[3,6];case 5:return d=g.sent(),o.verbose("Error occurred while monitoring popup for same origin. Session on server may remain active. Error: "+d),[3,6];case 6:return c.cleanPopup(u),i?(h={apiId:Sy.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=cb.getAbsoluteUrl(i,T_.getCurrentUri()),o.verbose("Redirecting main window to url specified in the request"),o.verbosePii("Redirecing main window to: "+p),this.navigationClient.navigateInternal(p,h)):o.verbose("No main window navigation requested"),[3,8];case 7:throw f=g.sent(),n&&n.close(),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ey.INTERACTION_STATUS_KEY)),this.eventHandler.emitEvent(Oy.LOGOUT_FAILURE,Cy.Popup,null,f),s.cacheFailedRequest(f),f;case 8:return this.eventHandler.emitEvent(Oy.LOGOUT_END,Cy.Popup),[2]}})})},e.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},e.prototype.getAccountByUsername=function(e){var t=this.getAllAccounts();return!lb.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+e),t.filter(function(t){return t.username.toLowerCase()===e.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},e.prototype.getAccountByHomeId=function(e){var t=this.getAllAccounts();return!lb.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+e),t.filter(function(t){return t.homeAccountId===e})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},e.prototype.getAccountByLocalId=function(e){var t=this.getAllAccounts();return!lb.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+e),t.filter(function(t){return t.localAccountId===e})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},e.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},e.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},e.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri||T_.getCurrentUri();return cb.getAbsoluteUrl(t,T_.getCurrentUri())},e.prototype.getRedirectStartPage=function(e){var t=e||window.location.href;return cb.getAbsoluteUrl(t,T_.getCurrentUri())},e.prototype.getDiscoveredAuthority=function(e,t){return xy(this,void 0,void 0,function(){var r;return Fy(this,function(n){switch(n.label){case 0:return this.logger.verbose("getDiscoveredAuthority called",t),r={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority",t),[4,OE.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,r)]):[3,2];case 1:return[2,n.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority",t),[4,OE.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,r)];case 3:return[2,n.sent()]}})})},e.prototype.interactionInProgress=function(){return"interaction_in_progress"===this.browserStorage.getTemporaryCache(Ey.INTERACTION_STATUS_KEY,!0)},e.prototype.createAuthCodeClient=function(e,t,r){return xy(this,void 0,void 0,function(){var n;return Fy(this,function(i){switch(i.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=i.sent(),[2,new rS(n)]}})})},e.prototype.createSilentFlowClient=function(e,t,r){return xy(this,void 0,void 0,function(){var n;return Fy(this,function(i){switch(i.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=i.sent(),[2,new iS(n)]}})})},e.prototype.createRefreshTokenClient=function(e,t,r){return xy(this,void 0,void 0,function(){var n;return Fy(this,function(i){switch(i.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=i.sent(),[2,new nS(n)]}})})},e.prototype.getClientConfiguration=function(e,t,r){return xy(this,void 0,void 0,function(){var n;return Fy(this,function(i){switch(i.label){case 0:return this.logger.verbose("getClientConfiguration called",r),[4,this.getDiscoveredAuthority(t,r)];case 1:return n=i.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:n,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:r},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:"msal.js.browser",version:bS,cpu:"",os:""}}]}})})},e.prototype.preflightInteractiveRequest=function(e,t){if(this.logger.verbose("preflightInteractiveRequest called, validating app environment",null==e?void 0:e.correlationId),T_.blockReloadInHiddenIframes(),this.interactionInProgress())throw E_.createInteractionInProgressError();return this.initializeAuthorizationRequest(e,t)},e.prototype.preflightBrowserEnvironmentCheck=function(e){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),T_.blockNonBrowserEnvironment(this.isBrowserEnvironment),T_.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),T_.blockReloadInHiddenIframes(),T_.blockAcquireTokenInPopups(),e===Cy.Redirect&&this.config.cache.cacheLocation===by.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Xy.createInMemoryRedirectUnavailableError()},e.prototype.initializeBaseRequest=function(e){this.logger.verbose("Initializing BaseAuthRequest",e.correlationId);var t=e.authority||this.config.auth.authority,r=Dy(e&&e.scopes||[]),n=e&&e.correlationId||this.browserCrypto.createNewGuid();return e.authenticationScheme?this.logger.verbose('Authentication Scheme set to "'+e.authenticationScheme+'" as configured in Auth request',e.correlationId):(e.authenticationScheme=fy.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request',e.correlationId)),Ny(Ny({},e),{correlationId:n,authority:t,scopes:r})},e.prototype.initializeServerTelemetryManager=function(e,t,r){return this.logger.verbose("initializeServerTelemetryManager called",t),new sS({clientId:this.config.auth.clientId,correlationId:t,apiId:e,forceRefresh:r||!1,wrapperSKU:this.wrapperSKU,wrapperVer:this.wrapperVer},this.browserStorage)},e.prototype.initializeAuthorizationRequest=function(e,t){this.logger.verbose("initializeAuthorizationRequest called",e.correlationId);var r=this.getRedirectUri(e.redirectUri),n=YE.setRequestState(this.browserCrypto,e&&e.state||"",{interactionType:t}),i=Ny(Ny({},this.initializeBaseRequest(e)),{redirectUri:r,state:n,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:iy.FRAGMENT}),o=e.account||this.getActiveAccount();if(o&&(this.logger.verbose("Setting validated request account"),this.logger.verbosePii("Setting validated request account: "+o),i.account=o),lb.isEmpty(i.loginHint)){var s=this.browserStorage.getTemporaryCache(Jm.ADAL_ID_TOKEN);if(s){var a=new VE(s,this.browserCrypto);this.browserStorage.removeItem(Jm.ADAL_ID_TOKEN),a.claims&&a.claims.upn&&(this.logger.verbose("No SSO params used and ADAL token retrieved, setting ADAL upn as loginHint"),i.loginHint=a.claims.upn)}}return this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||"",i.account||null),i},e.prototype.initializeAuthorizationCodeRequest=function(e){return xy(this,void 0,void 0,function(){var t,r;return Fy(this,function(n){switch(n.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return t=n.sent(),r=Ny(Ny({},e),{redirectUri:e.redirectUri,code:"",codeVerifier:t.verifier}),e.codeChallenge=t.challenge,e.codeChallengeMethod=Wm.S256_CODE_CHALLENGE_METHOD,[2,r]}})})},e.prototype.initializeLogoutRequest=function(e){if(this.logger.verbose("initializeLogoutRequest called",null==e?void 0:e.correlationId),this.interactionInProgress())throw E_.createInteractionInProgressError();var t=Ny({correlationId:this.browserCrypto.createNewGuid()},e);return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=cb.getAbsoluteUrl(e.postLogoutRedirectUri,T_.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=cb.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,T_.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=cb.getAbsoluteUrl(T_.getCurrentUri(),T_.getCurrentUri())),t},e.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},e.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.initializeWrapperLibrary=function(e,t){this.wrapperSKU=e,this.wrapperVer=t},e.prototype.setNavigationClient=function(e){this.navigationClient=e},e}());let SS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=ue({imports:[[]]}),e})();const CS=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1;let TS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ke({type:e,bootstrap:[X_,F_]}),e.\u0275inj=ue({providers:[{provide:vh,useClass:x_,multi:!0},N_],imports:[[lc,Gd,J_,cp,up,hp,Oh,SS,M_.forRoot(new ES({auth:{clientId:"ebc32ed8-3848-40cb-aa92-cd43b1b5054c",authority:"https://login.microsoftonline.com/e4e1abd9-eac7-4a71-ab52-da5c998aa7ba"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:CS}}),{interactionType:Cy.Popup,authRequest:{scopes:["user.read","https://analysis.windows.net/powerbi/api/Workspace.Read.All","https://analysis.windows.net/powerbi/api/Dashboard.Read.All","https://analysis.windows.net/powerbi/api/Report.Read.All"]}},{interactionType:Cy.Popup,protectedResourceMap:new Map([["https://graph.microsoft.com/v1.0/me",["user.read"]],[B_+"*",["https://analysis.windows.net/powerbi/api/Workspace.Read.All","https://analysis.windows.net/powerbi/api/Dashboard.Read.All","https://analysis.windows.net/powerbi/api/Report.Read.All"]]])})]]}),e})();(function(){if(Oa)throw new Error("Cannot enable prod mode after platform setup.");Ia=!1})(),sc().bootstrapModule(TS).catch(e=>console.error(e))}},function(e){e(e.s=9771)}]);